diff -Nuar rkward-0.5.3.orig/ChangeLog rkward-0.5.3/ChangeLog
--- rkward-0.5.3.orig/ChangeLog	2010-04-27 10:59:57.000000000 +0300
+++ rkward-0.5.3/ChangeLog	2010-09-03 18:31:28.311737000 +0300
@@ -1,3 +1,24 @@
+TODO: Do not use SmartInterface for KDE 4.5 and above
+
+- Add option to disable function argument hinting
+- New functions rk.show.message() and rk.show.question() for user interaction from R code
+- New options for scripting GUI logic in plugins		TODO: document, merge common functionality of common.js and rkcomponentscriptiong.js, error handling
+- The current object of an active data editor can be referenced in plugins		TODO: document
+- Fixed: Placement of several menu items was broken - again - with KDE 4.4 and above		TODO: check again, seems bad in 4.4.4
+- Allow sorting of results in help search window
+- Fixed: CPU usage would go to 100% for no good reason under certain circumstances
+- The save-object selector in plugins now allows to save as part of a data.frame / list
+- Fixed: On some systems, dev.off() would spawn two new graphics windows
+- Support row names in the data.frame-editor
+- Fixed: When starting with an empty table, RKWard would sometimes claim that this object has been removed
+- Fixed: Would crash when trying to configure toolbars under certain circumstances (workaround for bug in kdelibs)
+- Fixed: Crash while analysing some objects returned by XML::xmlParseTree() for invalid XML
+- Fixed: Error while installing packages with R 2.11.0, when archiving packages in a non-existing directory
+- Add option to autosave script files (enabled by default)
+- The tabbar in the main window now shows a context menu with options to close/detach a window
+- The tabs in the main window can now be re-ordered by dragging with the mouse (left click if compiled with Qt 4.5 or above, middle click for earlier versions)
+- Add alternating row backgrounds in data.frame-editor
+
 --- Version 0.5.3 - Apr-30-2010
 - Fixed: Windows->Activate->Window left / right actions were always disabled
 - File browser window saves settings on exit
@@ -5,7 +26,7 @@
 - Plugin dialogs are shown with a larger initial size
 - Add close buttons to each tab in the main document view area (not available in KDE 4.0)
 - Make "print", "export as HTML", "dynamic word wrap", and "increase/descress font size" available for the console window
-- Use a native menu, instead of the default TclTk-menu			TODO: test, discuss the settings page, again
+- Use a native menu, instead of the default TclTk-menu
 - Fixed: Newly created variables were not properly updated when closing and re-opening the editor
 - Added "paste special" action to script editor and console for pasting R vectors and matrices from spreadsheets
 - Fix order of menus for detached windows
diff -Nuar rkward-0.5.3.orig/CRAN_mirror_list.R rkward-0.5.3/CRAN_mirror_list.R
--- rkward-0.5.3.orig/CRAN_mirror_list.R	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/CRAN_mirror_list.R	2009-11-26 23:05:49.605112000 +0200
@@ -0,0 +1,32 @@
+#!/usr/bin/Rscript
+# Read the mirror list file from MIRROR_LIST
+# and create two lists suitable for QStringList.
+# These two strings are used in rkward/settings/rksettingsmoduler.cpp
+
+#MIRROR_LIST <- '/usr/share/R/doc/CRAN_mirrors.csv'
+
+removeCityFromCountry <- function (x) {
+	sub (' *$', '', sub (paste ('(',x[2],')', sep=''), '', x[1], fixed=TRUE))
+}
+
+#mirror.list <- read.csv(MIRROR_LIST, stringsAsFactors=FALSE)
+mirror.list <- getCRANmirrors()
+
+mirror.names <- paste('"', 
+	paste (apply(mirror.list[,c(1,3)], 1, 'removeCityFromCountry'), 
+		mirror.list$City, 
+		unlist(lapply(strsplit(mirror.list$Host, split=','), function(x) {x[1]})), 
+	sep=' - '), '"', sep='')
+
+cat (
+ 'Host details list:\n', # cran_mirrors_list
+ paste (c(' << "Ask everytime"', mirror.names), collapse=' << '), # Host details
+ '\nURL list:\n', # cran_url_list
+ paste (c(' << "@CRAN@"', paste('"', mirror.list$URL, '"', sep='')), collapse=' << '), # URL
+ '\n') 
+
+
+## If ever a separate .h file is used:
+# In fact could combine the two lists into one (i = i+2)
+#message (paste (c(' << "Ask everytime"', mirror.names), collapse='\n\t << ')) # Host details
+#message (paste (c(' << "@CRAN@"',paste('"', mirror.list$URL, '"', sep='')), collapse='\n\t << ')) # URL
diff -Nuar rkward-0.5.3.orig/debian/changelog rkward-0.5.3/debian/changelog
--- rkward-0.5.3.orig/debian/changelog	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/debian/changelog	2010-05-18 11:04:33.590709000 +0300
@@ -0,0 +1,342 @@
+rkward (0.5.3-2) unstable; urgency=low
+
+  * correct usage of hyphens vs. minus signs in the man page
+  * correct the watch file
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Fri, 07 May 2010 14:30:00 +0200
+
+rkward (0.5.3-1) unstable; urgency=low
+
+  * new upstream release
+    closes: #556321 (failed to link against thread-library, explicitly)
+  * add watch file (thanks to Julien Lavergne and Scott Howard)
+    closes: #569114
+  * remove svncopy.sh-script included in upstream release tarball by accident
+  * remove obsolete runtime dependency on php5-cli
+  * add dependency on ${misc:Depends} as recommended by debhelper
+  * bump standards version to 3.8.4 (no changes needed)
+  * add Homepage field
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Fri, 30 Apr 2010 14:30:00 +0200
+
+rkward (0.5.2-1) unstable; urgency=low
+
+  * new upstream release
+    closes: #551306 (added support for the new dynamic help system)
+  * Add "DM-Upload-Allowed: yes" in control
+  * bump standards version to 3.8.3 (no changes needed)
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Mon, 26 Oct 2009 14:30:00 +0200
+
+rkward (0.5.1-2) unstable; urgency=low
+
+  * drop alternative depend on php4-cli as this is no longer part of any
+    current debian based distribution
+  * more accurate detection of patch-needing Ubuntu
+    Hardy systems (thanks to Meik Michalke)
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Tue, 18 Aug 2009 14:30:00 +0200
+
+rkward (0.5.1-1) unstable; urgency=low
+
+  * new upstream release
+  * bump standards version to 3.8.2 (no changes needed)
+  * dropped notice on development status from description
+  * added notice on differing copyright and additional
+    LGPL licence of some files
+  * better version detection (thanks to Meik Michalke)
+  * added conditional patch to support Ubuntu hardy (thanks to Meik Michalke)
+  * decrease debhelper compat level to 6, in order to support Ubuntu hardy
+  * revert to using dh_clean -k in order to comply with compat level 6
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Tue, 04 Aug 2009 14:30:00 +0200
+
+rkward (0.5.0d-3) unstable; urgency=low
+
+  * build-depend on libx11-dev
+    closes: #529024
+  * use dh_prep instead of deprecated dh_clean -k
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Mon, 19 May 2009 14:30:00 +0200
+
+rkward (0.5.0d-2) unstable; urgency=low
+
+  * bumped standards version to 3.8.1
+  * increased debhelper compat-level to 7
+  * upload to unstable (repeat closes because 0.5.0d-1 was not uploaded)
+    closes: #520969
+    closes: #491110
+    closes: #501649
+    closes: #527649 (included missing Rdevices.h; actually fixed in 0.5.0c)
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Sun, 11 May 2009 14:30:00 +0200
+
+rkward (0.5.0d-1) unstable; urgency=low
+
+  * new upstream release
+  * upload to unstable (repeat closes because 0.5.0c-1 was not uploaded)
+    closes: #520969
+    closes: #491110
+    closes: #501649
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Sun, 10 May 2009 21:30:00 +0200
+
+rkward (0.5.0c-1) experimental; urgency=low
+
+  * new upstream release
+    closes: #520969 (added support for R 2.9.0)
+  * query kde4-config to set the correct installation paths
+    closes: #491110 (resource files were not found)
+    closes: #501649 (plugin files were not found)
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Wed, 30 Mar 2009 20:30:00 +0200
+
+rkward (0.5.0b-1) unstable; urgency=low
+
+  * new upstream release
+    closes: #475175
+    closes: #463348
+    closes: #475982
+    closes: #455709
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Sun, 20 Apr 2008 21:30:00 +0200
+
+rkward (0.5.0a-1) experimental; urgency=low
+
+  * new upstream release
+  * remove some obsolete comments in rules
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Wed, 23 Jan 2008 16:30:00 +0200
+
+rkward (0.5.0-1) experimental; urgency=low
+
+  * new upstream release
+    closes: #455709
+  * adjusted to build with KDE4 libraries / CMake
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Mon, 21 Jan 2008 20:30:00 +0200
+
+rkward (0.4.9a-1) unstable; urgency=low
+
+  * new upstream release
+    closes: #475175
+    closes: #463348
+    closes: #475982
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Sun, 20 Apr 2008 21:30:00 +0200
+
+rkward (0.4.9-2) unstable; urgency=low
+
+  * remove --ignore-missing-info parameter again (dpkg-shlibdeps 1.14.12 
+    does not need it, anymore)
+  * when uploaded to main archive, this
+    closes: #460745
+  * bumped standards to 3.7.3 (no changes necessary)
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Wed, 16 Jan 2008 17:30:00 +0200
+
+rkward (0.4.9-1) unstable; urgency=low
+
+  * new upstream release
+  * add --ignore-missing-info paramater to dpkg-shlibdeps, as libR.so will not be found
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Mon, 14 Jan 2008 20:30:00 +0200
+
+rkward (0.4.8a-2) unstable; urgency=low
+
+  * quote the R CMD config calls, as they may also contain compiler arguments 
+    (thanks to Meik Michalke for a patch)
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Thu, 14 Nov 2007 13:30:00 +0200
+
+rkward (0.4.8a-1) unstable; urgency=low
+
+  * new upstream release
+  * document --disable-stack-check and --debugger options in the manual page
+  * use the compilers specified by R CMD config
+    closes: #450618
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Sun, 11 Nov 2007 13:30:00 +0200
+
+rkward (0.4.8-1) unstable; urgency=low
+
+  * new upstream release
+    closes: #417519
+  * adjust rkward.menu to new naming policy
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Wed, 03 Oct 2007 13:30:00 +0200
+
+rkward (0.4.7a-2) unstable; urgency=low
+
+  * force gcc 4.2 to match r-base-core
+    closes: #432377
+  * merge upstream fix for R 2.6
+    closes: #442059
+  * changed distclean rule in debian/rules to only ignore missing Makefiles 
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Fri, 14 Sep 2007 13:30:00 +0200
+
+rkward (0.4.7a-1) unstable; urgency=low
+
+  * new upstream release
+    closes: #422541
+  * the code to generate the correct r-base-core dependencies should now be POSIX shell compliant
+  * remove unused (and uncommented) dh_* scripts from rules
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Mon, 07 May 2007 13:30:00 +0200
+
+rkward (0.4.7-2) unstable; urgency=low
+
+  * explicitely create installation directory for rkward R package
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Wed, 11 Apr 2007 15:30:00 +0200
+
+rkward (0.4.7-1) unstable; urgency=low
+
+  * new upstream release
+    closes: #415561 (filename completion)
+    closes: #418686 (failure to work with R 2.5.0)
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Wed, 11 Apr 2007 13:30:00 +0200
+
+rkward (0.4.6-1) unstable; urgency=low
+
+  * new upstream release
+  * update r-base-core dependencies
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Thu, 15 Feb 2007 19:30:00 +0200
+
+rkward (0.4.5-1) unstable; urgency=low
+
+  * new upstream release
+  * provide entry in debian menu (Apps/Math)
+    closes: #405376
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Sun, 21 Jan 2007 19:00:00 +0200
+
+rkward (0.4.2-3) unstable; urgency=low
+
+  * this version is not meant to be uploaded to the main archives!
+  * fix compilation on sarge
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Wed, 13 Dec 2006 17:30:00 +0200
+
+rkward (0.4.2-2) unstable; urgency=low
+
+  * migrate to unstable
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Wed, 06 Dec 2006 20:00:00 +0200
+
+rkward (0.4.2-1) experimental; urgency=low
+
+  * new upstream release
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Tue, 04 Dec 2006 16:45:00 +0200
+
+rkward (0.4.1-1) unstable; urgency=low
+
+  * new upstream release
+  * depend on either php4-cli or php5-cli
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Mon, 06 Nov 2006 16:30:00 +0200
+
+rkward (0.4.0-2) unstable; urgency=low
+
+  * fix automatic build on 64bit architectures
+    closes: #394112
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Fri, 20 Oct 2006 14:00:00 +0200
+
+rkward (0.4.0-1) unstable; urgency=low
+
+  * new upstream release
+  * remove obsoleted workaround for installation of rkward R package
+  * cope with switch from CVS to SVN
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Tue, 17 Oct 2006 14:40:00 +0200
+
+rkward (0.3.7-1) unstable; urgency=low
+
+  * new upstream release
+  * use confiure option --with-r-libdir to make sure the rkward R package is installed in /usr/lib/R/site-library/
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Sun, 17 Sep 2006 16:40:00 +0200
+
+rkward (0.3.6-4) unstable; urgency=low
+
+  * fix automatic build on alpha machines 
+    patch provided by Martin Michlmayr <tbm@cyrius.com>
+    closes: #374005
+  * bumbed to standards 3.7.2
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Sun, 18 Jun 2006 16:25:00 +0200
+
+rkward (0.3.6-3) unstable; urgency=low
+
+  * first version to be uploaded to debian
+    closes: #333392
+  * Added Homepage to control file (changed by R.M.Rutschmann <rudi@debian.org>)
+  * fix detection of r-base-core dependency when compiled with r-base-core >= 2.3.0
+  * clean up rules somewhat
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Tue, 25 Apr 2006 12:45:00 +0200
+
+rkward (0.3.6-2) unstable; urgency=low
+
+  * link manpage directly in installation instead of debian-dir
+  * use --show-format instead of -f in call to dpkg-query (to work on stable)
+  * delete any debian/CVS subdir included by accident during clean
+  * add newline to copyright file
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Mon, 24 Apr 2006 14:45:00 +0200
+
+rkward (0.3.6-1) unstable; urgency=low
+
+  * new upstream release
+  * clean up manpage
+  * debian dir is not longer included in upstream; create non-native package
+  * create symlink rkward.bin.1 to rkward.1 and remove linitian expection (no man page)
+  * use ${shlibs:Depends} for runtime dependencies
+  * make sure to require correct version of r-base-core
+  * specify --with-r-home in ./configure, in case there is more than one version of R installed
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Sun, 23 Apr 2006 19:45:00 +0200
+
+rkward (0.3.5) unstable; urgency=low
+
+  * new upstream release
+  * add lintian exception for rkward.bin (no man page)
+  * remove call to build-help.pl during postinst postrm
+  * use --disable-rpath in ./configure
+  * remove /usr/sbin from dirs
+  * use standards version 3.6.2
+  * add man page
+  * remove redundant build-dependency on libqt3-mt-dev
+  * break long lines in description
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Sun, 16 Apr 2006 15:45:00 +0200
+
+rkward (0.3.4) unstable; urgency=low
+
+  * new upstream release
+  * debian directory is now included in official release
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Tue, 08 Nov 2005 16:00:33 +0200
+
+rkward (0.3.3) unstable; urgency=low
+
+  * new upstream release
+  * Adjusted depends for R (2.1.0)
+  * added run-time depend for libstdc++6
+  * correct path for KDE help files
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Mon, 10 Oct 2005 11:20:33 +0200
+
+rkward (0.3.2) unstable; urgency=low
+
+  * new upstream release
+  * Initial Release.
+  * removing r.xml highlighting definition in order to avoid conflict with verison shipped with katepart
+
+ -- Thomas Friedrichsmeier <tfry@users.sourceforge.net>  Tue, 26 Apr 2005 00:00:33 +0200
+
diff -Nuar rkward-0.5.3.orig/debian/compat rkward-0.5.3/debian/compat
--- rkward-0.5.3.orig/debian/compat	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/debian/compat	2009-08-01 14:16:09.645595000 +0300
@@ -0,0 +1 @@
+6
diff -Nuar rkward-0.5.3.orig/debian/control rkward-0.5.3/debian/control
--- rkward-0.5.3.orig/debian/control	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/debian/control	2010-04-27 14:30:30.670330000 +0300
@@ -0,0 +1,19 @@
+Source: rkward
+Section: math
+Priority: optional
+Maintainer: Thomas Friedrichsmeier <tfry@users.sourceforge.net>
+DM-Upload-Allowed: yes
+Build-Depends: debhelper (>= 6.0.0), kdelibs5-dev, cmake, libphonon-dev, r-base-dev (>= 2.7.0), libx11-dev
+Standards-Version: 3.8.4
+Homepage: http://rkward.sourceforge.net
+
+Package: rkward
+Architecture: any
+Depends: ${rvers}, ${shlibs:Depends}, ${misc:Depends}
+Recommends: r-base-html
+Description: a KDE frontend to the R statistics language
+ RKWard aims to become an easy to use, transparent frontend to R,
+ a powerful system for statistical computation and graphics.
+ Besides a convenient GUI for the most important statistical functions,
+ future versions will also provide seamless integration with an
+ office-suite.
diff -Nuar rkward-0.5.3.orig/debian/copyright rkward-0.5.3/debian/copyright
--- rkward-0.5.3.orig/debian/copyright	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/debian/copyright	2010-04-27 14:30:30.670330000 +0300
@@ -0,0 +1,13 @@
+This package was debianized by Thomas Friedrichsmeier <tfry@users.sourceforge.net> on
+Tue, 26 Apr 2005 00:00:33 +0200.
+
+It was downloaded from http://rkward.sourceforge.net
+
+Copyright: 2002 - 2010 Thomas Friedrichsmeier and the RKWard team
+License:
+You are free to distribute this software under the terms of the GNU General Public License.
+On Debian systems, the complete text of the GNU General Public License can be found in the file `/usr/share/common-licenses/GPL'.
+
+Files: rkward/qwinhost.cpp.orig rkward/qwinhost.cpp rkward/qwinhost.h.orig rkward/qwinhost.h
+Copyright: (c) 2009 Nokia Corporation and/or its subsidiary(-ies).
+License: LPGL-2.1
diff -Nuar rkward-0.5.3.orig/debian/dirs rkward-0.5.3/debian/dirs
--- rkward-0.5.3.orig/debian/dirs	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/debian/dirs	2007-04-11 17:39:03.094255000 +0300
@@ -0,0 +1,2 @@
+usr/bin
+usr/lib/R/site-library/
diff -Nuar rkward-0.5.3.orig/debian/docs rkward-0.5.3/debian/docs
--- rkward-0.5.3.orig/debian/docs	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/debian/docs	2005-04-27 23:57:00.000000000 +0300
@@ -0,0 +1,2 @@
+README
+TODO
diff -Nuar rkward-0.5.3.orig/debian/patches/00list rkward-0.5.3/debian/patches/00list
--- rkward-0.5.3.orig/debian/patches/00list	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/debian/patches/00list	2009-07-27 18:17:25.691694000 +0300
@@ -0,0 +1 @@
+10_hardy_menu.dpatch
diff -Nuar rkward-0.5.3.orig/debian/patches/10_hardy_menu.dpatch rkward-0.5.3/debian/patches/10_hardy_menu.dpatch
--- rkward-0.5.3.orig/debian/patches/10_hardy_menu.dpatch	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/debian/patches/10_hardy_menu.dpatch	2009-07-27 18:17:25.691694000 +0300
@@ -0,0 +1,19 @@
+#! /bin/sh /usr/share/dpatch/dpatch-run
+## 00_hardy_menu_patch.dpatch by m.eik michalke <m@reaktanz.de>
+##
+## All lines beginning with `## DP:' are a description of the patch.
+## DP: A patch for the menu entry in Ubuntu 8.04
+
+@DPATCH@
+diff -urNad rkward-0.5.0d-rc1~/rkward/rkward.desktop rkward-0.5.0c/rkward/rkward.desktop
+--- rkward-0.5.0d-rc1~/rkward/rkward.desktop	2009-03-30 11:40:58.000000000 +0200
++++ rkward-0.5.0d-rc1/rkward/rkward.desktop	2009-03-30 23:32:09.000000000 +0200
+@@ -5,7 +5,7 @@
+ Comment[pl]=Graficzny interfejs dla projektu R
+ Comment[fr]=Interface graphique pour R
+ Icon=rkward
+-Exec=rkward -caption "%c" %i
++Exec=/usr/lib/kde4/bin/rkward -caption "%c" %i
+ Terminal=false
+ Type=Application
+ DocPath=rkward/index.html
diff -Nuar rkward-0.5.3.orig/debian/README.Debian rkward-0.5.3/debian/README.Debian
--- rkward-0.5.3.orig/debian/README.Debian	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/debian/README.Debian	2006-10-17 16:04:55.721616000 +0300
@@ -0,0 +1,7 @@
+RKWard for Debian
+--------------
+
+RKWard usually ships its own version of the kate syntax-highlighting definition for R. The version shipped by RKWard is - at the time of this writing - better than the one shipped with kate in some respects. Due to packaging conflicts, however, this improved syntax highlighting definition can NOT be included in the rkward package.
+You may want to fetch the definition manually from RKWard-SVN and install to /usr/share/apps/katepart/syntax/r.xml.
+
+-- Thomas Friedrichsmeier <tfry@users.sourceforge.net>, Apr-29-2005
diff -Nuar rkward-0.5.3.orig/debian/rkward.1 rkward-0.5.3/debian/rkward.1
--- rkward-0.5.3.orig/debian/rkward.1	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/debian/rkward.1	2010-05-18 11:04:33.590709000 +0300
@@ -0,0 +1,59 @@
+.\"                                      Hey, EMACS: -*- nroff -*-
+.\" First parameter, NAME, should be all caps
+.\" Second parameter, SECTION, should be 1-8, maybe w/ subsection
+.\" other parameters are allowed: see man(7), man(1)
+.TH RKWARD 1 "11-10-2005"
+.\" Please adjust this date whenever revising the manpage.
+.\"
+.\" Some roff macros, for reference:
+.\" .nh        disable hyphenation
+.\" .hy        enable hyphenation
+.\" .ad l      left justify
+.\" .ad b      justify to both left and right margins
+.\" .nf        disable filling
+.\" .fi        enable filling
+.\" .br        insert line break
+.\" .sp <n>    insert n+1 empty lines
+.\" for manpage-specific macros, see man(7)
+.SH NAME
+rkward \(hy A KDE frontend to R
+.SH SYNOPSIS
+.B rkward
+.RI [ options ] " [file]"
+.SH DESCRIPTION
+This manual page documents briefly the
+.B rkward
+command.
+.PP
+.SH OPTIONS
+A summary of options is included below.
+For a complete description, invoke rkward \-\-help or refer to http://rkward.sourceforge.net .
+.TP
+.B \-\-help
+Show summary of options.
+.TP
+.B \-v, \-\-version
+Show version of program.
+.TP
+.B \-\-evaluate <Rcode>
+The given R code is evaluated after RKWard has started, and after any specified workspace is loaded. Mostly useful for automated testing.
+.TP
+.B \-\-debug-level <level>
+Verbosity of debug output. 0-5, where 0 is no output, 5 is all output including function trace information. Default it 2
+.TP
+.B \-\-debug-flags <flags>
+Allows to configure, which sections of code to debug. Flags are given as a binary number. Refer to the source files for documentation, as this really is an internal option
+.TP
+.B \-\-debugger <command>
+Run RKWard through the specified debugger command. To add command line options to the debugger command, enclose them in single quotes ('') together with the command.
+.TP
+.B \-\-disable-stack-check
+Disable the R C stack checking mechanism. If you see the error message "C stack usage too close to the limit", this option may serve as a workaround.
+.SH SEE ALSO
+.BR R (1),
+.br
+.SH AUTHOR
+RKWard was written by Thomas Friedrichsmeier and the RKWard team. See http://rkward.sourceforge.net .
+.PP
+This manual page was written by Thomas Friedrichsmeier <tfry@users.sourceforge.net>,
+for the Debian project (but may be used by others).
diff -Nuar rkward-0.5.3.orig/debian/rkward.menu rkward-0.5.3/debian/rkward.menu
--- rkward-0.5.3.orig/debian/rkward.menu	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/debian/rkward.menu	2009-03-29 21:51:07.284098000 +0300
@@ -0,0 +1 @@
+?package(rkward):needs="x11" section="Applications/Science/Mathematics" title="RKWard" command="/usr/bin/rkward"
diff -Nuar rkward-0.5.3.orig/debian/rules rkward-0.5.3/debian/rules
--- rkward-0.5.3.orig/debian/rules	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/debian/rules	2010-04-27 14:30:30.670330000 +0300
@@ -0,0 +1,152 @@
+#!/usr/bin/make -f
+# -*- makefile -*-
+# Based on the sample debian/rules of dh_make
+
+# Uncomment this to turn on verbose mode.
+#export DH_VERBOSE=1
+
+# Determine the installed distribution and release number
+# Will be used to determine if certain tweaks are needed, see below
+# NOTE: /etc/lsb-release is part of package base-files, *only on Ubuntu*, not on Debian.
+# For now this is ok, as we only need special handling for Ubuntu Hardy at this time.
+DISTRO = $(shell grep "DISTRIB_ID" /etc/lsb-release | awk -F= '{print $$2}' ; grep "DISTRIB_RELEASE" /etc/lsb-release | awk -F= '{print $$2}')
+
+# Ubuntu 8.04 uses a different PATH for KDE 4 apps and needs some patching
+ifeq ("$(DISTRO)","Ubuntu 8.04")
+	export PATH := $(PATH):/usr/lib/kde4/bin
+	# If the following variables are set, patches are applied
+	PATCHTARGET = patch-ubuntu804
+	UNPATCHTARGET = unpatch
+endif
+
+# These are used for cross-compiling and for saving the configure script
+# from having to guess our platform (since we know it already)
+DEB_HOST_GNU_TYPE   ?= $(shell dpkg-architecture -qDEB_HOST_GNU_TYPE)
+DEB_BUILD_GNU_TYPE  ?= $(shell dpkg-architecture -qDEB_BUILD_GNU_TYPE)
+
+#we need to know the R version
+RVERS = $(shell dpkg-query -W --showformat='$${Version}' r-base-core)
+RMAJOR = $(shell echo $(RVERS) | awk -F. '{print $$1}')
+RMINOR = $(shell echo $(RVERS) | awk -F. '{print $$2}')
+
+CFLAGS = -Wall -g
+
+ifneq (,$(findstring noopt,$(DEB_BUILD_OPTIONS)))
+	CFLAGS += -O0
+else
+	CFLAGS += -O2
+endif
+
+config.status: $(PATCHTARGET) # Will only be called if set, see above
+	dh_testdir
+
+	mkdir -p $(CURDIR)/build
+
+	# Some installations of R need a specific version of the compiler(s)
+	# R CMD config provides info on which compiler to use
+	cd $(CURDIR)/build && \
+	CC="`/usr/bin/R CMD config CC`" \
+	CXX="`/usr/bin/R CMD config CXX`" \
+	F77="`/usr/bin/R CMD config F77`" \
+	cmake .. \
+		-DCMAKE_INSTALL_PREFIX=`kde4-config --prefix` \
+		-DDATA_INSTALL_DIR=`kde4-config --install data` \
+		-DHTML_INSTALL_DIR=`kde4-config --install html` \
+		-DKCFG_INSTALL_DIR=`kde4-config --install kcfg` \
+		-DINFO_INSTALL_DIR=/usr/share/info \
+		-DMAN_INSTALL_DIR=/usr/share/man \
+		-DKDE_DEFAULT_HOME=`kde4-config --localprefix` \
+		-DCMAKE_SKIP_RPATH=true \
+		-DKDE4_USE_ALWAYS_FULL_RPATH=false \
+		-DCMAKE_CXX_FLAGS="$(CXXFLAGS)" \
+		-DCMAKE_C_FLAGS="$(CFLAGS)" \
+		-DCMAKE_VERBOSE_MAKEFILE=ON \
+		-DKDE4_DISABLE_MULTIMEDIA=ON \
+		-DR_EXECUTABLE=/usr/bin/R/ \
+		-DR_LIBDIR=/usr/lib/R/site-library/
+
+build: build-stamp
+
+build-stamp: config.status
+	dh_testdir
+
+	# Add here commands to compile the package.
+	cd $(CURDIR)/build && $(MAKE)
+
+	touch build-stamp
+
+clean: $(UNPATCHTARGET) # Will only be called if set, see above
+	dh_testdir
+	dh_testroot
+	rm -f build-stamp
+	# remove any .svn subdir included by accident
+	rm -rf $(CURDIR)/debian/.svn
+	rm -rf $(CURDIR)/debian/patches/.svn
+	# only for rkward 0.5.3: remove script included in upsteram tarball by accident
+	rm -f $(CURDIR)/rkward/plugins/svncopy.sh
+
+	# Add here commands to clean up after the build process.
+	rm -rf $(CURDIR)/build/
+
+	dh_clean 
+
+install: build
+	dh_testdir
+	dh_testroot
+	dh_clean -k
+	dh_installdirs
+
+	# Add here commands to install the package into debian/rkward.
+	cd $(CURDIR)/build && $(MAKE) install DESTDIR=$(CURDIR)/debian/rkward
+	# dirty hack to get rid of conflicting r.xml file without adjusting all makefiles
+	rm -vf $(CURDIR)/debian/rkward/`kde4-config --install data`/katepart/syntax/r.xml
+	
+	# remove unneeded R package files
+	rm -vf $(CURDIR)/debian/rkward/usr/lib/R/site-library/R.css $(CURDIR)/debian/rkward/usr/lib/R/site-library/rkward/COPYING
+
+# Build architecture-independent files here.
+binary-indep: build install
+# We have nothing to do by default.
+
+# Build architecture-dependent files here.
+binary-arch: build install
+	dh_testdir
+	dh_testroot
+	dh_installchangelogs ChangeLog
+	dh_installdocs
+	dh_installexamples
+	dh_installmenu
+	dh_installman debian/rkward.1
+	# Link manpage for rkward.bin to rkward
+	ln -sf rkward.1.gz debian/rkward/usr/share/man/man1/rkward.bin.1.gz
+	dh_link
+	dh_strip
+	# do not compress KDE HTML help
+	dh_compress -Xusr/share/doc/kde/HTML
+	dh_fixperms
+	dh_installdeb
+	dh_shlibdeps
+	# unfortunately, the r-base-core dependency can not be found by dh_shlibdeps, so we need to get at the version manually
+	@if [ "$(RMAJOR)" -eq "2" ] && [ "$(RMINOR)" -ge "9" ] ; then \
+		echo "rvers=r-base-core (>= 2.9.0)" >> $(CURDIR)/debian/rkward.substvars ; \
+	else \
+		if [ "$(RMAJOR)" -eq "2" ] && [ "$(RMINOR)" -ge "8" ] ; then \
+		echo "rvers=r-base-core (<< 2.9.0), r-base-core (>= 2.8.0)" >> $(CURDIR)/debian/rkward.substvars ; \
+	else \
+		if [ "$(RMAJOR)" -eq "2" ] && [ "$(RMINOR)" -ge "7" ] ; then \
+		echo "rvers=r-base-core (<< 2.8.0), r-base-core (>= 2.7.0)" >> $(CURDIR)/debian/rkward.substvars ; \
+	fi ; fi ; fi
+	dh_gencontrol
+	dh_md5sums
+	dh_builddeb
+
+patch-ubuntu804:
+	dpatch apply 10_hardy_menu
+	dpatch cat-all >patch-stamp
+ 
+unpatch:
+	dpatch deapply-all
+	rm -rf patch-stamp debian/patched
+
+binary: binary-indep binary-arch
+.PHONY: build clean binary-indep binary-arch binary install patch-ubuntu804 unpatch
diff -Nuar rkward-0.5.3.orig/debian/watch rkward-0.5.3/debian/watch
--- rkward-0.5.3.orig/debian/watch	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/debian/watch	2010-05-11 18:16:38.820267000 +0300
@@ -0,0 +1,2 @@
+version=3
+http://sf.net/rkward/rkward-(.*)\.tar\.gz
diff -Nuar rkward-0.5.3.orig/doc/rkward/index.docbook rkward-0.5.3/doc/rkward/index.docbook
--- rkward-0.5.3.orig/doc/rkward/index.docbook	2008-01-21 20:58:24.000000000 +0200
+++ rkward-0.5.3/doc/rkward/index.docbook	2010-06-28 18:17:20.797320000 +0300
@@ -1,5 +1,5 @@
 <?xml version="1.0" ?>
-<!DOCTYPE book PUBLIC "-//KDE//DTD DocBook XML V4.1-Based Variant V1.0//EN" "dtd/kdex.dtd" [
+<!DOCTYPE book PUBLIC "-//KDE//DTD DocBook XML V4.2-Based Variant V1.1//EN" "dtd/kdex.dtd" [
   <!ENTITY rkward '<application>RKWard</application>'>
   <!ENTITY kapp "&rkward;"><!-- replace rkward here -->
   <!ENTITY % addindex "IGNORE">
diff -Nuar rkward-0.5.3.orig/doc/rkward/writing_plugins_introduction.docbook rkward-0.5.3/doc/rkward/writing_plugins_introduction.docbook
--- rkward-0.5.3.orig/doc/rkward/writing_plugins_introduction.docbook	2010-03-04 14:08:32.000000000 +0200
+++ rkward-0.5.3/doc/rkward/writing_plugins_introduction.docbook	2010-07-01 23:01:05.269481000 +0300
@@ -1,5 +1,5 @@
 <?xml version="1.0" ?>
-<!DOCTYPE book PUBLIC "-//KDE//DTD DocBook XML V4.1-Based Variant V1.0//EN" "dtd/kdex.dtd" [
+<!DOCTYPE book PUBLIC "-//KDE//DTD DocBook XML V4.2-Based Variant V1.1//EN" "dtd/kdex.dtd" [
   <!ENTITY rkward '<application>RKWard</application>'>
   <!ENTITY kapp "&rkward;"><!-- replace rkward here -->
   <!ENTITY % addindex "IGNORE">
@@ -512,7 +512,7 @@
 More often than not you will have to create one or more temporary R objects in the code generated by your plugin. Normally, you do not want those to be placed in the user's workspace, potentially even overwriting user variables. Hence, all plugin generated code is run in a local() environment (see R help page on function local()). This means, all variables you create are temporary and will not be saved permanently.
 </para>
 <para>
-If the user explicitely asks for a variable to be saved, you will need to assign to that object with the "&lt;&lt;-" operator.
+If the user explicitely asks for a variable to be saved, you will need to assign to that object using ".GlobalEnv$objectname &lt;- value".
 </para>
 <para>
 One important pitfall is using eval() to evaluate substitutes. Here, you need to note that eval will by default use the current environment for evaluation, i.e. the local one. This will work well most of the times, but if you define any temporary variables in the local environment, and you are trying to fetch user variables of the same name using eval, you will get errors. For example:
@@ -1768,6 +1768,14 @@
 	<term>&lt;required&gt;</term>
 	<listitem>Whether - for submitting the code - it is required that the field holds a permissible object name. See <link linkend="elementproperties">required-property</link> (optional, defaults to true)</listitem>
 	</varlistentry>
+	<varlistentry>
+	<term>&lt;checkable&gt;</term>
+	<listitem>In many use cases, saving to an R object is optional. In these cases, a checkbox can be integrated into the saveobject-element using this attribute. When set to true, the saveobject will be activated / deactivated by the checkbox. See the <link linkend="elementproperties">active-property</link> of saveobject (optional, defaults to false)</listitem>
+	</varlistentry>
+	<varlistentry>
+	<term>&lt;checked&gt;</term>
+	<listitem>For checkable saveobject-elements, only: Whether the control is checked/enabled by default (optional, defaults to false)</listitem>
+	</varlistentry>
 	</variablelist></listitem>
 </varlistentry>
 <varlistentry>
@@ -1983,6 +1991,10 @@
 	<term>selected</term>
 	<listitem>The objects currently selected. You probably do not want to use this. Used internally (RObject)</listitem>
 	</varlistentry>
+	<varlistentry>
+	<term>root</term>
+	<listitem>The root/parent object of the objects offered for selection (RObject)</listitem>
+	</varlistentry>
 	</variablelist></listitem>
 </varlistentry>
 <varlistentry>
@@ -2077,7 +2089,19 @@
 	<variablelist>
 	<varlistentry>
 	<term>selection</term>
-	<listitem>Current text (selected object name) (string)</listitem>
+	<listitem>Full name of the selected object (string; read-only - to set this programmatically, use "parent", and "objectname")</listitem>
+	</varlistentry>
+	<varlistentry>
+	<term>parent</term>
+	<listitem>The parent object of the selected object. This is always an existing R object of a type that can contain other objects (e.g. a list or data.frame). When set to an empty string or an invalid object, ".GlobalEnv" is assumed (RObject)</listitem>
+	</varlistentry>
+	<varlistentry>
+	<term>objectname</term>
+	<listitem>The base-name of the selected object, i.e. the string entered by the user (changed to a valid R name, if necessary) (string)</listitem>
+	</varlistentry>
+	<varlistentry>
+	<term>active</term>
+	<listitem>For checkable saveobjects, only: Whether the control is checked/enabled. Always true for non-checkable saveobjects (bool)</listitem>
 	</varlistentry>
 	</variablelist></listitem>
 </varlistentry>
diff -Nuar rkward-0.5.3.orig/Doxyfile rkward-0.5.3/Doxyfile
--- rkward-0.5.3.orig/Doxyfile	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/Doxyfile	2005-11-13 15:17:39.000000000 +0200
@@ -0,0 +1,278 @@
+# Doxyfile 1.4.5
+
+#---------------------------------------------------------------------------
+# Project related configuration options
+#---------------------------------------------------------------------------
+PROJECT_NAME           = rkward.kdevelop
+PROJECT_NUMBER         = 
+OUTPUT_DIRECTORY       = 
+CREATE_SUBDIRS         = NO
+OUTPUT_LANGUAGE        = English
+USE_WINDOWS_ENCODING   = NO
+BRIEF_MEMBER_DESC      = YES
+REPEAT_BRIEF           = YES
+ABBREVIATE_BRIEF       = "The $name class" \
+                         "The $name widget" \
+                         "The $name file" \
+                         is \
+                         provides \
+                         specifies \
+                         contains \
+                         represents \
+                         a \
+                         an \
+                         the
+ALWAYS_DETAILED_SEC    = NO
+INLINE_INHERITED_MEMB  = NO
+FULL_PATH_NAMES        = NO
+STRIP_FROM_PATH        = 
+STRIP_FROM_INC_PATH    = 
+SHORT_NAMES            = NO
+JAVADOC_AUTOBRIEF      = NO
+MULTILINE_CPP_IS_BRIEF = NO
+DETAILS_AT_TOP         = NO
+INHERIT_DOCS           = YES
+SEPARATE_MEMBER_PAGES  = NO
+TAB_SIZE               = 8
+ALIASES                = 
+OPTIMIZE_OUTPUT_FOR_C  = NO
+OPTIMIZE_OUTPUT_JAVA   = NO
+BUILTIN_STL_SUPPORT    = NO
+DISTRIBUTE_GROUP_DOC   = NO
+SUBGROUPING            = YES
+#---------------------------------------------------------------------------
+# Build related configuration options
+#---------------------------------------------------------------------------
+EXTRACT_ALL            = YES
+EXTRACT_PRIVATE        = YES
+EXTRACT_STATIC         = YES
+EXTRACT_LOCAL_CLASSES  = YES
+EXTRACT_LOCAL_METHODS  = YES
+HIDE_UNDOC_MEMBERS     = NO
+HIDE_UNDOC_CLASSES     = NO
+HIDE_FRIEND_COMPOUNDS  = NO
+HIDE_IN_BODY_DOCS      = NO
+INTERNAL_DOCS          = NO
+CASE_SENSE_NAMES       = YES
+HIDE_SCOPE_NAMES       = NO
+SHOW_INCLUDE_FILES     = YES
+INLINE_INFO            = YES
+SORT_MEMBER_DOCS       = YES
+SORT_BRIEF_DOCS        = NO
+SORT_BY_SCOPE_NAME     = NO
+GENERATE_TODOLIST      = YES
+GENERATE_TESTLIST      = YES
+GENERATE_BUGLIST       = YES
+GENERATE_DEPRECATEDLIST= YES
+ENABLED_SECTIONS       = 
+MAX_INITIALIZER_LINES  = 30
+SHOW_USED_FILES        = YES
+SHOW_DIRECTORIES       = YES
+FILE_VERSION_FILTER    = 
+#---------------------------------------------------------------------------
+# configuration options related to warning and progress messages
+#---------------------------------------------------------------------------
+QUIET                  = NO
+WARNINGS               = YES
+WARN_IF_UNDOCUMENTED   = YES
+WARN_IF_DOC_ERROR      = YES
+WARN_NO_PARAMDOC       = NO
+WARN_FORMAT            = "$file:$line: $text"
+WARN_LOGFILE           = 
+#---------------------------------------------------------------------------
+# configuration options related to the input files
+#---------------------------------------------------------------------------
+INPUT                  = .
+FILE_PATTERNS          = *.c \
+                         *.cc \
+                         *.cxx \
+                         *.cpp \
+                         *.c++ \
+                         *.java \
+                         *.ii \
+                         *.ixx \
+                         *.ipp \
+                         *.i++ \
+                         *.inl \
+                         *.h \
+                         *.hh \
+                         *.hxx \
+                         *.hpp \
+                         *.h++ \
+                         *.idl \
+                         *.odl \
+                         *.cs \
+                         *.php \
+                         *.php3 \
+                         *.inc \
+                         *.m \
+                         *.mm \
+                         *.dox \
+                         *.C \
+                         *.CC \
+                         *.C++ \
+                         *.II \
+                         *.I++ \
+                         *.H \
+                         *.HH \
+                         *.H++ \
+                         *.CS \
+                         *.PHP \
+                         *.PHP3 \
+                         *.M \
+                         *.MM \
+                         *.C \
+                         *.H \
+                         *.tlh \
+                         *.diff \
+                         *.patch \
+                         *.moc \
+                         *.xpm \
+                         *.dox
+RECURSIVE              = YES
+EXCLUDE                = debian
+EXCLUDE_SYMLINKS       = NO
+EXCLUDE_PATTERNS       = 
+EXAMPLE_PATH           = 
+EXAMPLE_PATTERNS       = *
+EXAMPLE_RECURSIVE      = NO
+IMAGE_PATH             = 
+INPUT_FILTER           = 
+FILTER_PATTERNS        = 
+FILTER_SOURCE_FILES    = NO
+#---------------------------------------------------------------------------
+# configuration options related to source browsing
+#---------------------------------------------------------------------------
+SOURCE_BROWSER         = NO
+INLINE_SOURCES         = NO
+STRIP_CODE_COMMENTS    = YES
+REFERENCED_BY_RELATION = YES
+REFERENCES_RELATION    = YES
+USE_HTAGS              = NO
+VERBATIM_HEADERS       = YES
+#---------------------------------------------------------------------------
+# configuration options related to the alphabetical class index
+#---------------------------------------------------------------------------
+ALPHABETICAL_INDEX     = NO
+COLS_IN_ALPHA_INDEX    = 5
+IGNORE_PREFIX          = 
+#---------------------------------------------------------------------------
+# configuration options related to the HTML output
+#---------------------------------------------------------------------------
+GENERATE_HTML          = YES
+HTML_OUTPUT            = html
+HTML_FILE_EXTENSION    = .html
+HTML_HEADER            = 
+HTML_FOOTER            = /home/thomas/develop/rkward/doxygen_footer.html
+HTML_STYLESHEET        = 
+HTML_ALIGN_MEMBERS     = YES
+GENERATE_HTMLHELP      = NO
+CHM_FILE               = 
+HHC_LOCATION           = 
+GENERATE_CHI           = NO
+BINARY_TOC             = NO
+TOC_EXPAND             = NO
+DISABLE_INDEX          = NO
+ENUM_VALUES_PER_LINE   = 4
+GENERATE_TREEVIEW      = NO
+TREEVIEW_WIDTH         = 250
+#---------------------------------------------------------------------------
+# configuration options related to the LaTeX output
+#---------------------------------------------------------------------------
+GENERATE_LATEX         = NO
+LATEX_OUTPUT           = latex
+LATEX_CMD_NAME         = latex
+MAKEINDEX_CMD_NAME     = makeindex
+COMPACT_LATEX          = NO
+PAPER_TYPE             = a4wide
+EXTRA_PACKAGES         = 
+LATEX_HEADER           = 
+PDF_HYPERLINKS         = NO
+USE_PDFLATEX           = NO
+LATEX_BATCHMODE        = NO
+LATEX_HIDE_INDICES     = NO
+#---------------------------------------------------------------------------
+# configuration options related to the RTF output
+#---------------------------------------------------------------------------
+GENERATE_RTF           = NO
+RTF_OUTPUT             = rtf
+COMPACT_RTF            = NO
+RTF_HYPERLINKS         = NO
+RTF_STYLESHEET_FILE    = 
+RTF_EXTENSIONS_FILE    = 
+#---------------------------------------------------------------------------
+# configuration options related to the man page output
+#---------------------------------------------------------------------------
+GENERATE_MAN           = NO
+MAN_OUTPUT             = man
+MAN_EXTENSION          = .3
+MAN_LINKS              = NO
+#---------------------------------------------------------------------------
+# configuration options related to the XML output
+#---------------------------------------------------------------------------
+GENERATE_XML           = NO
+XML_OUTPUT             = xml
+XML_SCHEMA             = 
+XML_DTD                = 
+XML_PROGRAMLISTING     = YES
+#---------------------------------------------------------------------------
+# configuration options for the AutoGen Definitions output
+#---------------------------------------------------------------------------
+GENERATE_AUTOGEN_DEF   = NO
+#---------------------------------------------------------------------------
+# configuration options related to the Perl module output
+#---------------------------------------------------------------------------
+GENERATE_PERLMOD       = NO
+PERLMOD_LATEX          = NO
+PERLMOD_PRETTY         = YES
+PERLMOD_MAKEVAR_PREFIX = 
+#---------------------------------------------------------------------------
+# Configuration options related to the preprocessor   
+#---------------------------------------------------------------------------
+ENABLE_PREPROCESSING   = YES
+MACRO_EXPANSION        = NO
+EXPAND_ONLY_PREDEF     = NO
+SEARCH_INCLUDES        = YES
+INCLUDE_PATH           = 
+INCLUDE_FILE_PATTERNS  = 
+PREDEFINED             = 
+EXPAND_AS_DEFINED      = 
+SKIP_FUNCTION_MACROS   = YES
+#---------------------------------------------------------------------------
+# Configuration::additions related to external references   
+#---------------------------------------------------------------------------
+TAGFILES               = 
+GENERATE_TAGFILE       = rkward.tag
+ALLEXTERNALS           = NO
+EXTERNAL_GROUPS        = YES
+PERL_PATH              = /usr/bin/perl
+#---------------------------------------------------------------------------
+# Configuration options related to the dot tool   
+#---------------------------------------------------------------------------
+CLASS_DIAGRAMS         = YES
+HIDE_UNDOC_RELATIONS   = YES
+HAVE_DOT               = NO
+CLASS_GRAPH            = YES
+COLLABORATION_GRAPH    = YES
+GROUP_GRAPHS           = YES
+UML_LOOK               = NO
+TEMPLATE_RELATIONS     = NO
+INCLUDE_GRAPH          = YES
+INCLUDED_BY_GRAPH      = YES
+CALL_GRAPH             = NO
+GRAPHICAL_HIERARCHY    = YES
+DIRECTORY_GRAPH        = YES
+DOT_IMAGE_FORMAT       = png
+DOT_PATH               = 
+DOTFILE_DIRS           = 
+MAX_DOT_GRAPH_WIDTH    = 1024
+MAX_DOT_GRAPH_HEIGHT   = 1024
+MAX_DOT_GRAPH_DEPTH    = 1000
+DOT_TRANSPARENT        = NO
+DOT_MULTI_TARGETS      = NO
+GENERATE_LEGEND        = YES
+DOT_CLEANUP            = YES
+#---------------------------------------------------------------------------
+# Configuration::additions related to the search engine   
+#---------------------------------------------------------------------------
+SEARCHENGINE           = NO
diff -Nuar rkward-0.5.3.orig/doxygen_footer.html rkward-0.5.3/doxygen_footer.html
--- rkward-0.5.3.orig/doxygen_footer.html	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/doxygen_footer.html	2005-10-06 16:54:21.000000000 +0300
@@ -0,0 +1,4 @@
+	<p><a href="http://rkward.sourceforge.net">RKWard Homepage</A>. RKWard is hosted on SourceForge: <a href="http://sourceforge.net"><img src="http://sourceforge.net/sflogo.php?group_id=50231&amp;type=1" width="88" height="31" border="0" alt="SourceForge Logo" /></p>
+	<p>This documentation created by <a href="http://www.stack.nl/~dimitri/doxygen/">Doxygen</a> version $doxygenversion on $date.</p>
+	</body>
+</html>
\ Dosya sonunda yenisatır yok.
diff -Nuar rkward-0.5.3.orig/INSTALL rkward-0.5.3/INSTALL
--- rkward-0.5.3.orig/INSTALL	2009-08-13 15:21:21.000000000 +0300
+++ rkward-0.5.3/INSTALL	2010-05-05 12:55:30.044560000 +0300
@@ -5,7 +5,6 @@
 - KDE-libraries and headers (>= 4.0) (http://www.kde.org)
 - Qt-libraries and headers (>= 4.3) (http://www.trolltech.com)
 - R and headers (http://www.r-project.org)
-- PHP with commandline-interface (http://www.php.net)
 - CMake (http://cmake.org)
 
 
diff -Nuar rkward-0.5.3.orig/po/ca.po rkward-0.5.3/po/ca.po
--- rkward-0.5.3.orig/po/ca.po	2010-04-27 11:01:37.000000000 +0300
+++ rkward-0.5.3/po/ca.po	2010-05-01 15:07:11.202611000 +0300
@@ -1,20 +1,21 @@
-# translation of ca.po to Catalan
-# Copyright (C) 2003, 2004, 2005, 2006, 2007 Free Software Foundation, Inc.
+# translation of ca.po to
+# Copyright (C) 2003, 2004, 2005, 2006, 2007, 2010 Free Software Foundation, Inc.
 # This file is put in the public domain.
 # 28-11-2006: v 1.00
 #
 # griera@gmail.com, 2006.
 # Núria Asensio <nasensio.germanstrias@gencat.net>, 2006.
 # Pep Roca <pep.roca@gmail.com>, 2007.
+# Pep Roca <pep.roca@gmail.com>, 2010.
+# Pep Roca <pep.roca@gmai.com>, 2010.
 msgid ""
 msgstr ""
 "Project-Id-Version: ca\n"
-"Report-Msgid-Bugs-To: http://sourceforge.net/tracker/?"
-"group_id=50231&atid=459007\n"
-"POT-Creation-Date: 2010-04-27 10:01+0200\n"
-"PO-Revision-Date: 2007-10-02 16:56+0200\n"
+"Report-Msgid-Bugs-To: http://sourceforge.net/tracker/?group_id=50231&atid=459007\n"
+"POT-Creation-Date: 2010-04-15 16:30+0200\n"
+"PO-Revision-Date: 2010-04-28 11:15+0200\n"
 "Last-Translator: Pep Roca <pep.roca@gmail.com>\n"
-"Language-Team: Catalan <kde-i18n-ca@kde.org>\n"
+"Language-Team:  <kde-i18n-ca@kde.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
@@ -62,8 +63,7 @@
 msgstr "S'està esperant que R finalitzi"
 
 #: agents/rksaveagent.cpp:63
-msgid ""
-"No filename given. Your data was NOT saved. Do you still want to proceed?"
+msgid "No filename given. Your data was NOT saved. Do you still want to proceed?"
 msgstr ""
 "No heu proporcionat cap nom de fitxer. Les dades NO s'han desat. Voleu "
 "continuar malgrat això?"
@@ -162,7 +162,6 @@
 # ??? Per revisar
 # Completar i revisar amb fr.po i es.po
 #: core/renvironmentobject.cpp:97
-#, fuzzy
 msgid ""
 "The package '%1' (probably you just loaded it) is currently blacklisted for "
 "retrieving structure information. Practically this means, the objects in "
@@ -175,18 +174,16 @@
 msgstr ""
 "El paquet '%1' (que probablement acabeu de carregar) està actualment en la "
 "llista negra per recuperar informació sobre la seva estructura. A la "
-"pràctica, això vol dir que els seus objectes no apareixaran en el navegador "
+"pràctica, això vol dir que els seus objectes no apareixeran en el navegador "
 "d'objectes. \n"
-"Habitualment un paquet es fica a la llista negra, si es trigaria molt en "
-"carregar per tenir una enorme quantitat de dades. Per treure'l de la llista, "
-"anar a Arranjaments->Configura RKWard->Espai de treball."
+"Habitualment un paquet es fica a la llista negra, si te una enorme quantitat de dades i es trigaria molt en "
+"carregar. Per treure'l de la llista, anar a Arranjaments->Configura RKWard->Espai de treball."
 
 # ??? Per revisar
 # Revisar amb fr.po i es.po
 #: core/renvironmentobject.cpp:97
-#, fuzzy
 msgid "Package blacklisted"
-msgstr "El paquet està en la llista negra"
+msgstr "El paquet està en la llista negra "
 
 #: core/rkmodificationtracker.cpp:66
 msgid ""
@@ -215,8 +212,7 @@
 msgstr "Elimino l'objecte?"
 
 #: core/rkmodificationtracker.cpp:78
-msgid ""
-"Do you really want to remove the object '%1'? There's no way to get it back."
+msgid "Do you really want to remove the object '%1'? There's no way to get it back."
 msgstr "Realment voleu eliminar l'objecte '%1'? No podrà recuperar-se mai més."
 
 # a es.po està traduit com "Renombrar"
@@ -272,6 +268,7 @@
 # A "La guia visual del KDE": http://docs.kde.org/stable/ca/kdebase/visualdict/index.html
 # Ho tradueixent com "matriu"
 # Introducció a R. Tomàs Aluja: arrays. Són matrius de qualsevol nombre de dimensions
+# http://osdir.com/: Un profesor de la asignatura de criptología mi escuela traduce "array" por "formación". Según él un vector no es lo mismo que un array, pues un vector tiene características que el array no tiene, como una dirección, un sentido y un módulo. (Aunque se pueda usar un array para representarlo, no confundir el continente con lo contenido), Llevando la idea un poco más allá, pienso que no tiene sentido un "vector de registros" o "un vector de booleanos", por lo que parece quedar más claro que "vector" no es lo mismo que "array".
 #: core/robject.cpp:127
 msgid "Array"
 msgstr ""
@@ -305,38 +302,42 @@
 
 #: core/robject.cpp:143
 msgid "Dimensions: "
-msgstr "Dimensions: "
+msgstr "Dimensions : "
 
 #: core/robject.cpp:151
 msgid "Class(es):"
 msgstr "Classe(s):"
 
+# ??? p roca: Per revisar
+# ??? Per revisar : Núria
 #: core/robjectlist.cpp:80
 msgid ""
 "Did not unload package %1. It is required in RKWard. If you really want to "
 "do this, do so on the R Console."
 msgstr ""
+"El paquet %1 no s'ha descarregat. Es necessari en RKWard. Si realment vol fer "
+"això, feu en la consola del R."
 
 #: core/robjectlist.cpp:83
 msgid "Package %1 appears not to have been loaded"
-msgstr ""
+msgstr "El paquet %1 no sembla haver estat carregat"
 
 #: dataeditor/editformatdialog.cpp:41
 msgid "Alignment"
 msgstr "Alineació"
 
 #: dataeditor/editformatdialog.cpp:45
-#, fuzzy
+# Recull de termes Softcatalà.Recull: 4.1: default:  valor per defecte
 msgid "Default"
 msgstr "Opció per omissió"
 
 #: dataeditor/editformatdialog.cpp:47
 msgid "Left"
-msgstr ""
+msgstr "Esquerra"
 
 #: dataeditor/editformatdialog.cpp:49
 msgid "Right"
-msgstr ""
+msgstr "Dreta"
 
 #: dataeditor/editformatdialog.cpp:54
 msgid "Decimal Places"
@@ -392,12 +393,12 @@
 msgstr "Nom no vàlid"
 
 #: dataeditor/rkeditordataframepart.cpp:58
-#, fuzzy
+# ??? p roca: Per revisar
 msgid "Paste inside table"
 msgstr "Enganxa dintre de la taula"
 
 #: dataeditor/rkeditordataframepart.cpp:63
-#, fuzzy
+# ??? p roca: Per revisar
 msgid "Paste inside selection"
 msgstr "Enganxa dintre de la selecció"
 
@@ -443,16 +444,15 @@
 
 #: dataeditor/rkvareditmodel.cpp:214 dataeditor/rkvareditmodel.cpp:457
 msgid "Type on these fields to add new columns"
-msgstr ""
+msgstr "Teclejar en aquests camps per afegir noves columnes"
 
 #: dataeditor/rkvareditmodel.cpp:215
 msgid "Type on these fields to add new rows"
-msgstr ""
+msgstr "Teclejar en aquests camps per afegir noves files"
 
 #: dataeditor/rkvareditmodel.cpp:294
-#, fuzzy
 msgid "#New Variable#"
-msgstr "Variable"
+msgstr "#Nova variable#"
 
 #: dataeditor/rkvareditmodel.cpp:574
 msgid "Format"
@@ -463,12 +463,13 @@
 msgstr "Nivells"
 
 #: dataeditor/twintable.cpp:98
+# ??? p roca: Per revisar: Permetre l'edició?
 msgid "Enable editing"
-msgstr ""
+msgstr "Edició habilitada"
 
 #: dataeditor/twintable.cpp:146
 msgid " [read-only]"
-msgstr ""
+msgstr " [només de lectura]"
 
 #: dataeditor/twintable.cpp:186
 msgid "Insert new variable left"
@@ -483,14 +484,12 @@
 msgstr "Suprimeix aquesta variable"
 
 #: dataeditor/twintable.cpp:207
-#, fuzzy
 msgid "Insert new case above (at %1)"
-msgstr "Insereix un nou cas al damunt"
+msgstr "Insereix un nou cas al damunt (a %1)"
 
 #: dataeditor/twintable.cpp:210
-#, fuzzy
 msgid "Insert new case below (at %1)"
-msgstr "Insereix un nou cas a sota"
+msgstr "Insereix un nou cas a sota (a %1)"
 
 #: dataeditor/twintable.cpp:221
 msgid "Delete marked rows (%1-%2)"
@@ -546,7 +545,7 @@
 
 #: dialogs/rkloadlibsdialog.cpp:264
 msgid "Installation process died with exit code %1"
-msgstr ""
+msgstr "El procés d'instal lació ha fallat amb el codi de sortida %1"
 
 #: dialogs/rkloadlibsdialog.cpp:296
 msgid "Installed packages"
@@ -691,7 +690,6 @@
 msgstr "No es pot escriure en la ubicació seleccionada per la biblioteca"
 
 #: dialogs/rkloadlibsdialog.cpp:865
-#, fuzzy
 msgid ""
 "The directory you are trying to install to (%1) is not writable with your "
 "current user permissions. You can chose a different library location to "
@@ -705,7 +703,7 @@
 "root). Altrament, haureu d'escollir una altra ubicació de biblioteca per "
 "instal·lar-lo (si no podeu escriure en cap, segurament voldreu utilitzar el "
 "botó de \"Configura els dipòsits\" per especificar un directori modificable "
-"on instal·lar els paquets)."
+"on instal·lar els paquets).\n"
 
 #: dialogs/rkloadlibsdialog.cpp:869
 msgid ""
@@ -714,16 +712,21 @@
 "Sorry, automatic switching to Administrator is not yet supported in RKWard "
 "on Windows"
 msgstr ""
+"Si teniu accés a un compte d'administrador en aquest equip, el podeu utilitzar "
+"per instal lar el paquet (s), o podria canviar els permisos de '% 1 '. El canvi "
+"automàticament a administrador encara no s'admet en el RKWard de Windows"
 
 #: dialogs/rkloadlibsdialog.cpp:871
 msgid "Attempt installation, anyway"
-msgstr ""
+msgstr "De totes formes, s'intenta la instal·lació"
 
 #: dialogs/rkloadlibsdialog.cpp:874
 msgid ""
 "If you are the adminitstrator of this machine, you can try to install the "
 "packages as root (you'll be prompted for the root password)."
 msgstr ""
+"Si sou el administrador d'aquest equip, pot tractar d'instal lar el "
+"paquets com a root (se li demanarà la contrasenya de root)."
 
 #: dialogs/rkloadlibsdialog.cpp:875
 msgid "Become root"
@@ -731,16 +734,15 @@
 
 #: dialogs/rkreadlinedialog.cpp:55
 msgid "Context:"
-msgstr "Context:"
+msgstr "Context :"
 
 #: dialogs/rkselectlistdialog.cpp:38
 msgid "<b>Select one or more:</b>"
-msgstr ""
+msgstr "<b>Seleccioneu un o més:</b>"
 
 #: dialogs/rkselectlistdialog.cpp:39
-#, fuzzy
 msgid "<b>Select one:</b>"
-msgstr "Selecciona un:"
+msgstr "<b>Seleccioneu one:</b>"
 
 #: dialogs/startupdialog.cpp:46
 msgid "What would you like to do?"
@@ -771,6 +773,8 @@
 "After starting (and after loading the specified workspace, if applicable), "
 "evaluate the given R code."
 msgstr ""
+"Després d'arrencar (i després de carregar l'espai de treball especificat, si s'escau), "
+"avalua el codi R donat."
 
 # fr.po: Prolixité des messages de trace (0-5)
 # es,po: Nivel de información de los mensajes de depuración (0-5)
@@ -788,38 +792,42 @@
 msgid ""
 "Debugger (enclose any debugger arguments in single quotes ('') together with "
 "the command)"
-msgstr ""
+msgstr "Depurador (junt amb l'ordre, escrigueu qualsevol argument de depuració entre cometes simples (''))"
 
 # ??? Per revisar
 # ó Desactiva la comprovació de la pila C del R?
 #: main.cpp:96
-#, fuzzy
 msgid "Disable R C stack checking"
 msgstr "Desactiva la comprovació de la pila R C"
 
 #: main.cpp:97
-#, fuzzy
+# ??? p roca: Per revisar:
+# fr.po: Demander à ouvrir un fichier
+# es.po: Espacio de trabajo para abrir
 msgid "R workspace file to open"
-msgstr "Demana per obrir un fitxer"
+msgstr "Espai de treball a obrir"
 
 #: main.cpp:99
 msgid "RKWard"
 msgstr "RKWard"
 
 #: main.cpp:99
+# ??? p roca: Per revisar
+# es.po: Interfaz gráfica para el lenguaje estadístico R
+# softcatala_recull_4.1.html: frontend:  frontal
 msgid "Frontend to the R statistics language"
-msgstr ""
+msgstr "Interfície gràfica pel llenguatge estadístic R"
 
 #: main.cpp:99
 msgid "(c) 2002, 2004, 2005, 2006, 2007, 2008, 2009, 2010"
-msgstr ""
+msgstr "(c) 2002, 2004, 2005, 2006, 2007, 2008, 2009, 2010"
 
 #: main.cpp:100 main.cpp:101 main.cpp:102 main.cpp:103 main.cpp:105
 #: main.cpp:106 main.cpp:107 main.cpp:108 main.cpp:109 main.cpp:110
 #: main.cpp:111 main.cpp:112 main.cpp:113 main.cpp:114 main.cpp:115
 #: main.cpp:116 main.cpp:117
 msgid "%1"
-msgstr ""
+msgstr "%1"
 
 #: main.cpp:100
 msgid "Project leader / main developer"
@@ -840,7 +848,7 @@
 
 #: main.cpp:104
 msgid "Contributors in alphabetical order"
-msgstr ""
+msgstr "Col·laboradors en ordre alfabètic"
 
 #: main.cpp:105
 msgid "Several helpful comments and discussions"
@@ -856,7 +864,7 @@
 
 #: main.cpp:108
 msgid "HP filter plugin, spanish translation"
-msgstr ""
+msgstr "Endollable del filtre HP, traducció al castellà"
 
 #: main.cpp:109
 msgid "A cool icon"
@@ -880,7 +888,7 @@
 
 #: main.cpp:114
 msgid "German Translation, bug reports"
-msgstr ""
+msgstr "Traducció a l'alemany, informes d'errors"
 
 #: main.cpp:115
 msgid "Some patches"
@@ -888,7 +896,7 @@
 
 #: main.cpp:116
 msgid "patches and helpful comments"
-msgstr ""
+msgstr "pedaços i comentaris útils"
 
 #: main.cpp:118
 msgid "Many more people on rkward-devel@lists.sourceforge.net"
@@ -906,12 +914,11 @@
 
 #: misc/multistringselector.cpp:54
 msgid "Add"
-msgstr ""
+msgstr "Afegeix"
 
 #: misc/multistringselector.cpp:58
-#, fuzzy
 msgid "Remove"
-msgstr "Reanomena"
+msgstr "Suprimir"
 
 #: misc/multistringselector.cpp:64
 msgid "Up"
@@ -955,8 +962,7 @@
 msgstr "Mostra els camps"
 
 #: misc/rkprogresscontrol.cpp:213
-msgid ""
-"<b>There have been errors and / or warnings! See below for a transcript</b>"
+msgid "<b>There have been errors and / or warnings! See below for a transcript</b>"
 msgstr ""
 "<b>S'han produït errors i / o avisos! Una transcripció dels missatges es "
 "mostra aquí sota</b>"
@@ -971,19 +977,17 @@
 msgstr "Resultats:"
 
 #: misc/rkprogresscontrol.cpp:226
-#, fuzzy
 msgid "Errors / Warnings"
-msgstr "Errors / Avisos:"
+msgstr "Errors / Avisos"
 
 #: misc/rkprogresscontrol.cpp:227
 msgid "Errors / Warnings:"
 msgstr "Errors / Avisos:"
 
 #: misc/rkprogresscontrol.cpp:246 plugin/rkstandardcomponentgui.cpp:301
-#: rkconsole.cpp:884 robjectviewer.cpp:170
-#, fuzzy
+#: rkconsole.cpp:881 robjectviewer.cpp:170
 msgid "Cancel"
-msgstr "Cancel·lat"
+msgstr "Cancel·la"
 
 #: misc/rksaveobjectchooser.cpp:41
 msgid "Object name to save to"
@@ -999,82 +1003,84 @@
 
 #: misc/rkspecialactions.cpp:27 misc/rkspecialactions.cpp:66
 msgid "Paste special..."
-msgstr ""
+msgstr "Enganxament especial..."
 
 #: misc/rkspecialactions.cpp:79
 msgid "Paste mode"
-msgstr ""
+msgstr "Mode d'enganxament"
 
 #: misc/rkspecialactions.cpp:82
-#, fuzzy
 msgid "Single string"
-msgstr "El motor R està ocupat"
+msgstr "Cadena simple"
 
 #: misc/rkspecialactions.cpp:85
 msgid "Vector"
-msgstr ""
+msgstr "Vector"
 
 #: misc/rkspecialactions.cpp:97
 msgid "Field separator"
-msgstr ""
+msgstr "Camp separador"
 
 #: misc/rkspecialactions.cpp:100
+# ??? p roca: Per revisar
+# Pot ser tabulació ó  pestanya. Suposo que es separador tabulador
 msgid "Tab"
-msgstr ""
+msgstr "Tabulació"
 
 #: misc/rkspecialactions.cpp:104
-#, fuzzy
 msgid "Comma"
-msgstr "Ordre"
+msgstr "Coma"
 
 #: misc/rkspecialactions.cpp:108
-#, fuzzy
 msgid "Single space"
-msgstr "Desa l'espai de treball"
+msgstr "Espai simple"
 
 #: misc/rkspecialactions.cpp:111
 msgid "Any whitespace"
-msgstr ""
+msgstr "Qualsevol espai en blanc"
 
 #: misc/rkspecialactions.cpp:115
 msgid "Other:"
-msgstr ""
+msgstr "Altres:"
 
 #: misc/rkspecialactions.cpp:126
+# ??? p roca: Per revisar: Són cometes?
 msgid "Quoting"
-msgstr ""
+msgstr "Cometes"
 
 #: misc/rkspecialactions.cpp:129
+# ??? p roca: Per revisar: Són cometes?
 msgid "Do not quote values"
-msgstr ""
+msgstr "No ficar els valors entre cometes"
 
 #: misc/rkspecialactions.cpp:132
 msgid "Automatic"
-msgstr ""
+msgstr "Automàtic"
 
 #: misc/rkspecialactions.cpp:136
+# ??? p roca: Per revisar: Són cometes?
 msgid "Quote all values"
-msgstr ""
+msgstr "Ficar tots els valors entre comentes"
 
 #: misc/rkspecialactions.cpp:142
 msgid "Transformations"
-msgstr ""
+msgstr "Transformacions"
 
 #: misc/rkspecialactions.cpp:144
 msgid "Reverse horizontally"
-msgstr ""
+msgstr "Invertir horitzontalment"
 
 #: misc/rkspecialactions.cpp:146
 msgid "Reverse vertically"
-msgstr ""
+msgstr "Invertir verticalment"
 
 #: misc/rkspecialactions.cpp:148
 msgid "Flip rows/columns"
-msgstr ""
+msgstr "Intercanvia files/columnes"
 
 #: misc/rkspecialactions.cpp:150
 msgid "Insert NAs where needed"
-msgstr ""
+msgstr "Inseríeu NA quan sigui necessari"
 
 #: misc/rkstandardactions.cpp:44
 msgid "Run current line"
@@ -1121,8 +1127,7 @@
 # fr.po: Valeur d'attribut interdite. Les valeurs possibles sont seulement parmi '%1'.
 #: misc/xmlhelper.cpp:260
 msgid "Illegal attribute value. Allowed values are one of '%1', only."
-msgstr ""
-"El valor de l'atribut està prohibit. Només es permet un dels valors de '%1'."
+msgstr "El valor de l'atribut està prohibit. Només es permet un dels valors de '%1'."
 
 #: misc/xmlhelper.cpp:274
 msgid "Illegal attribute value. Only integer numbers are allowed."
@@ -1152,42 +1157,49 @@
 "You tried to invoke a plugin called '%1', but that plugin is currently "
 "unknown. Probably you need to load the corresponding PluginMap (Settings-"
 ">Configure RKWard->Plugins), or perhaps the plugin was renamed."
-msgstr ""
+msgstr "Heu intentat executar l'endollable '% 1', però aquest endollable és desconegut. Probablement necessiteu carregar el corresponent fitxer PluginMap (Arranjaments-> Configura el RKWard->Endollables), o poder l'endollable ha sigut renombrat."
 
 #: plugin/rkcomponentmap.cpp:248
 msgid "No such plugin"
-msgstr ""
+msgstr "No existeix aquest endollable"
 
 #: plugin/rkcomponentmap.cpp:257
+# ??? p roca: Per revisar: serialization??
+# A http://ca.wikipedia.org/wiki/Serialització traduit per Serialització
 msgid ""
 "Bad serialization format while trying to invoke plugin '%1'. Please contact "
 "the RKWard team (Help->About RKWard->Authors)."
-msgstr ""
+msgstr "Format de serialització inadequat al intentar executar el endollable '%1'. Contacteu amb l'equip de RKWard (Ajuda->Quant a RKWard->Autors)."
 
 #: plugin/rkcomponentmap.cpp:259
 msgid "Bad serialization format"
-msgstr ""
+msgstr "Format de serialització inadequat"
 
 #: plugin/rkcomponentmap.cpp:263
+# ??? p roca: Per revisar: settings: settings  configuració, paràmetres (m pl)
 msgid ""
 "Not all specified settings could be applied. Most likely this is because "
 "some R objects are no longer present in your current workspace."
 msgstr ""
+"No es poden aplicar tots els paràmetres especificats. Molt probablement, es degut a que "
+"alguns objectes R ja no estan presents en l'àrea de treball actual."
 
 #: plugin/rkcomponentmap.cpp:265
 msgid "Not all settings applied"
-msgstr ""
+msgstr "No s'han aplicat tots els paràmetres"
 
 #: plugin/rkcomponentmap.cpp:304
+# ??? p roca: Per revisar
 msgid ""
 "\n"
 "The plugin could not be auto-submitted with these settings."
 msgstr ""
+"\n"
+"L'endollable no pot ser auto-tramés amb aquests paràmetres."
 
 #: plugin/rkcomponentmap.cpp:306
-#, fuzzy
 msgid "Could not submit"
-msgstr "No s'ha pogut crear l'endollable"
+msgstr "No es pot trametre"
 
 #: plugin/rkdropdown.cpp:42 plugin/rkradio.cpp:45
 msgid "Select one:"
@@ -1260,11 +1272,11 @@
 
 # ??? Per revisar
 # fr: Prévisualisation à jour
+# es.po: Vista previa actualizada
 # up-to-date: recents, al dia
 #: plugin/rkpreviewbox.cpp:174
-#, fuzzy
 msgid "Preview up to date"
-msgstr "Previsualitza el més recent"
+msgstr "Vista prèvia actualitzada"
 
 #: plugin/rkpreviewbox.cpp:176
 msgid "Preview updating"
@@ -1291,21 +1303,19 @@
 # es.po: Enviar
 #: plugin/rkstandardcomponentgui.cpp:97 plugin/rkstandardcomponentgui.cpp:405
 msgid "Submit"
-msgstr "Envia"
+msgstr "Tramet"
 
 #: plugin/rkstandardcomponentgui.cpp:102 plugin/rkstandardcomponentgui.cpp:394
-#, fuzzy
 msgid "Close"
-msgstr "Tancat"
+msgstr "Tanca"
 
 #: plugin/rkstandardcomponentgui.cpp:105
 msgid "Auto close"
-msgstr ""
+msgstr "Tanca automàticament"
 
 #: plugin/rkstandardcomponentgui.cpp:111
-#, fuzzy
 msgid "Help"
-msgstr "Ajuda del R"
+msgstr "Ajuda"
 
 #: plugin/rkstandardcomponentgui.cpp:117
 msgid "Use Wizard"
@@ -1318,9 +1328,8 @@
 msgstr "Codi"
 
 #: plugin/rkstandardcomponentgui.cpp:170
-#, fuzzy
 msgid "Run again"
-msgstr "Executa-ho tot"
+msgstr "Torna a executar"
 
 #: plugin/rkstandardcomponentgui.cpp:257
 msgid "Processing. Please wait"
@@ -1332,7 +1341,7 @@
 "Click 'Submit' to run the command(s)."
 msgstr ""
 "En la part inferior podeu veure les ordres que corresponen a la configuració "
-"que heu fet. Feu clic sobre 'Envia' per executar-les."
+"que heu fet. Feu clic sobre 'Tramet' per executar-les."
 
 #: plugin/rkstandardcomponentgui.cpp:382 plugin/rkstandardcomponentgui.cpp:400
 msgid "Next >"
@@ -1352,7 +1361,7 @@
 
 #: rbackend/rcommandstack.cpp:350
 msgid "Running"
-msgstr ""
+msgstr "Executant-se"
 
 #: rbackend/rcommandstack.cpp:353
 msgid "Cancelled"
@@ -1366,56 +1375,52 @@
 msgstr "Pila d'ordres"
 
 #: rbackend/rcommandstack.cpp:366
-#, fuzzy
 msgid "Command Chain"
-msgstr "Ordre"
+msgstr "Cadena d'ordres"
 
 #: rbackend/rcommandstack.cpp:368
 msgid "Closed"
 msgstr "Tancat"
 
 #: rbackend/rcommandstack.cpp:369
-#, fuzzy
 msgid "Waiting"
-msgstr "Obre (s'està a l'espera)"
+msgstr "Esperant"
 
 #: rbackend/rcommandstack.cpp:398
 msgid "Command"
 msgstr "Ordre"
 
 #: rbackend/rcommandstack.cpp:400
-#, fuzzy
 msgid "Status"
-msgstr "Engegada del R"
+msgstr "Estat"
 
 #: rbackend/rcommandstack.cpp:401
 msgid "Description"
 msgstr "Descripció"
 
 #: rbackend/rembedinternal.cpp:135
-#, fuzzy
 msgid ""
 "The R engine has encountered a fatal error:\n"
 "%1"
-msgstr "El motor R ha trobat un error fatal:\n"
+msgstr ""
+"El motor R ha trobat un error fatal:\n"
+"%1"
 
 #: rbackend/rembedinternal.cpp:242
-#, fuzzy
 msgid "The R engine has shut down with status: %1"
-msgstr "El motor R s'ha aturat en l'estat: "
+msgstr "El motor R s'ha aturat en l'estat: %1"
 
 #: rbackend/rinterface.cpp:89
 msgid "R Startup"
 msgstr "Engegada del R"
 
 #: rbackend/rinterface.cpp:218
-#, fuzzy
 msgid ""
 "<p>There was a problem starting the R backend. The following error(s) "
 "occurred:</p>\n"
 msgstr ""
-"Hi ha hagut un problema a l'engegar l'execució del dorsal R. S'ha(n) produït "
-"el(s) següent(s) error(s):\n"
+"<p>Hi ha hagut un problema al endegar l'execució del dorsal R. S'ha(n) produït "
+"el(s) següent(s) error(s):</p>\n"
 
 #: rbackend/rinterface.cpp:220
 msgid ""
@@ -1428,32 +1433,32 @@
 "now, and fix your installation</b>. For help with that, see <a href=\"http://"
 "p.sf.net/rkward/compiling\">http://p.sf.net/rkward/compiling</a>.</p>\n"
 msgstr ""
+"</p>\t- No he pogut carregar la biblioteca R 'rkward' o la versió no és la apropiada. Això pot provocat tot tipus d'errors, des de la manca d'alguna funcionalitat fins que totes les funcions fallin. La causa més probable és que en la darrera instal·lació no es van ficar tots els fitxers en el lloc correcte. També pot ser degut que la presència de restes d'una instal·lació anterior que no ha estat adequadament eliminada.</p>\t\t\t<p><b>Ara heu de sortir del RKWard, i arreglar la seva instal·lació</b>. Per ajuda sobre això, consultar <a href=\"http://"
+"p.sf.net/rkward/compiling\">http://p.sf.net/rkward/compiling</a>.</p>\n"
 
 #: rbackend/rinterface.cpp:224
-#, fuzzy
 msgid ""
 "<p>\t-There was a problem opening the files needed for communication with R. "
 "Most likely this is due to an incorrect setting for the location of these "
 "files. Check whether you have correctly configured the location of the log-"
 "files (Settings->Configure Settings->Logfiles) and restart RKWard.</p>\n"
 msgstr ""
-"\t-Existeix un problema a l'obrir els arxius necessaris per a la comunicació "
+"<p>\t-Existeix un problema al obrir els arxius necessaris per a la comunicació "
 "amb el R. Probablement això és degut a un arranjament incorrecte de la "
 "ubicació d'aquests fitxers. Verifiqueu si heu configurat correctament la "
 "ubicació dels fitxers bitàcola (Arranjaments->Configura arranjaments-> "
-"Fitxers bitàcola) i reengegueu el RKWard.\n"
+"Fitxers bitàcola) i reengegueu el RKWard.</p>\n"
 
 # fr.po: \t- Une erreur non spécifiée qui n'est pas encore gérée par RKWard s'est produite. RKWard ne va probablement pas fonctionner correctement. Veuillez vérifier votre installation.\n
 # es.po: "\t- Ha ocurrido un error no especificado que aún no está gestionado por RKWard. Posiblemente RKWard no funcione correctamente. Por favor, compruebe su configuración.\n
 #: rbackend/rinterface.cpp:227
-#, fuzzy
 msgid ""
 "<p>\t-An unspecified error occurred that is not yet handled by RKWard. "
 "Likely RKWard will not function properly. Please check your setup.</p>\n"
 msgstr ""
-"\t-S'ha produït un error desconegut que encara no està gestionat per el "
+"<p>\t-S'ha produït un error desconegut que encara no està gestionat per el "
 "RKWard. Segurament el RKWard no funcionarà adequadament. Si us plau, reviseu "
-"la vostra configuració.\n"
+"la vostra configuració.</p>\n"
 
 #: rbackend/rinterface.cpp:235
 msgid "Error starting R"
@@ -1467,9 +1472,9 @@
 "package-management tool, and there you can try to locate and install the "
 "needed package."
 msgstr ""
-"El dorsal R necessita el paquet '%1' per realitzar la tasca actual. Aquest "
+"El dorsal R necessita el paquet '%1' per realitzar aquesta tasca. Aquest "
 "paquet no està instal·lat. Ara s'obrirà l'eina de gestió de paquets, a fi "
-"que pugueu intentar localitzar i instal·lar el paquet que falta."
+"que pugueu intentar localitzar i instal·lar aquest paquet."
 
 #: rbackend/rinterface.cpp:361
 msgid "Require package '%1'"
@@ -1502,9 +1507,8 @@
 msgstr "Canvia els locals"
 
 #: rbackend/rinterface.cpp:477
-#, fuzzy
 msgid "Question from the R backend"
-msgstr "Missatge del dorsal R"
+msgstr "Pregunta del dorsal R"
 
 #: rbackend/rinterface.cpp:482
 msgid "Message from the R backend"
@@ -1515,7 +1519,6 @@
 msgstr "El dorsal R necessita informació"
 
 #: rbackend/rinterface.cpp:504
-#, fuzzy
 msgid ""
 "\n"
 "It will be shut down immediately. This means, you can not use any more "
@@ -1530,13 +1533,12 @@
 "\n"
 "S'aturarà immediatament. Això vol dir que no podreu seguir utilitzant les "
 "funcions basades en el dorsal R. És a dir, que no podeu fer pràcticament "
-"res, ni tan sols desar l'espai de treball. Per sort, R ja ha guardat l'espai "
-"de treball. Tanmateix, podeu desar els fitxers d'ordres que tingueu oberts, "
+"res, ni tan sols desar l'espai de treball (però afortunadament, el R ja l'ha guardat). Tanmateix, podeu desar els fitxers d'ordres que tingueu oberts, "
 "els resultats, o les dades dels editors de dades oberts. Després, sortiu del "
 "RKWard.\n"
 " Atès que això no hauria de succeir mai, si us plau, trameteu un missatge a "
 "rkward-devel@lists.sourceforge.net explicant el que intentaveu fer quan s'ha "
-"produït això."
+"produït això. Disculpeu!"
 
 #: rbackend/rinterface.cpp:505
 msgid "R engine has died"
@@ -1546,53 +1548,50 @@
 msgid "R Console"
 msgstr "Consola R"
 
-#: rkconsole.cpp:629
+#: rkconsole.cpp:626
 msgid "Syntax error\n"
 msgstr "Error de sintaxi\n"
 
 # fr.po: Interrompre l'exécution de la commande
-#: rkconsole.cpp:837
+#: rkconsole.cpp:834
 msgid "Interrupt running command"
 msgstr "Interromp l'execució de l'ordre"
 
 # Thomas Friedrichsmeier:
 # Console action: Copy the selection, but remove any leading "> " or "+ " on the copied lines, so it is easier to re-use commands from the console.
-#: rkconsole.cpp:843
+#: rkconsole.cpp:840
 msgid "Copy selection cleaned"
 msgstr "Còpia la selecció de forma neta"
 
-#: rkconsole.cpp:846
+#: rkconsole.cpp:843
 msgid "Copy selection literally"
 msgstr "Copia la selecció literalment"
 
-#: rkconsole.cpp:853 windows/rkcommandlog.cpp:285
-#, fuzzy
+#: rkconsole.cpp:850 windows/rkcommandlog.cpp:285
 msgid "Configure"
-msgstr "Configura el RKWard"
+msgstr "Configura"
 
-#: rkconsole.cpp:855
-#, fuzzy
+#: rkconsole.cpp:852
 msgid "Print Console"
-msgstr "Consola R"
+msgstr "Imprimeix la consola"
 
-#: rkconsole.cpp:884
-#, fuzzy
+#: rkconsole.cpp:881
 msgid ""
 "You have configured RKWard to run script commands through the console. "
 "However, the console is currently busy (either a command is running, or you "
 "have started to enter text in the console). Do you want to bypass the "
 "console this one time, or do you want to try again later?"
 msgstr ""
-"Ha configurat executar les seqüències d'ordres a través de la consola. "
+"Ha configurat el RKWard perquè executi les seqüències d'ordres a través de la consola. "
 "Tanmateix, la consola ara està ocupada (o s'està executant una ordre o heu "
 "començat a escriure-hi text a la consola). Voleu evitar la consola ara, o ho "
 "voleu intentar de nou més tard?"
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 msgid "Console is busy"
 msgstr "La consola és ocupada"
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 msgid "Bypass console"
 msgstr "Evita la consola"
 
@@ -1606,10 +1605,13 @@
 "with that, see <a href=\"http://p.sf.net/rkward/compiling\">http://p.sf.net/"
 "rkward/compiling</a>.</p>"
 msgstr ""
+"<p>El RKWard o no pot trobar cap fitxer de recursos, o només troba una versió antiga dels mateixos. La causa més probable és que en la darrera instal·lació no es van ficar tots els fitxers en el lloc correcte. Això pot provocat tot tipus d'errors, des de la manca d'alguna funcionalitat fins que totes les funcions fallin.</"
+"p><p><b>Ara heu de sortir del RKWard, i arreglar la seva instal·lació</b>. Per ajuda sobre això, consultar  <a href=\"http://p.sf.net/rkward/compiling\">http://p.sf.net/"
+"rkward/compiling</a>.</p>"
 
 #: rkward.cpp:191
 msgid "Broken installation"
-msgstr ""
+msgstr "Instal·lació incompleta"
 
 #: rkward.cpp:195
 msgid ""
@@ -1618,20 +1620,21 @@
 "you'd like to help: <a href=\"http://p.sf.net/rkward/contact\">http://p.sf."
 "net/rkward/contact</a>.</p>"
 msgstr ""
+"<p>Tingueu en compte que el RKWard encara no està del tot provat en Windows.</"
+"p><p> Hi ha tot tipus de problemes coneguts, i d'altres encara no identificats. Si voleu ajudar: <a href=\"http://p.sf.net/rkward/contact\">http://p.sf."
+"net/rkward/contact</a>.</p>"
 
 #: rkward.cpp:195
-#, fuzzy
 msgid "RKWard on Windows"
-msgstr "Endollables"
+msgstr "RKWard en Windows"
 
 #: rkward.cpp:215 settings/rksettingsmoduleobjectbrowser.cpp:128
 msgid "Workspace"
 msgstr "Espai de treball"
 
 #: rkward.cpp:219
-#, fuzzy
 msgid "Files"
-msgstr "Tots els fitxers"
+msgstr "Fitxers"
 
 #: rkward.cpp:223
 msgid "Pending Jobs"
@@ -1713,9 +1716,8 @@
 msgstr "Surt de l'aplicació"
 
 #: rkward.cpp:359 windows/robjectbrowser.cpp:135
-#, fuzzy
 msgid "Load / Unload Packages"
-msgstr "Paquets carregats"
+msgstr "Carrega / Descarrega els paquets"
 
 #: rkward.cpp:370
 msgid "Close All Data"
@@ -1740,7 +1742,7 @@
 
 #: rkward.cpp:386
 msgid "[No actions available for current view]"
-msgstr ""
+msgstr "[No hi ha cap acció disponible per a la vista actual]"
 
 #: rkward.cpp:417
 msgid "Ready."
@@ -1752,9 +1754,8 @@
 msgstr "S'està eixint..."
 
 #: rkward.cpp:497
-#, fuzzy
 msgid "Quitting RKWard: Do you want to save the workspace?"
-msgstr "Voleu desar l'espai de treball actual?"
+msgstr "S'està sortint del RKWard. Voleu desar l'espai de treball actual?"
 
 #: rkward.cpp:497 rkward.cpp:557
 msgid "Save Workspace?"
@@ -1762,7 +1763,7 @@
 
 #: rkward.cpp:497
 msgid "Don't quit"
-msgstr ""
+msgstr "No surtis"
 
 #: rkward.cpp:522
 msgid "New dataset"
@@ -1797,49 +1798,46 @@
 msgstr "El motor R està inactiu"
 
 #: rkward.cpp:654
-#, fuzzy
 msgid "R engine starting"
-msgstr "El motor R està ocupat"
+msgstr "Iniciant-se el motor R"
 
 #: rkward.cpp:695 rkward.cpp:697
-#, fuzzy
 msgid "Open script file(s)"
-msgstr "Obre el fitxer de seqüència R"
+msgstr "Obre el(s) fitxer(s) de seqüència"
 
 #: rkward.cpp:715
 msgid "[Unnamed Workspace]"
 msgstr "[Espai de treball sense nom]"
 
 #: robjectviewer.cpp:58
-#, fuzzy
 msgid "summary (x)"
-msgstr "Sumari"
+msgstr "resum (x)"
 
 #: robjectviewer.cpp:59
+# ??? p roca: Per revisar:
+# Imprimir? Mostrar?
 msgid "print (x)"
-msgstr ""
+msgstr "mostrar (x)"
 
 #: robjectviewer.cpp:86
 msgid "<b>Object was deleted!</b>"
 msgstr "<b>L'objectes s'ha esborrat!</b>"
 
 #: robjectviewer.cpp:128
-#, fuzzy
 msgid "Object Viewer: %1"
-msgstr "Visualitzador d'objectes: "
+msgstr "Visualitzador d'objectes: %1"
 
 #: robjectviewer.cpp:132
 msgid "The object was changed. You may want to click \"Update\""
-msgstr ""
+msgstr "L'objecte s'ha modificat. Podeu clicar \"Actualitza\""
 
 #: robjectviewer.cpp:214
-#, fuzzy
 msgid "Fetching information. Please wait."
-msgstr "S'està recollint la informació"
+msgstr "S'està recuperant la informació. Espereu un moment."
 
 #: robjectviewer.cpp:224
 msgid "Click \"Update\" to fetch information"
-msgstr ""
+msgstr "Clicar\"Actualitza\" per recuperar la informació"
 
 #: robjectviewer.cpp:245
 msgid "Ready"
@@ -1912,16 +1910,17 @@
 msgstr "S'ha sortit del procés PHP"
 
 #: scriptbackends/qtscriptbackend.cpp:114
-#, fuzzy
 msgid ""
 "The QtScript-backend has reported an error:\n"
 "%1"
-msgstr "El motor R ha trobat un error fatal:\n"
+msgstr ""
+"El dorsal QtScript ha informat d'un error:\n"
+"%1"
 
 #: scriptbackends/qtscriptbackend.cpp:114
-#, fuzzy
+# ??? p roca: Per revisar
 msgid "Scripting error"
-msgstr "Fitxer de seqüència"
+msgstr "Error en la seqüència"
 
 #: scriptbackends/qtscriptbackend.cpp:200
 msgid ""
@@ -1929,14 +1928,16 @@
 "Backtrace:\n"
 "%2"
 msgstr ""
+"Error en la seqüència: %1\n"
+"traça enrere:\n"
+"%2"
 
 #: scriptbackends/qtscriptbackend.cpp:219
-#, fuzzy
 msgid ""
 "The file \"%1\" (needed by \"%2\") could not be found. Please check your "
 "installation."
 msgstr ""
-"El fitxer de suport \"%1\" no es troba o no es llegible. Si us plau, "
+"El fitxer \"%1\" (necessari per \"%2\") no es troba. Si us plau, "
 "verifiqueu la vostra instal·lació."
 
 #: scriptbackends/scriptbackend.cpp:91
@@ -1956,25 +1957,25 @@
 msgstr "Arranjaments"
 
 #: settings/rksettingsmodulecommandeditor.cpp:43
+# terminació
 msgid "Code Completion"
-msgstr ""
+msgstr "Autoacabat de codi"
 
 #: settings/rksettingsmodulecommandeditor.cpp:46
 msgid "Enable code completion"
-msgstr ""
+msgstr "Habilita l'autoacabat del codi"
 
 #: settings/rksettingsmodulecommandeditor.cpp:53
 msgid "Minimum number of characters before completion is attempted"
-msgstr ""
+msgstr "Nombre mínim de caràcters abans d'intentar l'autoacabament"
 
 #: settings/rksettingsmodulecommandeditor.cpp:64
 msgid "Timeout (milli seconds) before completion is attempted"
-msgstr ""
+msgstr "Temps d'espera (milisegons) abans d'intentar l'autoacabament"
 
 #: settings/rksettingsmodulecommandeditor.cpp:92
-#, fuzzy
 msgid "Script editor"
-msgstr "Fitxer de seqüència"
+msgstr "Editor de fitxers de seqüència"
 
 #: settings/rksettingsmoduleconsole.cpp:50
 msgid "Load/Save command history"
@@ -2006,63 +2007,65 @@
 
 #: settings/rksettingsmoduleconsole.cpp:76
 msgid "Do not add"
-msgstr ""
+msgstr "No l'afegeixis"
 
 #: settings/rksettingsmoduleconsole.cpp:77
+# ??? p roca: Per revisar
+# Afegeix només si és una sola línia
+# Afegeix només si només hi ha una sola línia
 msgid "Add only if single line"
-msgstr ""
+msgstr "Afegeix només si és una sola línia"
 
 #: settings/rksettingsmoduleconsole.cpp:78
-#, fuzzy
 msgid "Add all commands"
-msgstr "Ordres de l'usuari"
+msgstr "Afegeix totes les ordres"
 
 # ??? Per revisar
 # fr: La commande d'historique est sensible à la casse par défaut
 #: settings/rksettingsmoduleconsole.cpp:86
-#, fuzzy
+# es: El historial de comandos depende por defecto del contexto
 msgid "Command history is context sensitive by default"
-msgstr "El historial d'ordres és, per omissió, sensible al context"
+msgstr "El historial d'ordres depèn, per omissió, del context"
 
 #: settings/rksettingsmoduleconsole.cpp:185
 msgid "Console"
 msgstr "Consola"
 
 #: settings/rksettingsmoduledebug.cpp:42
+# es: Estas opciones sólo son para propósitos de depurado.Es segurodejarlas como están. Además, estas opciones solamente tendrán efecto en la sesión actual y no se guardarán.
 msgid ""
 "<b>These settings are for debugging purposes, only.</b> It is safe to leave "
 "the untouched. Also, these settings will only apply to the current session, "
 "and not be saved."
-msgstr ""
+msgstr "<b>Aquestes opcions només són per depuració.</b> Es poden deixar com estan. Admès, aquestes opcions només tenen efecte en la sessió actual i no es guardaran."
 
 #: settings/rksettingsmoduledebug.cpp:48
 msgid "Debug level"
-msgstr ""
+msgstr "Nivell de depuració"
 
 #: settings/rksettingsmoduledebug.cpp:58
 msgid "Debug flags"
-msgstr ""
+msgstr "Senyaladors de depuració"
 
-# Termcat: diari  m. Registre cronològic de les operacions de processament de dades dutes a terme en un fitxer.
 #: settings/rksettingsmoduledebug.cpp:83
-#, fuzzy
+# ??? p roca: Per revisar
+# es: Tiempo límite de los comandos
 msgid "Command timeout"
-msgstr "Bitàcola de les ordres"
+msgstr "Temps d'espera de les ordres"
 
 #: settings/rksettingsmoduledebug.cpp:93
 msgid "<i>Note:</i> Debug output is written to %1"
-msgstr ""
+msgstr "<i>Nota:</i> La sortida de la depuració s'escriu a %1"
 
 #: settings/rksettingsmoduledebug.cpp:110
 msgid "Debug"
-msgstr ""
+msgstr "Depuració"
 
 # Traducció embastada: settings -> arranjament
 # Recull de termes de Softcatalà: settings - m pl paràmetres
 #: settings/rksettingsmodulegeneral.cpp:52
 msgid "Settings marked with (*) do not take effect until you restart RKWard"
-msgstr ""
-"Els arranjaments marcats amb un (*) només s'aplicaran si reengegueu RKWard"
+msgstr "Els arranjaments marcats amb un (*) només s'aplicaran si reengegueu RKWard"
 
 #: settings/rksettingsmodulegeneral.cpp:58
 msgid "Directory where the logfiles should be kept (*)"
@@ -2128,16 +2131,23 @@
 msgstr "Sense límits"
 
 #: settings/rksettingsmodulegeneral.cpp:116
+# ??? p roca: Per revisar
+# es: Comportamiento de foco de ventana MDI
 msgid "MDI window focus behavior"
-msgstr ""
+msgstr "Comportament de focus de la finestra MDI"
 
 #: settings/rksettingsmodulegeneral.cpp:119
+# ??? p roca: Per revisar
+# es: Clic para focalizar
+# Clicar per focalitzar?
 msgid "Click to focus"
-msgstr ""
+msgstr "Clicar par centrar"
 
 #: settings/rksettingsmodulegeneral.cpp:120
+# ??? p roca: Per revisar
+# El foco sigue al ratón
 msgid "Focus follows mouse"
-msgstr ""
+msgstr "El focus segueix al ratolí"
 
 #: settings/rksettingsmodulegeneral.cpp:145
 msgid "General"
@@ -2201,50 +2211,50 @@
 msgstr "Opcions de la finestra de resultats"
 
 #: settings/rksettingsmoduleoutput.cpp:50
+# ??? p roca: Per revisar: No se que vol dir
 msgid "show window on new output"
-msgstr ""
+msgstr "mostrar la finestra de la nova sortida"
 
 #: settings/rksettingsmoduleoutput.cpp:53
+# ??? p roca: Per revisar: no se que vol dir
 msgid "raise window on new output"
-msgstr ""
+msgstr "puja la finestra de la nova sortida"
 
 #: settings/rksettingsmoduleoutput.cpp:60
 msgid "Graphics"
-msgstr ""
+msgstr "Gràfics"
 
 #: settings/rksettingsmoduleoutput.cpp:64
-#, fuzzy
 msgid "File format"
-msgstr "Format de fitxer: "
+msgstr "Format de fitxer"
 
 #: settings/rksettingsmoduleoutput.cpp:66
-#, fuzzy
 msgid "<Default>"
-msgstr "Opció per omissió"
+msgstr "<Opció per omisió>"
 
 #: settings/rksettingsmoduleoutput.cpp:67
 msgid "PNG"
-msgstr ""
+msgstr "PNG"
 
 #: settings/rksettingsmoduleoutput.cpp:68
 msgid "SVG"
-msgstr ""
+msgstr "SVG"
 
 #: settings/rksettingsmoduleoutput.cpp:69
 msgid "JPG"
-msgstr ""
+msgstr "JPG"
 
 #: settings/rksettingsmoduleoutput.cpp:74
 msgid "JPG quality"
-msgstr ""
+msgstr "Qualitat del JPG"
 
 #: settings/rksettingsmoduleoutput.cpp:82
 msgid "Width:"
-msgstr ""
+msgstr "Ample:"
 
 #: settings/rksettingsmoduleoutput.cpp:85
 msgid "Height:"
-msgstr ""
+msgstr "Alt:"
 
 #: settings/rksettingsmodulephp.cpp:39
 msgid "Changes in this section take effect the next time you start a plugin"
@@ -2285,7 +2295,6 @@
 
 # ??? Per revisar
 #: settings/rksettingsmoduleplugins.cpp:82
-#, fuzzy
 msgid "R syntax display (in dialogs)"
 msgstr "Mostra la sintaxis de R (en els diàlegs)"
 
@@ -2348,9 +2357,8 @@
 
 # ??? Per revisar: és l'ordre print, no la impressió
 #: settings/rksettingsmoduler.cpp:101
-#, fuzzy
 msgid "Maximum number of elements shown in print"
-msgstr "Nombre màxim d'elements que s'han de mostrar en la impressió"
+msgstr "Nombre màxim d'elements que s'han de mostrar"
 
 #: settings/rksettingsmoduler.cpp:107
 msgid "Maximum length of warnings/errors to print"
@@ -2373,9 +2381,8 @@
 msgstr "Manté els comentaris en els paquets"
 
 #: settings/rksettingsmoduler.cpp:126 settings/rksettingsmoduler.cpp:148
-#, fuzzy
 msgid "TRUE"
-msgstr "VERA)"
+msgstr "VERA"
 
 #: settings/rksettingsmoduler.cpp:127 settings/rksettingsmoduler.cpp:149
 msgid "FALSE (default)"
@@ -2404,14 +2411,15 @@
 msgstr "Ordre que s'ha d'utilitzar per imprimir els fitxers"
 
 #: settings/rksettingsmoduler.cpp:159
-#, fuzzy
 msgid "Editor command"
-msgstr "Ordres de l'usuari"
+msgstr "Editor d'ordres"
 
 #: settings/rksettingsmoduler.cpp:170
-#, fuzzy
+# ??? p roca: Per revisar: Paginador d'ordres?
+# es: Comando del paginador
+# Localitzador d'ordres o ordres del paginador / localització
 msgid "Pager command"
-msgstr "Ordres de l'usuari"
+msgstr ""
 
 # fr.po: Processus R
 # es.po: Backend R
@@ -2421,27 +2429,23 @@
 
 #: settings/rksettingsmoduler.cpp:335
 msgid "CRAN download mirror (leave empty to be prompted once each session):"
-msgstr ""
+msgstr "CRAN rèplica de baixades (deixar vuit per ser preguntat un cop en cada sessió):"
 
 #: settings/rksettingsmoduler.cpp:342
-#, fuzzy
 msgid "Select mirror"
-msgstr "Selecciona un:"
+msgstr "Selecciona una rèplica"
 
 #: settings/rksettingsmoduler.cpp:346
-#, fuzzy
 msgid "Additional package repositories (where libraries are downloaded from)"
-msgstr "Dipòsit de paquets (d'on són descarregades les biblioteques)"
+msgstr "Dipòsit de paquets addicionals (d'on són descarregades les biblioteques)"
 
 #: settings/rksettingsmoduler.cpp:352
 msgid "Archive downloaded packages"
 msgstr "Arxiva els paquets descarregats"
 
 #: settings/rksettingsmoduler.cpp:359
-#, fuzzy
 msgid "R Library locations (where libraries get installed to, locally)"
-msgstr ""
-"Ubicació de les biblioteques R (on localment s'instal·len les biblioteques)"
+msgstr "Ubicacions de les biblioteques R (on localment s'instal·len les biblioteques)"
 
 #: settings/rksettingsmoduler.cpp:364
 msgid ""
@@ -2460,9 +2464,8 @@
 msgstr "Afegeix el dipòsit"
 
 #: settings/rksettingsmoduler.cpp:389
-#, fuzzy
 msgid "Add URL of new repository"
-msgstr "Afegeix el dipòsit"
+msgstr "Afegeix la URL del nou dipòsit"
 
 #: settings/rksettingsmoduler.cpp:395
 msgid "R-Packages"
@@ -2470,7 +2473,7 @@
 
 #: settings/rksettingsmoduler.cpp:406
 msgid "Select CRAN mirror"
-msgstr ""
+msgstr "Selecciona la rèplica CRAN"
 
 #: settings/rksettingsmodulewatch.cpp:123
 msgid ""
@@ -2563,31 +2566,30 @@
 msgstr "Continua l'execució"
 
 #: windows/rkcommandeditorwindow.cpp:169
-#, fuzzy
 msgid "Run block"
-msgstr "Executa-ho tot"
+msgstr "Executa el bloc"
 
 #: windows/rkcommandeditorwindow.cpp:173
+# es: Marcar la selección como bloque
+# ca kate: Mode selecció per blocs
 msgid "Mark selection as block"
-msgstr ""
+msgstr "Mode selecció per  blocs rectangulars"
 
 #: windows/rkcommandeditorwindow.cpp:176
 msgid "Unmark block"
-msgstr ""
+msgstr "Desmarca bloc"
 
 #: windows/rkcommandeditorwindow.cpp:181
-#, fuzzy
 msgid "CD to script directory"
-msgstr "Fitxer de seqüència"
+msgstr "CD al directori de seqüències"
 
 #: windows/rkcommandeditorwindow.cpp:183
 msgid "Change the working directory to the directory of this script"
-msgstr ""
+msgstr "Canvia el directori de treball per el d'aquesta seqüència"
 
 #: windows/rkcommandeditorwindow.cpp:188
-#, fuzzy
 msgid "Configure Script Editor"
-msgstr "Configura els dipòsits"
+msgstr "Configura l'editor de seqüències"
 
 #: windows/rkcommandeditorwindow.cpp:274 windows/rkcommandeditorwindow.cpp:361
 msgid " [modified]"
@@ -2606,18 +2608,16 @@
 msgstr "Sense nom"
 
 #: windows/rkcommandeditorwindow.cpp:468
-#, fuzzy
 msgid "cd to current script directory"
-msgstr "Configura els dipòsits"
+msgstr "cd al directori de la seqüència actual"
 
 #: windows/rkcommandeditorwindow.cpp:577
-#, fuzzy
 msgid "%1 (Active)"
-msgstr "&Activa"
+msgstr "%1 (Activa)"
 
 #: windows/rkcommandeditorwindow.cpp:599
 msgid "%1 (Unused)"
-msgstr ""
+msgstr "%1 (Sense ús)"
 
 #: windows/rkcommandlog.cpp:183
 msgid "Incomplete statement.\n"
@@ -2674,7 +2674,7 @@
 
 #: windows/rkhelpsearchwindow.cpp:160
 msgid "Find HTML help for %1"
-msgstr ""
+msgstr "Cerca l'ajuda HTML per %1"
 
 #: windows/rkhelpsearchwindow.cpp:220
 msgid ""
@@ -2691,6 +2691,7 @@
 msgstr "No s'ha trobat l'ajuda"
 
 #: windows/rkhelpsearchwindow.cpp:300
+# ??? p roca: Per revisar: es: Campo, fr: Sujet
 msgid "Topic"
 msgstr "Tema"
 
@@ -2708,36 +2709,32 @@
 
 # fr.po: Sorties
 #: windows/rkhtmlwindow.cpp:326
-#, fuzzy
 msgid "Output %1"
-msgstr "Resultats"
+msgstr "Resultats %1"
 
 #: windows/rkhtmlwindow.cpp:367
-#, fuzzy
+# ??? p roca: Per revisar: podira ser Mostre els resultats?
 msgid "Print output"
 msgstr "Imprimeix els resultats"
 
 #: windows/rkhtmlwindow.cpp:369
 msgid "Export page as HTML"
-msgstr ""
+msgstr "Exporta la pàgina com HTML"
 
 #: windows/rkhtmlwindow.cpp:380
-#, fuzzy
 msgid "Print page"
-msgstr "Imprimeix l'ajuda"
+msgstr "Imprimeix la pàgina"
 
 #: windows/rkhtmlwindow.cpp:382
 msgid "Save Output as HTML"
 msgstr "Desa els resultats com HTML"
 
 #: windows/rkhtmlwindow.cpp:401
-#, fuzzy
 msgid ""
 "<HTML><BODY><H1>RKWard output file could not be found</H1>\n"
 "</BODY></HTML>"
 msgstr ""
-"<HTML><BODY><H1> Resultats del RKWard</H1>\n"
-"<P> Els resultats estan buits.</P>\n"
+"<HTML><BODY><H1>El fitxer de resultats del RKWard no s'ha pogut trobar</H1>\n"
 "</BODY></HTML>"
 
 #: windows/rkhtmlwindow.cpp:403
@@ -2759,15 +2756,19 @@
 msgstr "No títol"
 
 #: windows/rkhtmlwindow.cpp:493
+# ??? Per revisar : Núria
 msgid ""
 "<h1>Help page missing</h1>\n"
 "<p>The help page for this component has not yet been written (or is broken). "
 "Please consider contributing it.</p>\n"
 msgstr ""
+"<h1>Falta la pàgina d'ajuda</h1>\n"
+"<p>La pàgina d'ajuda per aquest component encara ho s'ha escrit (o és incompleta). "
+"Considereu contribuir-hi</p>\n"
 
 #: windows/rkhtmlwindow.cpp:498
 msgid "Use %1 now"
-msgstr ""
+msgstr "Utilitza %1 ara"
 
 #: windows/rkhtmlwindow.cpp:515
 msgid "Summary"
@@ -2795,7 +2796,7 @@
 
 #: windows/rkhtmlwindow.cpp:579
 msgid "<h1>On this page:</h1>"
-msgstr ""
+msgstr "<h1>En aquesta pàgina:</h1>"
 
 #: windows/rkhtmlwindow.cpp:646
 msgid "R Reference on '%1'"
@@ -2807,32 +2808,31 @@
 
 #: windows/rktoolwindowbar.cpp:272
 msgid "Attachment"
-msgstr ""
+msgstr "Fitxer adjunt"
 
 #: windows/rktoolwindowbar.cpp:274
-#, fuzzy
 msgid "Attach"
-msgstr "Allibera"
+msgstr "Adjunta"
 
 #: windows/rktoolwindowbar.cpp:276
 msgid "Move To"
-msgstr ""
+msgstr "Mou a"
 
 #: windows/rktoolwindowbar.cpp:278
 msgid "Left Sidebar"
-msgstr ""
+msgstr "Barra esquerra"
 
 #: windows/rktoolwindowbar.cpp:279
 msgid "Right Sidebar"
-msgstr ""
+msgstr "Barra dreta"
 
 #: windows/rktoolwindowbar.cpp:280
 msgid "Top Sidebar"
-msgstr ""
+msgstr "Barra superior"
 
 #: windows/rktoolwindowbar.cpp:281
 msgid "Bottom Sidebar"
-msgstr ""
+msgstr "Barra inferior"
 
 #: windows/rktoplevelwindowgui.cpp:57
 msgid "Help on R"
@@ -2863,9 +2863,8 @@
 msgstr "Mostra/Oculta el navegador de l'espai de treball"
 
 #: windows/rktoplevelwindowgui.cpp:78
-#, fuzzy
 msgid "Show/Hide Filesystem Browser"
-msgstr "Mostra/Oculta el navegador de l'espai de treball"
+msgstr "Mostra/Oculta el navegador del sistema de fitxers"
 
 # Termcat: diari  m. Registre cronològic de les operacions de processament de dades dutes a terme en un fitxer.
 #: windows/rktoplevelwindowgui.cpp:82
@@ -2888,7 +2887,6 @@
 # Activa la visualització del document o
 # Activa la visualització dels documents
 #: windows/rktoplevelwindowgui.cpp:98
-#, fuzzy
 msgid "Activate Document view"
 msgstr "Activa la visualització del document"
 
@@ -2905,16 +2903,17 @@
 "Therefore, if you want to configure keyboard shortcuts e.g. for use inside "
 "the script editor, you need to open a script editor window, and activate it."
 msgstr ""
+"Per raons tècniques, el següent diàleg només us permet configurar les dreceres del teclat per les parts del RKWard que estan actualment actives.\n"
+"\n"
+"Per tant, si voleu configurar les dreceres de teclat de, p.ex.,l'editor de seqüències, heu d'obrir una finestra de l'editor de seqüències per activar-lo."
 
 #: windows/rktoplevelwindowgui.cpp:117 windows/rktoplevelwindowgui.cpp:130
-#, fuzzy
 msgid "Note"
-msgstr "No títol"
+msgstr "Nota"
 
 #: windows/rktoplevelwindowgui.cpp:123
-#, fuzzy
 msgid "RKWard Plugins"
-msgstr "Endollables"
+msgstr "Endollables del RKWard"
 
 #: windows/rktoplevelwindowgui.cpp:130
 msgid ""
@@ -2924,16 +2923,19 @@
 "Therefore, if you want to configure tool buttons e.g. for use inside the "
 "script editor, you need to open a script editor window, and activate it."
 msgstr ""
+"Per raons tècniques, el següent diàleg només us permet configurar les dreceres dels botós de la barra d'eines per les parts del RKWard que estan actualment actives.\n"
+"\n"
+"Per tant, si voleu configurar els botós de la barra d'eines de, p.ex.,l'editor de seqüències, heu d'obrir una finestra de l'editor de seqüències per activar-lo."
 
 #: windows/rktoplevelwindowgui.cpp:152
 msgid ""
 "<p>Please submit your bug reports or wishes at <a href=\"%1\">%1</a> or send "
 "email to <a href=\"mailto:%2\">%2</a>.</p>"
-msgstr ""
+msgstr "<p>Si us plau, trameteu els vostres informes d'errors o desitjos a <a href=\"%1\">%1</a> o envieu un missatge electrònic a <a href=\"mailto:%2\">%2</a>.</p>"
 
 #: windows/rktoplevelwindowgui.cpp:154
 msgid "Reporting bugs in RKWard"
-msgstr ""
+msgstr "Informar els errors del RKWard"
 
 #: windows/rkwindowcatcher.cpp:57
 msgid ""
@@ -2972,17 +2974,16 @@
 
 # ??? Per revisar
 #: windows/rkwindowcatcher.cpp:242
-#, fuzzy
 msgid "Specify fixed size"
 msgstr "Especifiqueu la mida fixa"
 
 #: windows/rkwindowcatcher.cpp:248
 msgid "Width"
-msgstr ""
+msgstr "Ample"
 
 #: windows/rkwindowcatcher.cpp:252
 msgid "Height"
-msgstr ""
+msgstr "Alt"
 
 #: windows/rkwindowcatcher.cpp:270
 msgid "Activate graphics device number %1"
@@ -3052,29 +3053,27 @@
 
 # default application: application par défaut (fr.po) aplicación predeterminada (es.po)
 #: windows/rkworkplace.cpp:211
-#, fuzzy
 msgid ""
 "The url you are trying to open ('%1') is not a local file or the filetype is "
 "not supported by RKWard. Do you want to open the url in the default "
 "application?"
 msgstr ""
-"Esteu intentant obrir una URL ('%1') que no és un fitxer local. Voleu obrir "
+"La URL que esteu intentant obrir ('%1') no és un fitxer local o el tipus de fitxer no l'admet el RKWard. . Voleu obrir "
 "aquesta URL en l'aplicació per omissió?"
 
 #: windows/rkworkplace.cpp:211
 msgid "Open in default application?"
 msgstr "L'obro en l'aplicació per omissió?"
 
-#: windows/rkworkplace.cpp:239
+#: windows/rkworkplace.cpp:240
 msgid "Unable to open \"%1\""
 msgstr "No es pot obrir \"%1\""
 
-#: windows/rkworkplace.cpp:239
+#: windows/rkworkplace.cpp:240
 msgid "Could not open command file"
 msgstr "No s'ha pogut obrir el fitxer d'ordres"
 
-#: windows/rkworkplace.cpp:348
-#, fuzzy
+#: windows/rkworkplace.cpp:349
 msgid ""
 "You are about to edit object \"%1\", which is very large (%2 fields). RKWard "
 "is not optimized to handle very large objects in the built in data editor. "
@@ -3087,52 +3086,50 @@
 ">Configure RKWard->General.\n"
 "Really edit object?"
 msgstr ""
-"Esteu a punt d'editar l'objecte \"%1\" que és molt gran (%2 camps). L'editor "
+"Esteu a punt d'editar l'objecte \"%1\" que és molt gran (%2 camps). El L'editor "
 "integrat de dades del RKWard no està optimitzat per manegar objectes grans. "
 "Això pot utilitzar molta memòria, i -depenent del vostre sistema- anar molt "
 "lent. Es recomana editar els objectes grans utilitzant els mètodes "
 "disponibles en la línia d'ordres o dividir-los en bocins més petits abans "
 "d'editar-los. D'altra banda, si teniu memòria suficient, o les dades són "
 "suficientment simples (les dades numèriques són més fàcils de manegar que "
-"els factors (variables categòriques)), poder es poden editar sense "
+"els factors (variables qualitatives)), poder es poden editar sense "
 "problemes. Podeu configurar aquest avís (o desactivar-lo del tot) a "
 "Arranjaments-> Configura RKWard->General.\n"
 "Edito l'objecte?"
 
-#: windows/rkworkplace.cpp:348
+#: windows/rkworkplace.cpp:349
 msgid "About to edit very large object"
 msgstr "Quant a editar objectges molt grans"
 
 # fr.po: Enregistrer l'espace de travail
 # es.po: Guardar Espacio de Trabajo
 #  Thomas Friedrichsmeier: Workplace is the windows (script editors / data editors / help files / output) managed by rkward
-#: windows/rkworkplace.cpp:508
+#: windows/rkworkplace.cpp:509
 msgid "Save Workplace layout"
 msgstr "Desa el lloc de treball del RkWard"
 
-#: windows/rkworkplace.cpp:515
+#: windows/rkworkplace.cpp:516
 msgid "Restore Workplace layout"
 msgstr "Restableix el lloc de treball del RKWard"
 
-#: windows/rkworkplace.cpp:584
+#: windows/rkworkplace.cpp:585
 msgid "Previous Window"
 msgstr "Finestra anterior"
 
-#: windows/rkworkplace.cpp:589
+#: windows/rkworkplace.cpp:590
 msgid "Next Window"
 msgstr "Finestra següent"
 
 # ¿O finestra esquerra?
 # ??? Per revisar
-#: windows/rkworkplaceview.cpp:72
-#, fuzzy
+#: windows/rkworkplaceview.cpp:70
 msgid "Window Left"
 msgstr "Finestra a l'esquerra"
 
 # ¿O finestra dreta?
 # ??? Per revisar
-#: windows/rkworkplaceview.cpp:76
-#, fuzzy
+#: windows/rkworkplaceview.cpp:74
 msgid "Window Right"
 msgstr "Finestra a la dreta"
 
@@ -3146,11 +3143,11 @@
 
 #: windows/robjectbrowser.cpp:121
 msgid "Edit"
-msgstr ""
+msgstr "Edita"
 
 #: windows/robjectbrowser.cpp:123
 msgid "View"
-msgstr ""
+msgstr "Visualitza"
 
 #: windows/robjectbrowser.cpp:125
 msgid "Rename"
@@ -3165,12 +3162,10 @@
 msgstr "Copia al .GlobalEnv"
 
 #: windows/robjectbrowser.cpp:131
-#, fuzzy
 msgid "Delete"
-msgstr "Selecciona"
+msgstr "Esborra"
 
 #: windows/robjectbrowser.cpp:133
-#, fuzzy
 msgid "Unload Package"
 msgstr "Paquets carregats"
 
@@ -3235,7 +3230,7 @@
 #: rc.cpp:3 rc.cpp:12 rc.cpp:36 rc.cpp:63 rc.cpp:87 rc.cpp:102 rc.cpp:111
 #: rc.cpp:117
 msgid "&Edit"
-msgstr ""
+msgstr "&Edita"
 
 #. i18n: file: dataeditor/rkeditordataframepart.rc:13
 #. i18n: ectx: Menu (windows)
@@ -3256,9 +3251,8 @@
 #. i18n: file: windows/rkoutputwindow.rc:4
 #. i18n: ectx: Menu (file)
 #: rc.cpp:9 rc.cpp:24 rc.cpp:57 rc.cpp:108 rc.cpp:114
-#, fuzzy
 msgid "&File"
-msgstr "Nom de fitxer"
+msgstr "&Fitxer"
 
 #. i18n: file: rkconsolepart.rc:17
 #. i18n: ectx: Menu (view)
@@ -3271,9 +3265,8 @@
 #. i18n: file: windows/rkoutputwindow.rc:12
 #. i18n: ectx: Menu (view)
 #: rc.cpp:15 rc.cpp:39 rc.cpp:66 rc.cpp:84 rc.cpp:120
-#, fuzzy
 msgid "&View"
-msgstr "&Nou"
+msgstr "&Visualitza"
 
 #. i18n: file: rkconsolepart.rc:22
 #. i18n: ectx: Menu (run)
@@ -3300,9 +3293,8 @@
 #. i18n: file: windows/rktoplevelwindowgui.rc:21
 #. i18n: ectx: Menu (settings)
 #: rc.cpp:21 rc.cpp:51 rc.cpp:96 rc.cpp:105 rc.cpp:129
-#, fuzzy
 msgid "&Settings"
-msgstr "Arranjaments"
+msgstr "&Arranjaments"
 
 #. i18n: file: rkwardui.rc:8
 #. i18n: ectx: Menu (new_data)
@@ -3339,9 +3331,8 @@
 #. i18n: file: windows/rktoplevelwindowgui.rc:25
 #. i18n: ectx: Menu (help)
 #: rc.cpp:54 rc.cpp:78 rc.cpp:132
-#, fuzzy
 msgid "&Help"
-msgstr "Ajuda del R"
+msgstr "&Ajuda"
 
 #. i18n: file: windows/detachedwindowcontainer.rc:8
 #. i18n: ectx: Menu (device)
@@ -3349,22 +3340,25 @@
 #. i18n: ectx: Menu (device)
 #: rc.cpp:60 rc.cpp:81
 msgid "&Device"
-msgstr ""
+msgstr "&Dispositiu"
 
 #. i18n: file: windows/detachedwindowcontainer.rc:35
 #. i18n: ectx: Menu (window)
 #. i18n: file: windows/rktoplevelwindowgui.rc:5
 #. i18n: ectx: Menu (window)
 #: rc.cpp:72 rc.cpp:123
-#, fuzzy
+# ??? p roca: Per revisar
 msgid "&Window"
 msgstr "&Finestres"
 
 #. i18n: file: windows/rkcommandeditorwindowpart.rc:5
 #. i18n: ectx: Menu (tools)
 #: rc.cpp:90
+# ??? p roca: Per revisar: posició del & i traducció
+# ??? Per revisar : kde-i18n-ca@kde.org
+# es: M&ovimiento de herramientas
 msgid "&Tools Move"
-msgstr ""
+msgstr "M&oviment d'eines"
 
 #: rc.cpp:133
 msgctxt "NAME OF TRANSLATORS"
@@ -3376,180 +3370,3 @@
 msgid "Your emails"
 msgstr ""
 
-#~ msgid "Open command file(s)"
-#~ msgstr "Obra el(s) fitxer(s) d'ordres"
-
-#~ msgid ""
-#~ "Add URL of new repository\n"
-#~ "(Enter \"@CRAN@\" for the standard CRAN-mirror)"
-#~ msgstr ""
-#~ "Afegiu la URL del nou dipòsit\n"
-#~ "(Introduïu \"@CRAN@\" per la rèplica CRAN estàndard)"
-
-#~ msgid ""
-#~ "There are no safeguards against removing essential packages. For example, "
-#~ "unloading \"rkward\" will prevent this application from running properly. "
-#~ "Please be careful about the packages you unload."
-#~ msgstr ""
-#~ "No existeix cap protecció que impedeixi eliminar paquets essencials. Per "
-#~ "exemple, si elimineu el paquet \"rkward\", aquesta aplicació no "
-#~ "funcionarà correctament. Sobretot, aneu amb cura quan elimineu algun "
-#~ "paquet."
-
-#, fuzzy
-#~ msgid "&Cancel"
-#~ msgstr "Cancel·lat"
-
-#~ msgid "file to open"
-#~ msgstr "fitxer a obrir"
-
-#~ msgid ""
-#~ "Please submit your bug reports or wishes at http://sourceforge.net/"
-#~ "tracker/?group_id=50231&atid=459007 or send email to rkward-devel@lists."
-#~ "sourceforge.net"
-#~ msgstr ""
-#~ "Si us plau, trameteu els informes d'errors o els desitjos a http://"
-#~ "sourceforge.net/tracker/?group_id=50231&atid=459007 o envieu un missatge "
-#~ "a rkward-devel@lists.sourceforge.net"
-
-#~ msgid ""
-#~ "\t- The 'rkward' R-library could not be loaded. This library is needed "
-#~ "for communication between R and RKWard and many things will not work "
-#~ "properly if this library is not present. Likely RKWard will even crash. "
-#~ "The 'rkward' R-library should have been included in your distribution or "
-#~ "RKWard, and should have been set up when you ran 'make install'. Please "
-#~ "try 'make install' again and check for any errors. You should quit RKWard "
-#~ "now.\n"
-#~ msgstr ""
-#~ "\t- La biblioteca R del 'rkward' no es pot carregar. Aquesta biblioteca "
-#~ "és necessària per a la comunicació entre el R i el RKWard i moltes coses "
-#~ "no funcionaran correctament si aquesta biblioteca no està present. Fins i "
-#~ "tot és probable que el RKWard peti. Heu d'incloure la biblioteca R del "
-#~ "'rkward' en la seva distribució o en el RKWard, i heu d'instal·lar-la "
-#~ "quan executeu 'make install'. Intenteu de nou 'make install' i verifiqueu "
-#~ "que no hi hagi cap error. Ara hauríeu de sortir del RKWard.\n"
-
-#~ msgid ""
-#~ "It will be shut down immediately. This means, you can not use any more "
-#~ "functions that rely on the R backend. I.e. you can do hardly anything at "
-#~ "all, not even save the workspace. What you can do, however, is save any "
-#~ "open command-files, the output, or copy data out of open data editors. "
-#~ "Quit RKWard after that. Sorry!"
-#~ msgstr ""
-#~ "S'aturarà immediatament. Això vol dir que no podreu seguir utilitzant les "
-#~ "funcions basades en el dorsal R. És a dir, que no podeu fer pràcticament "
-#~ "res, ni tan sols desar l'espai de treball. Tanmateix, sí que podeu desar "
-#~ "els fitxers d'ordres que tingueu oberts, els resultats, o les dades dels "
-#~ "editors de dades oberts. Després, sortiu del RKWard."
-
-#~ msgid ""
-#~ "RKWard has made great progress in the past few months and it is already "
-#~ "helpful for many tasks, but some features may be lacking. You can help us "
-#~ "by filing bug reports, feature requests, or providing feedback in any "
-#~ "other form. Please visit http://rkward.sourceforge.net for more "
-#~ "information."
-#~ msgstr ""
-#~ "RKWard ha millorat molt en els darrers mesos i ja és útil per moltes "
-#~ "tasques, però falten algunes funcions. Ens podeu ajudar  informant dels "
-#~ "errors, demanant funcionalitats, o comunicat-nos les vostres impressions "
-#~ "de qualsevol altra forma. Si us plau, visiteu http://rkward.sourceforge."
-#~ "net per més informació."
-
-#~ msgid "What to expect of RKWard"
-#~ msgstr "Què podeu esperar de RKWard"
-
-#~ msgid "R Help"
-#~ msgstr "Ajuda del R"
-
-#~ msgid "Default for type '%1'"
-#~ msgstr "Per omissió pel tipus '%1'"
-
-#~ msgid "Ok"
-#~ msgstr "D'acord"
-
-# fr.po: Indicateurs
-# es.po: Banderas
-#~ msgid "Flags"
-#~ msgstr "Senyaladors"
-
-# fr.po: Chaîne
-# es.po: Cadena
-#~ msgid "Chain"
-#~ msgstr "Cadena"
-
-#~ msgid ""
-#~ "You appear to have an old configuration for the plugin-paths. The default "
-#~ "configuration was changed between rkward 0.3.4 and rkward 0.3.5. Should "
-#~ "the configuration be set to the new default (recommended)?"
-#~ msgstr ""
-#~ "Sembla que teniu una configuració antiga en el camí dels endollables. La "
-#~ "configuració per omissió s'ha canviat entre les versions 0.3.4 i 0.3.5 "
-#~ "del RKWard. He de canviar la configuració a la nova per omissió "
-#~ "(recomanat)?"
-
-# fr.po: Configuration des paquets
-#~ msgid "Configuration change"
-#~ msgstr "Canvia la configuració"
-
-#~ msgid "Show Output"
-#~ msgstr "Mostra els resultats"
-
-#~ msgid "Hide Output"
-#~ msgstr "Oculta els resultats"
-
-#~ msgid "Show Errors / Warnings"
-#~ msgstr "Mostra els errors / avisos"
-
-#~ msgid "Hide Errors / Warnings"
-#~ msgstr "Oculta els errors / avisos"
-
-#~ msgid "[Objects]"
-#~ msgstr "[Objectes]"
-
-#~ msgid "Existing objects in your workspace."
-#~ msgstr "Hi han objectes en l'espai de treball."
-
-#~ msgid "File-system Browser"
-#~ msgstr "Navegador dels fitxer del sistema"
-
-#~ msgid "starting R engine"
-#~ msgstr "S'està engegant el motor R"
-
-#~ msgid ""
-#~ "Quitting RKWard: Do you want to save the workspace?\n"
-#~ "RKWard will remain open if you press Cancel"
-#~ msgstr ""
-#~ "Esteu sortint del RKWard. Voleu desar l'espai de treball?\n"
-#~ "RKWard seguirà obert si premeu Cancel·lar"
-
-# fr.po: Result of 'print ("
-#~ msgid ""
-#~ "\n"
-#~ "Result of 'summary (%1)':\n"
-#~ msgstr ""
-#~ "\n"
-#~ "Resultat de 'summary (%1)':\n"
-
-#~ msgid "Hide"
-#~ msgstr "Amaga"
-
-# fr.po: Result of 'print ("
-#~ msgid ""
-#~ "\n"
-#~ "Result of 'print (%1)':\n"
-#~ msgstr ""
-#~ "\n"
-#~ "Resultat de 'print (%1)':\n"
-
-#~ msgid "Show"
-#~ msgstr "Mostra"
-
-#~ msgid ""
-#~ "_: NAME OF TRANSLATORS\n"
-#~ "Your names"
-#~ msgstr "Pep Roca"
-
-#~ msgid ""
-#~ "_: EMAIL OF TRANSLATORS\n"
-#~ "Your emails"
-#~ msgstr "pep.roca@gmail.com"
diff -Nuar rkward-0.5.3.orig/po/cs.po rkward-0.5.3/po/cs.po
--- rkward-0.5.3.orig/po/cs.po	2010-04-27 11:01:38.000000000 +0300
+++ rkward-0.5.3/po/cs.po	2010-05-02 13:25:46.607032000 +0300
@@ -13,11 +13,11 @@
 msgid ""
 msgstr ""
 "Project-Id-Version: de\n"
-"Report-Msgid-Bugs-To: http://sourceforge.net/tracker/?"
-"group_id=50231&atid=459007\n"
+"Report-Msgid-Bugs-To: http://sourceforge."
+"net/tracker/?group_id=50231&atid=459007\n"
 "POT-Creation-Date: 2010-04-27 10:01+0200\n"
-"PO-Revision-Date: 2010-02-06 17:21+0100\n"
-"Last-Translator: Pavel Fric <pavelfric@seznam.cz>\n"
+"PO-Revision-Date: 2010-04-30 15:36+0200\n"
+"Last-Translator: Pavel\n"
 "Language-Team: Czech <kde-i18n-doc@kde.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
@@ -704,12 +704,11 @@
 
 #: dialogs/rkselectlistdialog.cpp:38
 msgid "<b>Select one or more:</b>"
-msgstr ""
+msgstr "<b>Vybrat jeden nebo více:</b>"
 
 #: dialogs/rkselectlistdialog.cpp:39
-#, fuzzy
 msgid "<b>Select one:</b>"
-msgstr "Vybrat jeden:"
+msgstr "<b>Vybrat jeden:</b>"
 
 #: dialogs/startupdialog.cpp:46
 msgid "What would you like to do?"
@@ -776,9 +775,8 @@
 msgstr "Rozhraní pro statistický jazyk R"
 
 #: main.cpp:99
-#, fuzzy
 msgid "(c) 2002, 2004, 2005, 2006, 2007, 2008, 2009, 2010"
-msgstr "(c) 2002, 2004, 2005, 2006, 2007, 2008, 2009"
+msgstr "(c) 2002, 2004, 2005, 2006, 2007, 2008, 2009, 2010"
 
 #: main.cpp:100 main.cpp:101 main.cpp:102 main.cpp:103 main.cpp:105
 #: main.cpp:106 main.cpp:107 main.cpp:108 main.cpp:109 main.cpp:110
@@ -957,82 +955,79 @@
 
 #: misc/rkspecialactions.cpp:27 misc/rkspecialactions.cpp:66
 msgid "Paste special..."
-msgstr ""
+msgstr "Vložit zvláštní..."
 
 #: misc/rkspecialactions.cpp:79
 msgid "Paste mode"
-msgstr ""
+msgstr "Režim vkládání"
 
 #: misc/rkspecialactions.cpp:82
-#, fuzzy
 msgid "Single string"
-msgstr "Spouští se jádro R"
+msgstr "Jednoduchý řetězec"
 
 #: misc/rkspecialactions.cpp:85
 msgid "Vector"
-msgstr ""
+msgstr "Vektor"
 
 #: misc/rkspecialactions.cpp:97
 msgid "Field separator"
-msgstr ""
+msgstr "Oddělovač polí"
 
 #: misc/rkspecialactions.cpp:100
 msgid "Tab"
-msgstr ""
+msgstr "Zarážka"
 
 #: misc/rkspecialactions.cpp:104
-#, fuzzy
 msgid "Comma"
-msgstr "Příkaz"
+msgstr "Čárka"
 
 #: misc/rkspecialactions.cpp:108
-#, fuzzy
 msgid "Single space"
-msgstr "Uložit pracovní prostředí"
+msgstr "Jednoduchá mezera"
 
 #: misc/rkspecialactions.cpp:111
 msgid "Any whitespace"
-msgstr ""
+msgstr "Jakékoli prázdné místo"
 
 #: misc/rkspecialactions.cpp:115
 msgid "Other:"
-msgstr ""
+msgstr "Jiné:"
 
 #: misc/rkspecialactions.cpp:126
 msgid "Quoting"
-msgstr ""
+msgstr "Uvozovky"
 
 #: misc/rkspecialactions.cpp:129
 msgid "Do not quote values"
-msgstr ""
+msgstr "Nedávat hodnoty do uvozovek"
 
 #: misc/rkspecialactions.cpp:132
 msgid "Automatic"
-msgstr ""
+msgstr "Automaticky"
 
 #: misc/rkspecialactions.cpp:136
 msgid "Quote all values"
-msgstr ""
+msgstr "Dávat všechny hodnoty do uvozovek"
 
 #: misc/rkspecialactions.cpp:142
 msgid "Transformations"
-msgstr ""
+msgstr "Zobrazení"
 
 #: misc/rkspecialactions.cpp:144
 msgid "Reverse horizontally"
-msgstr ""
+msgstr "Otočit vodorovně"
 
 #: misc/rkspecialactions.cpp:146
 msgid "Reverse vertically"
-msgstr ""
+msgstr "Otočit svisle"
 
 #: misc/rkspecialactions.cpp:148
 msgid "Flip rows/columns"
-msgstr ""
+msgstr "Přepnout řádky/sloupce"
 
 #: misc/rkspecialactions.cpp:150
 msgid "Insert NAs where needed"
-msgstr ""
+msgstr "Vložit NA, kde je to potřeba"
 
 #: misc/rkstandardactions.cpp:44
 msgid "Run current line"
@@ -1504,9 +1499,8 @@
 msgstr "Nastavit"
 
 #: rkconsole.cpp:855
-#, fuzzy
 msgid "Print Console"
-msgstr "Konzole R"
+msgstr "Vytisknout konzoli"
 
 #: rkconsole.cpp:884
 msgid ""
@@ -1735,9 +1729,8 @@
 msgstr "Spouští se jádro R"
 
 #: rkward.cpp:695 rkward.cpp:697
-#, fuzzy
 msgid "Open script file(s)"
-msgstr "Otevřít soubor skriptu R"
+msgstr "Otevřít soubor(y) skriptu"
 
 #: rkward.cpp:715
 msgid "[Unnamed Workspace]"
@@ -2119,51 +2112,47 @@
 
 #: settings/rksettingsmoduleoutput.cpp:50
 msgid "show window on new output"
-msgstr ""
+msgstr "Ukázat okno na nový výstup"
 
 #: settings/rksettingsmoduleoutput.cpp:53
 msgid "raise window on new output"
-msgstr ""
+msgstr "Vyvolat okno na nový výstup"
 
 #: settings/rksettingsmoduleoutput.cpp:60
 msgid "Graphics"
-msgstr ""
+msgstr "Obrazové zpracování"
 
 #: settings/rksettingsmoduleoutput.cpp:64
-#, fuzzy
 msgid "File format"
-msgstr "Souborový formát: "
+msgstr "Souborový formát"
 
 #: settings/rksettingsmoduleoutput.cpp:66
-#, fuzzy
 msgid "<Default>"
-msgstr "Výchozí"
+msgstr "<Výchozí>"
 
 #: settings/rksettingsmoduleoutput.cpp:67
 msgid "PNG"
-msgstr ""
+msgstr "PNG"
 
 #: settings/rksettingsmoduleoutput.cpp:68
 msgid "SVG"
-msgstr ""
+msgstr "SVG"
 
 #: settings/rksettingsmoduleoutput.cpp:69
 msgid "JPG"
-msgstr ""
+msgstr "JPG"
 
 #: settings/rksettingsmoduleoutput.cpp:74
 msgid "JPG quality"
-msgstr ""
+msgstr "Jakost JPG"
 
 #: settings/rksettingsmoduleoutput.cpp:82
-#, fuzzy
 msgid "Width:"
-msgstr "Šířka"
+msgstr "Šířka:"
 
 #: settings/rksettingsmoduleoutput.cpp:85
-#, fuzzy
 msgid "Height:"
-msgstr "Výška"
+msgstr "Výška:"
 
 #: settings/rksettingsmodulephp.cpp:39
 msgid "Changes in this section take effect the next time you start a plugin"
@@ -2324,25 +2313,25 @@
 #: settings/rksettingsmoduler.cpp:335
 msgid "CRAN download mirror (leave empty to be prompted once each session):"
 msgstr ""
+"Stahovací zrcadlo CRAN (ponechat prázdné, aby bylo napovězeno při každém "
+"sezení):"
 
 #: settings/rksettingsmoduler.cpp:342
-#, fuzzy
 msgid "Select mirror"
-msgstr "Vybrat jeden:"
+msgstr "Vybrat zrcadlo"
 
 #: settings/rksettingsmoduler.cpp:346
-#, fuzzy
 msgid "Additional package repositories (where libraries are downloaded from)"
-msgstr "Zdroje balíčků (sklady, ze kterých se mají knihovny stahovat)"
+msgstr ""
+"Dodatečné sklady balíčků (zdroje, ze kterých se mají knihovny stahovat)"
 
 #: settings/rksettingsmoduler.cpp:352
 msgid "Archive downloaded packages"
 msgstr "Archivovat stažené balíčky"
 
 #: settings/rksettingsmoduler.cpp:359
-#, fuzzy
 msgid "R Library locations (where libraries get installed to, locally)"
-msgstr "Umístění knihovny R (kam se mají knihovny ukládat, místně)"
+msgstr "Umístění knihovny R (kam se mají knihovny instalovat, místně)"
 
 #: settings/rksettingsmoduler.cpp:364
 msgid ""
@@ -2361,9 +2350,8 @@
 msgstr "Přidat zdroj (sklad)"
 
 #: settings/rksettingsmoduler.cpp:389
-#, fuzzy
 msgid "Add URL of new repository"
-msgstr "Přidat zdroj (sklad)"
+msgstr "Přidat adresu (URL) nového skladu (zdroje)"
 
 #: settings/rksettingsmoduler.cpp:395
 msgid "R-Packages"
@@ -2371,7 +2359,7 @@
 
 #: settings/rksettingsmoduler.cpp:406
 msgid "Select CRAN mirror"
-msgstr ""
+msgstr "Vybrat zrcadlo CRAN"
 
 #: settings/rksettingsmodulewatch.cpp:123
 msgid ""
@@ -2615,13 +2603,11 @@
 msgstr "Uložit výstup jako HTML"
 
 #: windows/rkhtmlwindow.cpp:401
-#, fuzzy
 msgid ""
 "<HTML><BODY><H1>RKWard output file could not be found</H1>\n"
 "</BODY></HTML>"
 msgstr ""
-"<HTML><BODY><H1>Výstup z RKWardu</H1>\n"
-"<P>Výstup je prázdný.</P>\n"
+"<HTML><BODY><H1>Soubor s výstupem z RKWardu se nepodařilo najít</H1>\n"
 "</BODY></HTML>"
 
 #: windows/rkhtmlwindow.cpp:403
@@ -2682,7 +2668,7 @@
 
 #: windows/rkhtmlwindow.cpp:579
 msgid "<h1>On this page:</h1>"
-msgstr ""
+msgstr "<h1>Na této stránce:</h1>"
 
 #: windows/rkhtmlwindow.cpp:646
 msgid "R Reference on '%1'"
diff -Nuar rkward-0.5.3.orig/po/da.po rkward-0.5.3/po/da.po
--- rkward-0.5.3.orig/po/da.po	2010-04-27 11:01:37.000000000 +0300
+++ rkward-0.5.3/po/da.po	2010-04-15 17:30:50.063935000 +0300
@@ -8,7 +8,7 @@
 "Project-Id-Version: rkward\n"
 "Report-Msgid-Bugs-To: http://sourceforge.net/tracker/?"
 "group_id=50231&atid=459007\n"
-"POT-Creation-Date: 2010-04-27 10:01+0200\n"
+"POT-Creation-Date: 2010-04-15 16:30+0200\n"
 "PO-Revision-Date: 2008-04-13 21:24+0200\n"
 "Last-Translator: Bui Arantsson <bui.foss@googlemail.com>\n"
 "Language-Team: Danish <en@li.org>\n"
@@ -925,7 +925,7 @@
 msgstr "Fejl / Advarsler:"
 
 #: misc/rkprogresscontrol.cpp:246 plugin/rkstandardcomponentgui.cpp:301
-#: rkconsole.cpp:884 robjectviewer.cpp:170
+#: rkconsole.cpp:881 robjectviewer.cpp:170
 msgid "Cancel"
 msgstr "Annullér"
 
@@ -1454,32 +1454,32 @@
 msgid "R Console"
 msgstr "R Konsol"
 
-#: rkconsole.cpp:629
+#: rkconsole.cpp:626
 msgid "Syntax error\n"
 msgstr "Syntaks fejl\n"
 
-#: rkconsole.cpp:837
+#: rkconsole.cpp:834
 msgid "Interrupt running command"
 msgstr "Afbryd kørende kommando"
 
-#: rkconsole.cpp:843
+#: rkconsole.cpp:840
 msgid "Copy selection cleaned"
 msgstr "Kopiér valgte rengjort"
 
-#: rkconsole.cpp:846
+#: rkconsole.cpp:843
 msgid "Copy selection literally"
 msgstr "Kopiér valgte bogstaveligt"
 
-#: rkconsole.cpp:853 windows/rkcommandlog.cpp:285
+#: rkconsole.cpp:850 windows/rkcommandlog.cpp:285
 msgid "Configure"
 msgstr "Konfigurér"
 
-#: rkconsole.cpp:855
+#: rkconsole.cpp:852
 #, fuzzy
 msgid "Print Console"
 msgstr "R Konsol"
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 #, fuzzy
 msgid ""
 "You have configured RKWard to run script commands through the console. "
@@ -1492,11 +1492,11 @@
 "begyndt at indsætte tekst i konsollen). Vil du forbipassere konsollen denne "
 "gang, eller ønsker du at forsøge igen senere?"
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 msgid "Console is busy"
 msgstr "Konsol er optaget"
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 msgid "Bypass console"
 msgstr "Forbipasser konsol"
 
@@ -2904,15 +2904,15 @@
 msgid "Open in default application?"
 msgstr "Åbn i standard program?"
 
-#: windows/rkworkplace.cpp:239
+#: windows/rkworkplace.cpp:240
 msgid "Unable to open \"%1\""
 msgstr "Kunne ikke åbne \"%1\""
 
-#: windows/rkworkplace.cpp:239
+#: windows/rkworkplace.cpp:240
 msgid "Could not open command file"
 msgstr "Kunne ikke åbne kommando fil"
 
-#: windows/rkworkplace.cpp:348
+#: windows/rkworkplace.cpp:349
 msgid ""
 "You are about to edit object \"%1\", which is very large (%2 fields). RKWard "
 "is not optimized to handle very large objects in the built in data editor. "
@@ -2938,31 +2938,31 @@
 ">Generelt.\n"
 "Ønsker du at forsætte med at redigere objektet?"
 
-#: windows/rkworkplace.cpp:348
+#: windows/rkworkplace.cpp:349
 msgid "About to edit very large object"
 msgstr "Du er i gang med at redigere et meget stort objekt"
 
-#: windows/rkworkplace.cpp:508
+#: windows/rkworkplace.cpp:509
 msgid "Save Workplace layout"
 msgstr "Gem Arbejdsflade opstilling"
 
-#: windows/rkworkplace.cpp:515
+#: windows/rkworkplace.cpp:516
 msgid "Restore Workplace layout"
 msgstr "Gendan Arbejdsflade opstilling"
 
-#: windows/rkworkplace.cpp:584
+#: windows/rkworkplace.cpp:585
 msgid "Previous Window"
 msgstr "Tidligere Vindue"
 
-#: windows/rkworkplace.cpp:589
+#: windows/rkworkplace.cpp:590
 msgid "Next Window"
 msgstr "Næste Vindue"
 
-#: windows/rkworkplaceview.cpp:72
+#: windows/rkworkplaceview.cpp:70
 msgid "Window Left"
 msgstr "Vindue Venstre"
 
-#: windows/rkworkplaceview.cpp:76
+#: windows/rkworkplaceview.cpp:74
 msgid "Window Right"
 msgstr "Vindue Højre"
 
diff -Nuar rkward-0.5.3.orig/po/de.po rkward-0.5.3/po/de.po
--- rkward-0.5.3.orig/po/de.po	2010-04-27 11:01:38.000000000 +0300
+++ rkward-0.5.3/po/de.po	2010-08-07 19:52:45.370133000 +0300
@@ -8,20 +8,20 @@
 # SJR <stefan_roediger@gmx.de>, 2006, 2007.
 # Thomas Friedrichsmeier <tfry@users.sourceforge.net>, 2006, 2007.
 # Stefan Roediger <stefan_roediger@gmx.de>, 2007.
-# Stefan Rödiger <stefan_roediger@gmx.de>, 2007, 2009.
+# Stefan Rödiger <stefan_roediger@gmx.de>, 2007, 2009, 2010.
 msgid ""
 msgstr ""
 "Project-Id-Version: de\n"
-"Report-Msgid-Bugs-To: http://sourceforge.net/tracker/?"
-"group_id=50231&atid=459007\n"
-"POT-Creation-Date: 2010-04-27 10:01+0200\n"
-"PO-Revision-Date: 2009-03-27 01:09+0100\n"
+"Report-Msgid-Bugs-To: http://sourceforge."
+"net/tracker/?group_id=50231&atid=459007\n"
+"POT-Creation-Date: 2010-04-15 16:30+0200\n"
+"PO-Revision-Date: 2010-08-07 18:44+0200\n"
 "Last-Translator: Stefan Rödiger <stefan_roediger@gmx.de>\n"
-"Language-Team:  <de@li.org>\n"
+"Language-Team: German <kde-i18n-de@kde.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Generator: KBabel 1.11.4\n"
+"X-Generator: Lokalize 1.0\n"
 "Plural-Forms: nplurals=2; plural=(n != 1);\n"
 
 #: agents/rkeditobjectagent.cpp:56
@@ -46,7 +46,7 @@
 "There has been an error opening file '%1':\n"
 "%2"
 msgstr ""
-"Ein Fehler ist aufgetreten beim öffnen der Datei'%1':\n"
+"Ein Fehler ist aufgetreten beim öffnen der Datei '%1':\n"
 "%2"
 
 #: agents/rkloadagent.cpp:73
@@ -66,8 +66,7 @@
 msgstr "Warte auf Beenden von R"
 
 #: agents/rksaveagent.cpp:63
-msgid ""
-"No filename given. Your data was NOT saved. Do you still want to proceed?"
+msgid "No filename given. Your data was NOT saved. Do you still want to proceed?"
 msgstr ""
 "Kein Dateiname angegeben. Ihre Daten wurden NICHT gespeichert. Möchten Sie "
 "dennoch fortfahren?"
@@ -310,10 +309,12 @@
 "Did not unload package %1. It is required in RKWard. If you really want to "
 "do this, do so on the R Console."
 msgstr ""
+"Das Packet %1 wurde nicht entfernt. Es wird von RKWard benötigt. Wenn Sie "
+"dies wirklich beabsichtigen, können Sie dies in der R-Konsole durchführen."
 
 #: core/robjectlist.cpp:83
 msgid "Package %1 appears not to have been loaded"
-msgstr ""
+msgstr "Packet %1 wurde wahrscheinlich nicht geladen"
 
 #: dataeditor/editformatdialog.cpp:41
 msgid "Alignment"
@@ -358,9 +359,9 @@
 "index column is read only). To remove levels at the end of the list, just "
 "set them to empty."
 msgstr ""
-"Levels können nur aufeinander folgende Ganzzahlen, beginnend mit 1, "
+"Levels können nur aufeinander folgende ganzzahlige Werte, beginnend mit 1, "
 "zugewiesen werden (Indexspalte kann nur gelesen werden). Um Levels am Ende "
-"der Lister zu entfernen, einfach als leer setzten."
+"der Liste zu entfernen, einfach als leer setzten."
 
 #: dataeditor/editlabelsdialog.cpp:229
 msgid "Levels / Value labels for '%1'"
@@ -379,12 +380,10 @@
 msgstr "Unzulässiger Name"
 
 #: dataeditor/rkeditordataframepart.cpp:58
-#, fuzzy
 msgid "Paste inside table"
 msgstr "Füge in Tabelle ein"
 
 #: dataeditor/rkeditordataframepart.cpp:63
-#, fuzzy
 msgid "Paste inside selection"
 msgstr "Füge in Auswahl ein"
 
@@ -608,8 +607,9 @@
 "Please stand by while determining, which packages have an update available "
 "online."
 msgstr ""
-"Bitte haben Sie etwas Geduld während überprüft wird Pakete online eine "
-"aktualisiert Version zur bereitstellen."
+"Bitte haben Sie etwas Geduld während online überprüft wird von welchen "
+"Paketen eine "
+"aktualisierte Version vorliegt."
 
 #: dialogs/rkloadlibsdialog.cpp:648 dialogs/rkloadlibsdialog.cpp:787
 msgid "Fetching list"
@@ -669,7 +669,6 @@
 msgstr "Gewählter Speicheroft für Bibliotheken ist nicht beschreibbar"
 
 #: dialogs/rkloadlibsdialog.cpp:865
-#, fuzzy
 msgid ""
 "The directory you are trying to install to (%1) is not writable with your "
 "current user permissions. You can chose a different library location to "
@@ -678,13 +677,11 @@
 "package to).\n"
 msgstr ""
 "Mit den gegenwärtigen Nutzerrechten haben keine Schreibrechte um in das "
-"Verzeichnis (%1) zu installieren. Wenn Sie der Administrator dieses Rechners "
-"sind können Sie versuchen diese Pakete als root (Sie werden nach dem "
-"Passwort gefragt werden) zu installieren. Anderenfalls müssen Sie einen "
+"Verzeichnis (%1) zu installieren. Sie können einen "
 "anderen Speicherort für Ihre Bibliotheken finden in den Sie installieren "
 "können (wenn keiner beschreibbar ist, dann möchten Sie möglicherweise den "
 "\"Konfiguriere Repositories\"-Button verwenden um ein beschreibbares "
-"Verzeichnis für die Installation Ihrer Pakete zu wählen)."
+"Verzeichnis für die Installation Ihrer Pakete zu wählen).\n"
 
 #: dialogs/rkloadlibsdialog.cpp:869
 msgid ""
@@ -693,16 +690,24 @@
 "Sorry, automatic switching to Administrator is not yet supported in RKWard "
 "on Windows"
 msgstr ""
+"Falls Sie zugriff auf den Administrator-Account dieses Computers haben, denn "
+"können Sie dies nutzen um die Packete zu installieren, oder Sie können die "
+"Zugriffsrechte von '%1' ändern. "
+"Entschuldigen Sie bitte, das automatische wechseln zum Administrator-Account "
+"wird von RKWard unter Windows noch nicht unterstützt."
 
 #: dialogs/rkloadlibsdialog.cpp:871
 msgid "Attempt installation, anyway"
-msgstr ""
+msgstr "Versuche dennoch Installation"
 
 #: dialogs/rkloadlibsdialog.cpp:874
 msgid ""
 "If you are the adminitstrator of this machine, you can try to install the "
 "packages as root (you'll be prompted for the root password)."
 msgstr ""
+"Wenn Sie der Administrator dieses Computers sind, dann können Sie versuchen "
+"die Packte mit Administratorrechten zu installieren (Sie werden "
+"wahrscheinlich nach dem Administratorpasswort gefragt)."
 
 #: dialogs/rkloadlibsdialog.cpp:875
 msgid "Become root"
@@ -714,12 +719,11 @@
 
 #: dialogs/rkselectlistdialog.cpp:38
 msgid "<b>Select one or more:</b>"
-msgstr ""
+msgstr "<b>Einen oder mehr auswählen:</b>"
 
 #: dialogs/rkselectlistdialog.cpp:39
-#, fuzzy
 msgid "<b>Select one:</b>"
-msgstr "Wähle eine:"
+msgstr "<b>Wählen Sie einen:</b>"
 
 #: dialogs/startupdialog.cpp:46
 msgid "What would you like to do?"
@@ -750,6 +754,8 @@
 "After starting (and after loading the specified workspace, if applicable), "
 "evaluate the given R code."
 msgstr ""
+"Nach Starten (und nach laden des definierten Workspace wenn anwendbar), "
+"evaluiere den angegebenen R-Code."
 
 #: main.cpp:93
 msgid "Verbosity of debug messages (0-5)"
@@ -807,11 +813,11 @@
 
 #: main.cpp:102
 msgid "Many plugins, suggestions, marketing, translations"
-msgstr "Viele Plug-Ins, Vorschläge, Marketing und Übersetzungen"
+msgstr "Viele Plugins, Vorschläge, Marketing und Übersetzungen"
 
 #: main.cpp:103 main.cpp:117
 msgid "Many plugins, suggestions"
-msgstr "Viele Plug-Ins, Vorschläge"
+msgstr "Viele Plugins, Vorschläge"
 
 #: main.cpp:104
 msgid "Contributors in alphabetical order"
@@ -823,7 +829,7 @@
 
 #: main.cpp:106
 msgid "Plugins and patches"
-msgstr "Plug-Ins und Patches"
+msgstr "Plugins und Patches"
 
 #: main.cpp:107
 msgid "New website"
@@ -831,7 +837,7 @@
 
 #: main.cpp:108
 msgid "HP filter plugin, spanish translation"
-msgstr ""
+msgstr "HP-Filter-Plugin, spanische Übersetzung"
 
 #: main.cpp:109
 msgid "A cool icon"
@@ -847,7 +853,7 @@
 
 #: main.cpp:112
 msgid "Translation, Suggestions, plugins"
-msgstr "Übersetzungen, Vorschläge und Plugins"
+msgstr "Übersetzungen, Vorschläge, Plugins"
 
 #: main.cpp:113
 msgid "Many comments, useful suggestions, and bug reports"
@@ -855,7 +861,7 @@
 
 #: main.cpp:114
 msgid "German Translation, bug reports"
-msgstr ""
+msgstr "Deutsche Übersetzung und Fehlerberichte"
 
 #: main.cpp:115
 msgid "Some patches"
@@ -863,7 +869,7 @@
 
 #: main.cpp:116
 msgid "patches and helpful comments"
-msgstr ""
+msgstr "Patches und hilfreiche Kommentare"
 
 #: main.cpp:118
 msgid "Many more people on rkward-devel@lists.sourceforge.net"
@@ -951,7 +957,7 @@
 msgstr "Fehler / Warnungen:"
 
 #: misc/rkprogresscontrol.cpp:246 plugin/rkstandardcomponentgui.cpp:301
-#: rkconsole.cpp:884 robjectviewer.cpp:170
+#: rkconsole.cpp:881 robjectviewer.cpp:170
 msgid "Cancel"
 msgstr "Abbrechen"
 
@@ -969,82 +975,80 @@
 
 #: misc/rkspecialactions.cpp:27 misc/rkspecialactions.cpp:66
 msgid "Paste special..."
-msgstr ""
+msgstr "Spezielles einfügen..."
 
 #: misc/rkspecialactions.cpp:79
 msgid "Paste mode"
-msgstr ""
+msgstr "Einfügemodus"
 
 #: misc/rkspecialactions.cpp:82
-#, fuzzy
 msgid "Single string"
-msgstr "R Engine wird gestartet"
+msgstr "Einzelne Zeichenkette"
 
 #: misc/rkspecialactions.cpp:85
 msgid "Vector"
-msgstr ""
+msgstr "Vektor"
 
 #: misc/rkspecialactions.cpp:97
 msgid "Field separator"
-msgstr ""
+msgstr "Feldtrenner"
 
 #: misc/rkspecialactions.cpp:100
 msgid "Tab"
-msgstr ""
+msgstr "Reiter"
 
+# Is it a typo (Comma vs. Command)?
 #: misc/rkspecialactions.cpp:104
-#, fuzzy
 msgid "Comma"
-msgstr "Kommando"
+msgstr ""
 
 #: misc/rkspecialactions.cpp:108
-#, fuzzy
 msgid "Single space"
-msgstr "Speichere Workspace"
+msgstr "Einzelner Raum"
 
 #: misc/rkspecialactions.cpp:111
 msgid "Any whitespace"
-msgstr ""
+msgstr "Beliebiger Leerraum"
 
 #: misc/rkspecialactions.cpp:115
 msgid "Other:"
-msgstr ""
+msgstr "Andere:"
 
 #: misc/rkspecialactions.cpp:126
 msgid "Quoting"
-msgstr ""
+msgstr "Zitieren"
 
 #: misc/rkspecialactions.cpp:129
 msgid "Do not quote values"
-msgstr ""
+msgstr "Werte nicht zitieren"
 
 #: misc/rkspecialactions.cpp:132
 msgid "Automatic"
-msgstr ""
+msgstr "Automatisch"
 
 #: misc/rkspecialactions.cpp:136
 msgid "Quote all values"
-msgstr ""
+msgstr "Alle Werte zitieren"
 
 #: misc/rkspecialactions.cpp:142
 msgid "Transformations"
-msgstr ""
+msgstr "Transformationen"
 
 #: misc/rkspecialactions.cpp:144
 msgid "Reverse horizontally"
-msgstr ""
+msgstr "Horizontal umkehren"
 
 #: misc/rkspecialactions.cpp:146
 msgid "Reverse vertically"
-msgstr ""
+msgstr "Vertikal umkehren"
 
 #: misc/rkspecialactions.cpp:148
 msgid "Flip rows/columns"
-msgstr ""
+msgstr "Zeilen/Spalten tauschen"
 
 #: misc/rkspecialactions.cpp:150
 msgid "Insert NAs where needed"
-msgstr ""
+msgstr "NAs einfügen wenn benötigt"
 
 #: misc/rkstandardactions.cpp:44
 msgid "Run current line"
@@ -1076,7 +1080,7 @@
 
 #: misc/xmlhelper.cpp:176
 msgid "Trying to retrieve children of invalid element"
-msgstr "Versuche Children von invalidem Element wiederaufzufinden"
+msgstr "Versuche Children von invalidem Element wieder aufzufinden"
 
 #: misc/xmlhelper.cpp:187
 msgid "Expected exactly one element '%1' but found %2"
@@ -1100,8 +1104,7 @@
 
 #: misc/xmlhelper.cpp:308
 msgid "Illegal attribute value. Allowed values are '%1' or '%2', only."
-msgstr ""
-"Illegaler Attributwert. Erlaubt sind nur Werte die Werte '%1' und '%2'."
+msgstr "Illegaler Attributwert. Erlaubt sind nur Werte die Werte '%1' und '%2'."
 
 #: misc/xmlhelper.cpp:319
 msgid "XML-parsing '%1' "
@@ -1117,41 +1120,53 @@
 "unknown. Probably you need to load the corresponding PluginMap (Settings-"
 ">Configure RKWard->Plugins), or perhaps the plugin was renamed."
 msgstr ""
+"Sie haben versucht das Plugin '%1' aufzurufen, aber dieses Plugin ist "
+"gegenwärtig unbekannt \n"
+"Möglicherweise müssen Sie die entsprechende PluginMap (Einstellungen->"
+"Konfiguriere RKWard->Plugins) laden, oder möglicherweise wurde das Plugin "
+"umbenannt."
 
 #: plugin/rkcomponentmap.cpp:248
 msgid "No such plugin"
-msgstr ""
+msgstr "Dieses Plugin ist nicht vorhanden"
 
 #: plugin/rkcomponentmap.cpp:257
 msgid ""
 "Bad serialization format while trying to invoke plugin '%1'. Please contact "
 "the RKWard team (Help->About RKWard->Authors)."
 msgstr ""
+"Schlechtes Serialisierungsformat während des Versuchs das Plugin '%1' "
+"aufzurufen. \n"
+"Bitte kontaktieren Sie das RKWard-Team (Hilfe->Über RKWard->Autoren)."
 
 #: plugin/rkcomponentmap.cpp:259
 msgid "Bad serialization format"
-msgstr ""
+msgstr "Schlechtes Serialisierungsformat"
 
 #: plugin/rkcomponentmap.cpp:263
 msgid ""
 "Not all specified settings could be applied. Most likely this is because "
 "some R objects are no longer present in your current workspace."
 msgstr ""
+"Nicht alles angegebenen Einstellungen konnten angewendet werden. "
+"Wahrscheinlich sind einige \n"
+"R-Objekte nicht mehr in ihrem gegenwärtigen Workspace."
 
 #: plugin/rkcomponentmap.cpp:265
 msgid "Not all settings applied"
-msgstr ""
+msgstr "Nicht alle Einstellungen wurden übernommen"
 
 #: plugin/rkcomponentmap.cpp:304
 msgid ""
 "\n"
 "The plugin could not be auto-submitted with these settings."
 msgstr ""
+"\n"
+"Das Plugin konnte mit diesen Einstellungen automatisch übergeben werden."
 
 #: plugin/rkcomponentmap.cpp:306
-#, fuzzy
 msgid "Could not submit"
-msgstr "Konnte Plug-In nicht erzeugen"
+msgstr "Konnte nicht übergeben"
 
 #: plugin/rkdropdown.cpp:42 plugin/rkradio.cpp:45
 msgid "Select one:"
@@ -1175,7 +1190,7 @@
 
 #: plugin/rkformula.cpp:100
 msgid "Main effects"
-msgstr "Haupteffekt"
+msgstr "Haupteffekte"
 
 #: plugin/rkformula.cpp:105
 msgid "Level"
@@ -1234,12 +1249,12 @@
 "There has been an error while trying to parse the description of this plugin "
 "('%1'). Please refer to stdout for details."
 msgstr ""
-"Beim Versuch die Beschreibung dieses Plug-Ins zu lese, ist ein Fehler "
+"Beim Versuch die Beschreibung dieses Plugins zu lese, ist ein Fehler "
 "aufgetreten ('%1'). Bitte berufen Sie sich auf stdout für Details."
 
 #: plugin/rkstandardcomponent.cpp:78
 msgid "Could not create plugin"
-msgstr "Konnte Plug-In nicht erzeugen"
+msgstr "Konnte Plugin nicht erzeugen"
 
 #: plugin/rkstandardcomponentgui.cpp:97 plugin/rkstandardcomponentgui.cpp:405
 msgid "Submit"
@@ -1251,7 +1266,7 @@
 
 #: plugin/rkstandardcomponentgui.cpp:105
 msgid "Auto close"
-msgstr ""
+msgstr "Automatisch schließen"
 
 #: plugin/rkstandardcomponentgui.cpp:111
 msgid "Help"
@@ -1266,9 +1281,8 @@
 msgstr "Code"
 
 #: plugin/rkstandardcomponentgui.cpp:170
-#, fuzzy
 msgid "Run again"
-msgstr "Führe alles aus"
+msgstr "Erneut ausführen"
 
 #: plugin/rkstandardcomponentgui.cpp:257
 msgid "Processing. Please wait"
@@ -1280,7 +1294,7 @@
 "Click 'Submit' to run the command(s)."
 msgstr ""
 "Unten können Sie die Befehle sehen die entsprechend Ihrer Einstellungen "
-"gemacht wurden. Klicken Sie 'Übergeben'um die Befehle auszuführen."
+"gemacht wurden. Klicken Sie 'Übergeben' um die Befehle auszuführen."
 
 #: plugin/rkstandardcomponentgui.cpp:382 plugin/rkstandardcomponentgui.cpp:400
 msgid "Next >"
@@ -1308,7 +1322,7 @@
 
 #: rbackend/rcommandstack.cpp:364
 msgid "Command Stack"
-msgstr "Kommando Stapel"
+msgstr "Kommandostapel"
 
 #: rbackend/rcommandstack.cpp:366
 msgid "Command Chain"
@@ -1335,29 +1349,28 @@
 msgstr "Beschreibung"
 
 #: rbackend/rembedinternal.cpp:135
-#, fuzzy
 msgid ""
 "The R engine has encountered a fatal error:\n"
 "%1"
-msgstr "Die R-Engine ist auf einen fatalen Fehler getroffen:\n"
+msgstr ""
+"Die R-Engine ist auf einen fatalen Fehler getroffen:\n"
+"%1"
 
 #: rbackend/rembedinternal.cpp:242
-#, fuzzy
 msgid "The R engine has shut down with status: %1"
-msgstr "Die R-Engine wurde beendet mit dem Status: "
+msgstr "Die R-Engine wurde beendet mit dem Status: %1"
 
 #: rbackend/rinterface.cpp:89
 msgid "R Startup"
 msgstr "R Start"
 
 #: rbackend/rinterface.cpp:218
-#, fuzzy
 msgid ""
 "<p>There was a problem starting the R backend. The following error(s) "
 "occurred:</p>\n"
 msgstr ""
-"Es gab ein Problem beim Start vom R Backend. Die folgenden Fehler traten "
-"auf:\n"
+"<p>Es gab ein Problem beim Start vom R-Backend. Die folgenden Fehler traten "
+"auf:</p>\n"
 
 #: rbackend/rinterface.cpp:220
 msgid ""
@@ -1370,30 +1383,39 @@
 "now, and fix your installation</b>. For help with that, see <a href=\"http://"
 "p.sf.net/rkward/compiling\">http://p.sf.net/rkward/compiling</a>.</p>\n"
 msgstr ""
+"</p>\t- Die 'rkward' R-library konnte entweder nicht geladen werden oder "
+"liegt nicht in der korrekten Version vor. Das kann zu einer ganzen Reihe von "
+"Fehlern führen, die vom Fehlen einzelner Funktionen bis zum totalen Versagen "
+"von Funktionen führen können. Die wahrscheinlichste Ursache dafür ist, dass "
+"die letzte Installation die notwendigen Dateien nicht am korrekten Platz "
+"hinterlegt hat. Es ist aber auch möglich das von einer vorherigen "
+"Installation Dateien nicht sauber entfernt wurden.</p>\t\t\t<p><b>Sie "
+"sollten RKWard nun beenden und die Probleme beheben</b>. Für Hilfe wenden "
+"Sie sich bitte an <a href=\"http://"
+"p.sf.net/rkward/compiling\">http://p.sf.net/rkward/compiling</a>.</p>\n"
 
 #: rbackend/rinterface.cpp:224
-#, fuzzy
 msgid ""
 "<p>\t-There was a problem opening the files needed for communication with R. "
 "Most likely this is due to an incorrect setting for the location of these "
 "files. Check whether you have correctly configured the location of the log-"
 "files (Settings->Configure Settings->Logfiles) and restart RKWard.</p>\n"
 msgstr ""
-"\t-Es gab ein Problem beim öffnen der Dateien die für die Kommunikation mit "
-"R notwendig sind. Dies ist meistens auf die Angabe eines falschen "
+"<p>\t-Es gab ein Problem beim öffnen der Dateien die für die Kommunikation "
+"mit R notwendig sind. Dies ist meistens auf die Angabe eines falschen "
 "Speicherorts für diese Dateien zurückzuführen. Überprüfen Sie bitte ob Sie "
 "den den Speicherort der log-Dateien (Einstellungen->Konfiguriere "
-"Einstellungen->Logfiles) konfiguriert haben und starten Sie RKWard erneut.\n"
+"Einstellungen->Logfiles) konfiguriert haben und starten Sie RKWard erneut.</p>\n"
 
 #: rbackend/rinterface.cpp:227
-#, fuzzy
 msgid ""
 "<p>\t-An unspecified error occurred that is not yet handled by RKWard. "
 "Likely RKWard will not function properly. Please check your setup.</p>\n"
 msgstr ""
-"\t-Ein nicht spezifizierter Fehler ist aufgetreten der noch nicht von RKWard "
+"<p>\t-Ein nicht spezifizierter Fehler ist aufgetreten der noch nicht von "
+"RKWard "
 "gehandhabt werden kann. Wahrscheinlich wird RKWard nicht richtig "
-"funktionieren. Bitte überprüfen Sie ihr Setup.\n"
+"funktionieren. Bitte überprüfen Sie ihr Setup.</p>\n"
 
 #: rbackend/rinterface.cpp:235
 msgid "Error starting R"
@@ -1415,7 +1437,6 @@
 msgstr "Benötige Paket '%1'"
 
 #: rbackend/rinterface.cpp:390
-#, fuzzy
 msgid ""
 "A command in the R backend is trying to change the character encoding. While "
 "RKWard offers support for this, and will try to adjust to the new locale, "
@@ -1442,20 +1463,18 @@
 msgstr "Lokale Änderung"
 
 #: rbackend/rinterface.cpp:477
-#, fuzzy
 msgid "Question from the R backend"
-msgstr "Benachrichtigung vom R Backend"
+msgstr "Benachrichtigung vom R-Backend"
 
 #: rbackend/rinterface.cpp:482
 msgid "Message from the R backend"
-msgstr "Benachrichtigung vom R Backend"
+msgstr "Benachrichtigung vom R-Backend"
 
 #: rbackend/rinterface.cpp:487
 msgid "R backend requests information"
-msgstr "R Backend erbittet Informationen"
+msgstr "R-Backend erbittet Informationen"
 
 #: rbackend/rinterface.cpp:504
-#, fuzzy
 msgid ""
 "\n"
 "It will be shut down immediately. This means, you can not use any more "
@@ -1469,7 +1488,7 @@
 msgstr ""
 "\n"
 "Es wird unverzüglich geschlossen werden. Dies bedeutet das Sie nunmehr keine "
-"Funktionen die vom R backend abhängig sind weiter verwenden können. "
+"Funktionen die vom R-Backend abhängig sind weiter verwenden können. "
 "Insbesondere können Sie nichts weiter ausführen, nicht einmal den Workspace "
 "speichern. Möglicherweise hat R bereits den Workspace gespeichert. Sie "
 "können allerdings jegliche offene Befehls-Dateien, Ausgaben, oder Daten aus "
@@ -1486,33 +1505,31 @@
 msgid "R Console"
 msgstr "R-Konsole"
 
-#: rkconsole.cpp:629
+#: rkconsole.cpp:626
 msgid "Syntax error\n"
 msgstr "Syntaxfehler\n"
 
-#: rkconsole.cpp:837
+#: rkconsole.cpp:834
 msgid "Interrupt running command"
 msgstr "Unterbreche laufendes Kommando"
 
-#: rkconsole.cpp:843
+#: rkconsole.cpp:840
 msgid "Copy selection cleaned"
 msgstr "Kopiere Auswahl bereinigt"
 
-#: rkconsole.cpp:846
+#: rkconsole.cpp:843
 msgid "Copy selection literally"
 msgstr "Kopiere Auswahl wörtlich"
 
-#: rkconsole.cpp:853 windows/rkcommandlog.cpp:285
+#: rkconsole.cpp:850 windows/rkcommandlog.cpp:285
 msgid "Configure"
 msgstr "Konfigurieren"
 
-#: rkconsole.cpp:855
-#, fuzzy
+#: rkconsole.cpp:852
 msgid "Print Console"
-msgstr "R-Konsole"
+msgstr "Drucke Konsole"
 
-#: rkconsole.cpp:884
-#, fuzzy
+#: rkconsole.cpp:881
 msgid ""
 "You have configured RKWard to run script commands through the console. "
 "However, the console is currently busy (either a command is running, or you "
@@ -1522,13 +1539,13 @@
 "Sie haben RKWard konfiguriert Skriptbefehle in der Konsole auszuführen. "
 "Jedoch diese Konsole ist gerade beschäftigt (entweder ein Befehl läuft oder "
 "Sie haben begonnen Text in die Konsole einzugeben). Wollen Sie die Konsole "
-"diesesmal umgehen oder möchten Sie es später nocheinmal versuchen?"
+"diesmal umgehen oder möchten Sie es später noch einmal versuchen?"
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 msgid "Console is busy"
 msgstr "Konsole ist beschäftigt"
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 msgid "Bypass console"
 msgstr "Konsole umgehen"
 
@@ -1542,10 +1559,19 @@
 "with that, see <a href=\"http://p.sf.net/rkward/compiling\">http://p.sf.net/"
 "rkward/compiling</a>.</p>"
 msgstr ""
+"<p>Der RKWard-Editor konnte entweder die Ressourcedateien nicht finden, oder "
+"nur eine alte Version von diesen Dateien. Die wahrscheinlichste Ursache "
+"dafür ist, dass die letzte Installation die Dateien nicht am richtigen "
+"Speicherort abgelegt hat. Das kann zu einer Reihe von Problemen führen, die "
+"vom fehlen einzelner Funktionen bis zum Komplettausfall reichen.</p><p><b>"
+"Sie sollten RKWard nun beenden und die Installation reparieren.</b>Hilfe "
+"finden Sie unter <a href=\"http://p.sf.net/rkward/compiling\">http://p.sf."
+"net/"
+"rkward/compiling</a>.</p>"
 
 #: rkward.cpp:191
 msgid "Broken installation"
-msgstr ""
+msgstr "Fehlerhafte Installation"
 
 #: rkward.cpp:195
 msgid ""
@@ -1554,11 +1580,14 @@
 "you'd like to help: <a href=\"http://p.sf.net/rkward/contact\">http://p.sf."
 "net/rkward/contact</a>.</p>"
 msgstr ""
+"<p>Hinweis. RKWard wurde unter Windows noch nicht ausführlich getestet.</"
+"p><p>Es gibt eine Reihe bekannter und unbekannter Probleme. Wenn Sie helfen "
+"möchten: <a href=\"http://p.sf.net/rkward/contact\">http://p.sf."
+"net/rkward/contact</a>.</p>"
 
 #: rkward.cpp:195
-#, fuzzy
 msgid "RKWard on Windows"
-msgstr "Plugins"
+msgstr "RKWard unter Windows"
 
 #: rkward.cpp:215 settings/rksettingsmoduleobjectbrowser.cpp:128
 msgid "Workspace"
@@ -1586,7 +1615,7 @@
 
 #: rkward.cpp:279
 msgid "No (valid) plugins found"
-msgstr "Keine (gültigen) Plug-Ins gefunden"
+msgstr "Keine (gültigen) Plugins gefunden"
 
 #: rkward.cpp:315
 msgid "Dataset"
@@ -1645,9 +1674,8 @@
 msgstr "Beende die Anwendung "
 
 #: rkward.cpp:359 windows/robjectbrowser.cpp:135
-#, fuzzy
 msgid "Load / Unload Packages"
-msgstr "Geladene Pakete"
+msgstr "Lade / Entlade Packete"
 
 #: rkward.cpp:370
 msgid "Close All Data"
@@ -1719,24 +1747,23 @@
 
 #: rkward.cpp:648
 msgid "R engine busy"
-msgstr "R Engine ist beschäftigt"
+msgstr "R-Engine ist beschäftigt"
 
 #: rkward.cpp:651
 msgid "R engine idle"
-msgstr "R Engine im Ruhezustand"
+msgstr "R-Engine im Ruhezustand"
 
 #: rkward.cpp:654
 msgid "R engine starting"
-msgstr "R Engine wird gestartet"
+msgstr "R-Engine wird gestartet"
 
 #: rkward.cpp:695 rkward.cpp:697
-#, fuzzy
 msgid "Open script file(s)"
-msgstr "Öffne R-Skriptdatei"
+msgstr "Öffne R-Skriptdatei(en)"
 
 #: rkward.cpp:715
 msgid "[Unnamed Workspace]"
-msgstr "[Unbenannter Workspace]"
+msgstr "[UnbenannteR-Workspace]"
 
 #: robjectviewer.cpp:58
 msgid "summary (x)"
@@ -1808,8 +1835,8 @@
 "it works with different settings."
 msgstr ""
 "Das PHP-Backende hat einen Fehler berichtet(\"%1\")\n"
-"und wurde geschlossen. Dies lässt sich meistens auf ein Bug im Plug-In "
-"zurückführen. Aber selbstverständlich können Sie das Plug-In schließen und "
+"und wurde geschlossen. Dies lässt sich meistens auf ein Bug im Plugin "
+"zurückführen. Aber selbstverständlich können Sie das Plugin schließen und "
 "erneut starten, um zu überprüfen ob es mit anderen Einstellungen "
 "funktioniert."
 
@@ -1838,11 +1865,11 @@
 msgstr "PHP-Prozess beendet"
 
 #: scriptbackends/qtscriptbackend.cpp:114
-#, fuzzy
 msgid ""
 "The QtScript-backend has reported an error:\n"
 "%1"
-msgstr "Die R-Engine ist auf einen fatalen Fehler getroffen:\n"
+msgstr "Das  QtScript-Backend hat einen Fehler gemeldet:\n"
+"%1"
 
 #: scriptbackends/qtscriptbackend.cpp:114
 #, fuzzy
@@ -1855,14 +1882,16 @@
 "Backtrace:\n"
 "%2"
 msgstr ""
+"Skriptfehler: %1\n"
+"Rückverfolgung:\n"
+"%2"
 
 #: scriptbackends/qtscriptbackend.cpp:219
-#, fuzzy
 msgid ""
 "The file \"%1\" (needed by \"%2\") could not be found. Please check your "
 "installation."
 msgstr ""
-"Die Datei \"%1\" konnte nicht gefunden werden oder ist nicht lesbar. Bitte "
+"Die Datei \"%1\" (benötigt von \"%2\") konnte nicht gefunden werden. Bitte "
 "überprüfen Sie ihre Installation."
 
 #: scriptbackends/scriptbackend.cpp:91
@@ -1895,8 +1924,7 @@
 
 #: settings/rksettingsmodulecommandeditor.cpp:64
 msgid "Timeout (milli seconds) before completion is attempted"
-msgstr ""
-"Timeout (in Millisekunden) bis Code-Vervollständigung durchgeführt wird"
+msgstr "Timeout (in Millisekunden) bis Code-Vervollständigung durchgeführt wird"
 
 #: settings/rksettingsmodulecommandeditor.cpp:92
 msgid "Script editor"
@@ -1932,16 +1960,15 @@
 
 #: settings/rksettingsmoduleconsole.cpp:76
 msgid "Do not add"
-msgstr ""
+msgstr "Nicht anfügen"
 
 #: settings/rksettingsmoduleconsole.cpp:77
 msgid "Add only if single line"
-msgstr ""
+msgstr "Nur anfügen wenn einzelne Zeile"
 
 #: settings/rksettingsmoduleconsole.cpp:78
-#, fuzzy
 msgid "Add all commands"
-msgstr "Nutzer Befehle"
+msgstr "Alle Kommandos hinzuzufügen"
 
 #: settings/rksettingsmoduleconsole.cpp:86
 msgid "Command history is context sensitive by default"
@@ -1975,7 +2002,7 @@
 
 #: settings/rksettingsmoduledebug.cpp:93
 msgid "<i>Note:</i> Debug output is written to %1"
-msgstr ""
+msgstr "<i>Hinweis:</i> Debug-Ausgabe wurde geschrieben nach %1"
 
 #: settings/rksettingsmoduledebug.cpp:110
 msgid "Debug"
@@ -2001,7 +2028,7 @@
 
 #: settings/rksettingsmodulegeneral.cpp:70
 msgid "Show selection dialog (default)"
-msgstr "Zeige Auswahl Dialog (Standard)"
+msgstr "Zeige Auswahldialog (Standard)"
 
 #: settings/rksettingsmodulegeneral.cpp:75
 msgid "Show RKWard Help on Startup"
@@ -2014,27 +2041,27 @@
 "Which do you prefer?"
 msgstr ""
 "Die Anordnung des Arbeitsplatzes (d.h. welche Skript-, Daten- oder "
-"Hilfefenster geöffnet sind), kann entweder pro R Arbeitsdatei, oder davon "
+"Hilfefenster geöffnet sind), kann entweder pro R-Workspace, oder davon "
 "unabhängig gespeichert (und wieder hergestellt) werden. Welche Option "
 "wünschen Sie?"
 
 #: settings/rksettingsmodulegeneral.cpp:91
 msgid "Save/restore with R workspace, when saving/loading R workspace"
 msgstr ""
-"Zusammen mit Arbeitsdatei speichern / wieder herstellen, wenn Arbeitsdatei "
-"gepeichert / wiederhergestellt wird"
+"Zusammen mit R-Workspace speichern/wieder herstellen, wenn R-Workspace "
+"gepeichert/wiederhergestellt wird"
 
 #: settings/rksettingsmodulegeneral.cpp:94
 msgid ""
 "Save/restore independent of R workspace (save at end of RKWard session, "
 "restore at next start)"
 msgstr ""
-"Unabhängig von der Arbeitsdatei speichern / wieder herstellen (gepeichert "
+"Unabhängig von R den Workspace speichern/wiederherstellen (gepeichert "
 "wird am Ende einer RKWard Sitzung, wiederhergestellt beim neuen Start)"
 
 #: settings/rksettingsmodulegeneral.cpp:97
 msgid "Do not save/restore workplace layout"
-msgstr "Arbeitsplatzanordnung nicht speichern"
+msgstr "Arbeitsplatzanordnung nicht speichern/wiederherstellen"
 
 #: settings/rksettingsmodulegeneral.cpp:106
 msgid ""
@@ -2101,7 +2128,6 @@
 msgstr "Typen-Feld"
 
 #: settings/rksettingsmoduleobjectbrowser.cpp:68
-#, fuzzy
 msgid "Class field"
 msgstr "Klassen-Feld"
 
@@ -2120,60 +2146,56 @@
 
 #: settings/rksettingsmoduleoutput.cpp:48
 msgid "Output Window options"
-msgstr "Eigenschaften des Ausgabefensters"
+msgstr "Auswahlmöglichkeiten des Ausgabefensters"
 
 #: settings/rksettingsmoduleoutput.cpp:50
 msgid "show window on new output"
-msgstr ""
+msgstr "Fenster bei neuer Ausgabe zeigen"
 
 #: settings/rksettingsmoduleoutput.cpp:53
 msgid "raise window on new output"
-msgstr ""
+msgstr "Fenster bei neuer Ausgabe hervorbringen"
 
 #: settings/rksettingsmoduleoutput.cpp:60
 msgid "Graphics"
-msgstr ""
+msgstr "Graphiken"
 
 #: settings/rksettingsmoduleoutput.cpp:64
-#, fuzzy
 msgid "File format"
-msgstr "Dateiformat: "
+msgstr "Dateiformat"
 
 #: settings/rksettingsmoduleoutput.cpp:66
-#, fuzzy
 msgid "<Default>"
-msgstr "Standardeinstellung"
+msgstr "<Standardeinstellung>"
 
 #: settings/rksettingsmoduleoutput.cpp:67
 msgid "PNG"
-msgstr ""
+msgstr "PNG"
 
 #: settings/rksettingsmoduleoutput.cpp:68
 msgid "SVG"
-msgstr ""
+msgstr "SVG"
 
 #: settings/rksettingsmoduleoutput.cpp:69
 msgid "JPG"
-msgstr ""
+msgstr "JPG"
 
 #: settings/rksettingsmoduleoutput.cpp:74
 msgid "JPG quality"
-msgstr ""
+msgstr "JPG-Qualität"
 
 #: settings/rksettingsmoduleoutput.cpp:82
-#, fuzzy
 msgid "Width:"
-msgstr "Breite"
+msgstr "Weite:"
 
 #: settings/rksettingsmoduleoutput.cpp:85
-#, fuzzy
 msgid "Height:"
-msgstr "Höhe"
+msgstr "Höhe:"
 
 #: settings/rksettingsmodulephp.cpp:39
 msgid "Changes in this section take effect the next time you start a plugin"
 msgstr ""
-"Änderungen in diesen Sektionen werden erst beim nächsten Start des Plug-Ins "
+"Änderungen in diesen Sektionen werden erst beim nächsten Start des Plugins "
 "wirksam"
 
 #: settings/rksettingsmodulephp.cpp:45
@@ -2182,7 +2204,7 @@
 
 #: settings/rksettingsmodulephp.cpp:63
 msgid "PHP backend"
-msgstr "PHP Backend"
+msgstr "PHP-Backend"
 
 #: settings/rksettingsmoduleplugins.cpp:54
 msgid ""
@@ -2208,7 +2230,7 @@
 
 #: settings/rksettingsmoduleplugins.cpp:82
 msgid "R syntax display (in dialogs)"
-msgstr "R Syntaxanzeige (in Dialogen)"
+msgstr "R-Syntaxanzeige (in Dialogen)"
 
 #: settings/rksettingsmoduleplugins.cpp:85
 msgid "Code shown by default"
@@ -2291,9 +2313,8 @@
 msgstr "Behalte Kommentare in Paketen"
 
 #: settings/rksettingsmoduler.cpp:126 settings/rksettingsmoduler.cpp:148
-#, fuzzy
 msgid "TRUE"
-msgstr "WAHR)"
+msgstr "WAHR"
 
 #: settings/rksettingsmoduler.cpp:127 settings/rksettingsmoduler.cpp:149
 msgid "FALSE (default)"
@@ -2316,14 +2337,12 @@
 msgstr "Befehl, um Dateien zum Drucker zu senden"
 
 #: settings/rksettingsmoduler.cpp:159
-#, fuzzy
 msgid "Editor command"
-msgstr "Nutzer Befehle"
+msgstr "Editorbefehle"
 
 #: settings/rksettingsmoduler.cpp:170
-#, fuzzy
 msgid "Pager command"
-msgstr "Nutzer Befehle"
+msgstr "Pager-Kommando"
 
 #: settings/rksettingsmoduler.cpp:205
 msgid "R-Backend"
@@ -2332,14 +2351,13 @@
 #: settings/rksettingsmoduler.cpp:335
 msgid "CRAN download mirror (leave empty to be prompted once each session):"
 msgstr ""
+"CRAN Spiegelserver (freilassen um in jeder RKWard-Sitzung gefragt zu werden):"
 
 #: settings/rksettingsmoduler.cpp:342
-#, fuzzy
 msgid "Select mirror"
-msgstr "Wähle eine:"
+msgstr "Wähle Spiegelserver"
 
 #: settings/rksettingsmoduler.cpp:346
-#, fuzzy
 msgid "Additional package repositories (where libraries are downloaded from)"
 msgstr ""
 "Paket Aufbewahrungsort (Repositories) (von denen Bibliotheken "
@@ -2350,7 +2368,6 @@
 msgstr "Archiviere heruntergeladene Pakete"
 
 #: settings/rksettingsmoduler.cpp:359
-#, fuzzy
 msgid "R Library locations (where libraries get installed to, locally)"
 msgstr "R-Bibliothek Adresse (wohin Bibliotheken gespeichert werden, lokal)"
 
@@ -2359,21 +2376,21 @@
 "Note: The startup defaults will always be used in addition to the locations "
 "you specify in this list"
 msgstr ""
-"Vermerk: Die StartUp Fehlwerte werden immer genutzt zusätzlich den Adressen "
+"Vermerk: Die StartUp-Standardwerte werden immer genutzt zusätzlich den "
+"Adressen "
 "die Sie in dieser Liste spezifizieren"
 
 #: settings/rksettingsmoduler.cpp:381
 msgid "Add R Library Directory"
-msgstr "Füge R-Bibliothek Verzeichnis hinzu"
+msgstr "Füge R-Bibliotheksverzeichnis hinzu"
 
 #: settings/rksettingsmoduler.cpp:389
 msgid "Add repository"
-msgstr "Füge Respiratory hinzu"
+msgstr "Füge Repository hinzu"
 
 #: settings/rksettingsmoduler.cpp:389
-#, fuzzy
 msgid "Add URL of new repository"
-msgstr "Füge Respiratory hinzu"
+msgstr "Füge URL von neuem Repository hinzu"
 
 #: settings/rksettingsmoduler.cpp:395
 msgid "R-Packages"
@@ -2381,7 +2398,7 @@
 
 #: settings/rksettingsmoduler.cpp:406
 msgid "Select CRAN mirror"
-msgstr ""
+msgstr "Wähle CRAN Spiegelserver"
 
 #: settings/rksettingsmodulewatch.cpp:123
 msgid ""
@@ -2405,7 +2422,7 @@
 
 #: settings/rksettingsmodulewatch.cpp:140
 msgid "show/raise window"
-msgstr "Fenster anzeige/hebe"
+msgstr "Fenster anzeigen/heben"
 
 #: settings/rksettingsmodulewatch.cpp:144
 msgid "User commands"
@@ -2413,7 +2430,7 @@
 
 #: settings/rksettingsmodulewatch.cpp:145
 msgid "Plugin generated commands"
-msgstr "Plug-In generierte Befehle "
+msgstr "Plugin generierte Befehle "
 
 #: settings/rksettingsmodulewatch.cpp:146
 msgid "Application commands"
@@ -2421,7 +2438,7 @@
 
 #: settings/rksettingsmodulewatch.cpp:147
 msgid "Synchronization commands"
-msgstr "Synchronisations Befehle"
+msgstr "Synchronisationsbefehle"
 
 #: settings/rksettingsmodulewatch.cpp:151
 msgid "Maximum number of paragraphs/lines to display in the Command Log"
@@ -2430,7 +2447,7 @@
 
 #: settings/rksettingsmodulewatch.cpp:281 windows/rkcommandlog.cpp:55
 msgid "Command log"
-msgstr "Kommando Log"
+msgstr "Kommando-Log"
 
 #: windows/detachedwindowcontainer.cpp:46
 msgid "Attach to main window"
@@ -2438,7 +2455,7 @@
 
 #: windows/rcontrolwindow.cpp:51
 msgid "Configure R backend"
-msgstr "Konfiguriere R Backend"
+msgstr "Konfiguriere R-Backend"
 
 #: windows/rcontrolwindow.cpp:56 windows/rcontrolwindow.cpp:142
 msgid "Pause execution"
@@ -2476,16 +2493,15 @@
 
 #: windows/rkcommandeditorwindow.cpp:176
 msgid "Unmark block"
-msgstr "Block nicht markieren"
+msgstr "Block nicht mehr markieren"
 
 #: windows/rkcommandeditorwindow.cpp:181
-#, fuzzy
 msgid "CD to script directory"
-msgstr "Skripteditor"
+msgstr "CD zum Skriptverzeichnis"
 
 #: windows/rkcommandeditorwindow.cpp:183
 msgid "Change the working directory to the directory of this script"
-msgstr ""
+msgstr "Wechsle das Arbeitsverzeichnis zum Verzeichnis von diesem Skript"
 
 #: windows/rkcommandeditorwindow.cpp:188
 msgid "Configure Script Editor"
@@ -2497,8 +2513,7 @@
 
 #: windows/rkcommandeditorwindow.cpp:287
 msgid "The document \"%1\" has been modified. Close it anyway?"
-msgstr ""
-"Das Dokument \"%1\" wurde verändert. Soll es dennoch geschlossen werden?"
+msgstr "Das Dokument \"%1\" wurde verändert. Soll es dennoch geschlossen werden?"
 
 #: windows/rkcommandeditorwindow.cpp:287
 msgid "File not saved"
@@ -2509,9 +2524,8 @@
 msgstr "Unbenannt"
 
 #: windows/rkcommandeditorwindow.cpp:468
-#, fuzzy
 msgid "cd to current script directory"
-msgstr "Konfiguriere Skripteditor"
+msgstr "Wechsle Verzeichnis (cd) zum gegenwärtigen Skriptverzeichnis"
 
 #: windows/rkcommandeditorwindow.cpp:577
 msgid "%1 (Active)"
@@ -2578,7 +2592,7 @@
 
 #: windows/rkhelpsearchwindow.cpp:160
 msgid "Find HTML help for %1"
-msgstr ""
+msgstr "Finde HTML-Hilfe für %1"
 
 #: windows/rkhelpsearchwindow.cpp:220
 msgid ""
@@ -2611,9 +2625,8 @@
 msgstr "&Aktualisiere Ausgabe"
 
 #: windows/rkhtmlwindow.cpp:326
-#, fuzzy
 msgid "Output %1"
-msgstr "Ausgabe"
+msgstr "Ausgabe %1"
 
 #: windows/rkhtmlwindow.cpp:367
 #, fuzzy
@@ -2622,7 +2635,7 @@
 
 #: windows/rkhtmlwindow.cpp:369
 msgid "Export page as HTML"
-msgstr ""
+msgstr "Exportiere Seite als HTML"
 
 #: windows/rkhtmlwindow.cpp:380
 #, fuzzy
@@ -2634,13 +2647,11 @@
 msgstr "Speichere Ausgabe als HTML"
 
 #: windows/rkhtmlwindow.cpp:401
-#, fuzzy
 msgid ""
 "<HTML><BODY><H1>RKWard output file could not be found</H1>\n"
 "</BODY></HTML>"
 msgstr ""
-"<HTML><BODY><H1>RKWard Ausgabe</H1>\n"
-"<P>Die Ausgabe ist leer.</P>\n"
+"<HTML><BODY><H1>RKWard Ausgabedatei konnte nicht gefunden werden</H1>\n"
 "</BODY></HTML>"
 
 #: windows/rkhtmlwindow.cpp:403
@@ -2652,8 +2663,8 @@
 "Do you really want to flush the output? It will not be possible to restore "
 "it."
 msgstr ""
-"Möchten Sie die Ausgabe wirklich leeren? Eine Wiederherstellung "
-"wirdunmöglich sein."
+"Möchten Sie die Ausgabe wirklich leeren? Eine Wiederherstellung wird "
+"unmöglich sein."
 
 #: windows/rkhtmlwindow.cpp:411
 msgid "Flush output?"
@@ -2669,10 +2680,14 @@
 "<p>The help page for this component has not yet been written (or is broken). "
 "Please consider contributing it.</p>\n"
 msgstr ""
+"<h1>Hilfeseite fehlt</h1>\n"
+"<p>Die Hilfeseite für diese Komponente wurde noch nicht geschrieben oder ist "
+"fehlerhaft. "
+"Bitte ziehen Sie in Betracht dies mit zu verbessern.</p>\n"
 
 #: windows/rkhtmlwindow.cpp:498
 msgid "Use %1 now"
-msgstr ""
+msgstr "Verwenden Sie %1 nun"
 
 #: windows/rkhtmlwindow.cpp:515
 msgid "Summary"
@@ -2700,7 +2715,7 @@
 
 #: windows/rkhtmlwindow.cpp:579
 msgid "<h1>On this page:</h1>"
-msgstr ""
+msgstr "<h1>Auf dieser Seite:</h1>"
 
 #: windows/rkhtmlwindow.cpp:646
 msgid "R Reference on '%1'"
@@ -2764,7 +2779,7 @@
 
 #: windows/rktoplevelwindowgui.cpp:74
 msgid "Show/Hide Workspace Browser"
-msgstr "Zeige/Verberge Workspace Browser"
+msgstr "Zeige/Verberge Workspace-Browser"
 
 #: windows/rktoplevelwindowgui.cpp:78
 msgid "Show/Hide Filesystem Browser"
@@ -2784,7 +2799,7 @@
 
 #: windows/rktoplevelwindowgui.cpp:94
 msgid "Show/Hide R Help Search"
-msgstr "Zeige / VerbergeFenster zur R-Hilfe"
+msgstr "Zeige/VerbergeFenster zur R-Hilfe"
 
 #: windows/rktoplevelwindowgui.cpp:98
 msgid "Activate Document view"
@@ -2803,16 +2818,19 @@
 "Therefore, if you want to configure keyboard shortcuts e.g. for use inside "
 "the script editor, you need to open a script editor window, and activate it."
 msgstr ""
+"Aus technischen Gründen können sie mit dem folgenden Dialog die Shortcuts "
+"nur für die gegenwärtig aktiven Teile von RKWard konfigurieren.\n"
+"\n"
+"Um beispielsweise die Shortcuts für innerhalb des Skripteditors zu ändern, "
+"müssen Sie das Skripteditorfenster öffnen und es aktivieren."
 
 #: windows/rktoplevelwindowgui.cpp:117 windows/rktoplevelwindowgui.cpp:130
-#, fuzzy
 msgid "Note"
-msgstr "Kein Titel"
+msgstr "Notiz"
 
 #: windows/rktoplevelwindowgui.cpp:123
-#, fuzzy
 msgid "RKWard Plugins"
-msgstr "Plugins"
+msgstr "RKWard Plugins"
 
 #: windows/rktoplevelwindowgui.cpp:130
 msgid ""
@@ -2822,16 +2840,23 @@
 "Therefore, if you want to configure tool buttons e.g. for use inside the "
 "script editor, you need to open a script editor window, and activate it."
 msgstr ""
+"Aus technischen Gründen können Sie nur den Werkzeugleiste-Button im "
+"gegenwärtig aktiven Teil von RKWard mit dem folgenden Dialog konfigurieren.\n"
+"\n"
+"Wenn Sie beispielsweise die Werkzeugleiste-Buttons im Skripteditor "
+"konfigurieren, dann müssen Sie den Skripteditor öffnen und ihn aktivieren."
 
 #: windows/rktoplevelwindowgui.cpp:152
 msgid ""
 "<p>Please submit your bug reports or wishes at <a href=\"%1\">%1</a> or send "
 "email to <a href=\"mailto:%2\">%2</a>.</p>"
 msgstr ""
+"<p>Bitte übermitteln Sie ihre Fehlerberichte oder Wünsche an <a href=\"%1\">"
+"%1</a> oder senden Sie eine E-Mail an <a href=\"mailto:%2\">%2</a>.</p>"
 
 #: windows/rktoplevelwindowgui.cpp:154
 msgid "Reporting bugs in RKWard"
-msgstr ""
+msgstr "Fehler in RKWard melden"
 
 #: windows/rkwindowcatcher.cpp:57
 msgid ""
@@ -2858,7 +2883,7 @@
 "wie diese Meldung, dann ist das ein Fall, in dem RKWard besser funktionieren "
 "sollte. In diesem Fall kontaktieren sie uns bitte unter rkward-devel@lists."
 "sourceforge.net und teilen Sie uns Informationen zu Ihrem System mit, damit "
-"wir versuchen können, diese Fehler in kommenden Versionen zu beheben."
+"wir versuchen können, diese Fehler in kommenden Versionen von RKWard zu beheben."
 
 #: windows/rkwindowcatcher.cpp:57
 msgid "Could not embed R X11 window"
@@ -2894,7 +2919,7 @@
 
 #: windows/rkwindowcatcher.cpp:291
 msgid "Specify R object"
-msgstr "R Objektname angeben"
+msgstr "R Objekt spezifizieren"
 
 #: windows/rkwindowcatcher.cpp:296
 msgid "Specify the R object name, you want to save the graph to"
@@ -2958,17 +2983,17 @@
 
 #: windows/rkworkplace.cpp:211
 msgid "Open in default application?"
-msgstr "Standardanwendung öffnen?"
+msgstr "In Standardanwendung öffnen?"
 
-#: windows/rkworkplace.cpp:239
+#: windows/rkworkplace.cpp:240
 msgid "Unable to open \"%1\""
-msgstr "Die Datei \"%1\" kann nicht geöffnet werden"
+msgstr "\"%1\" konnte nicht geöffnet werden"
 
-#: windows/rkworkplace.cpp:239
+#: windows/rkworkplace.cpp:240
 msgid "Could not open command file"
 msgstr "Konnte Kommandodatei nicht öffnen"
 
-#: windows/rkworkplace.cpp:348
+#: windows/rkworkplace.cpp:349
 msgid ""
 "You are about to edit object \"%1\", which is very large (%2 fields). RKWard "
 "is not optimized to handle very large objects in the built in data editor. "
@@ -2993,37 +3018,37 @@
 "Allgemein.\n"
 "Objekt wirklich editieren?"
 
-#: windows/rkworkplace.cpp:348
+#: windows/rkworkplace.cpp:349
 msgid "About to edit very large object"
 msgstr "Sie beabsichtigen ein sehr großes Objekt zu ändern"
 
-#: windows/rkworkplace.cpp:508
+#: windows/rkworkplace.cpp:509
 msgid "Save Workplace layout"
 msgstr "Speichere Arbeitsplatz Layout"
 
-#: windows/rkworkplace.cpp:515
+#: windows/rkworkplace.cpp:516
 msgid "Restore Workplace layout"
 msgstr "Workspacelayout wiederherstellen"
 
-#: windows/rkworkplace.cpp:584
+#: windows/rkworkplace.cpp:585
 msgid "Previous Window"
 msgstr "Vorheriges Fenster"
 
-#: windows/rkworkplace.cpp:589
+#: windows/rkworkplace.cpp:590
 msgid "Next Window"
 msgstr "Nächstes Fenster"
 
-#: windows/rkworkplaceview.cpp:72
+#: windows/rkworkplaceview.cpp:70
 msgid "Window Left"
 msgstr "Fenster Links"
 
-#: windows/rkworkplaceview.cpp:76
+#: windows/rkworkplaceview.cpp:74
 msgid "Window Right"
 msgstr "Fenster Rechts"
 
 #: windows/robjectbrowser.cpp:67
 msgid "Objects in the R workspace"
-msgstr "Objekte im R Workspace"
+msgstr "Objekte im R-Workspace"
 
 #: windows/robjectbrowser.cpp:119
 msgid "Search Help"
@@ -3054,9 +3079,8 @@
 msgstr "Lösche"
 
 #: windows/robjectbrowser.cpp:133
-#, fuzzy
 msgid "Unload Package"
-msgstr "Geladene Pakete"
+msgstr "Entladen Pakete"
 
 #: windows/robjectbrowser.cpp:186
 msgid "Copy object"
@@ -3199,7 +3223,7 @@
 #. i18n: ectx: Menu (workspace)
 #: rc.cpp:33
 msgid "&Workspace"
-msgstr "W&orkspace"
+msgstr "&Workspace"
 
 #. i18n: file: rkwardui.rc:67
 #. i18n: ectx: Menu (window_activate)
@@ -3247,12 +3271,12 @@
 #: rc.cpp:133
 msgctxt "NAME OF TRANSLATORS"
 msgid "Your names"
-msgstr "Ihre Namen"
+msgstr "stefan_roediger@gmx.de, jvajen@googlemail.com"
 
 #: rc.cpp:134
 msgctxt "EMAIL OF TRANSLATORS"
 msgid "Your emails"
-msgstr "Ihre E-Mails"
+msgstr "Stefan Rödiger, Jannis Vajen"
 
 #~ msgid "Open command file(s)"
 #~ msgstr "Öffne Befehls Dateie(n)"
diff -Nuar rkward-0.5.3.orig/po/el.po rkward-0.5.3/po/el.po
--- rkward-0.5.3.orig/po/el.po	2010-04-27 11:01:37.000000000 +0300
+++ rkward-0.5.3/po/el.po	2010-04-15 17:30:50.063935000 +0300
@@ -8,7 +8,7 @@
 "Project-Id-Version: el\n"
 "Report-Msgid-Bugs-To: http://sourceforge.net/tracker/?"
 "group_id=50231&atid=459007\n"
-"POT-Creation-Date: 2010-04-27 10:01+0200\n"
+"POT-Creation-Date: 2010-04-15 16:30+0200\n"
 "PO-Revision-Date: 2009-04-29 17:47+0100\n"
 "Last-Translator: \n"
 "Language-Team: en_US <kde-i18n-doc@lists.kde.org>\n"
@@ -941,7 +941,7 @@
 msgstr "Σφάλματα / Προειδοποιήσεις "
 
 #: misc/rkprogresscontrol.cpp:246 plugin/rkstandardcomponentgui.cpp:301
-#: rkconsole.cpp:884 robjectviewer.cpp:170
+#: rkconsole.cpp:881 robjectviewer.cpp:170
 msgid "Cancel"
 msgstr "Ακύρωση"
 
@@ -1482,32 +1482,32 @@
 msgid "R Console"
 msgstr "Τερματικό R"
 
-#: rkconsole.cpp:629
+#: rkconsole.cpp:626
 msgid "Syntax error\n"
 msgstr "Σφάλμα σύνταξης.\n"
 
-#: rkconsole.cpp:837
+#: rkconsole.cpp:834
 msgid "Interrupt running command"
 msgstr "Διακοπή εντολής που εκτελείται"
 
-#: rkconsole.cpp:843
+#: rkconsole.cpp:840
 msgid "Copy selection cleaned"
 msgstr "Αντιγραφή επιλογής με εκκαθάριση από σύμβολα"
 
-#: rkconsole.cpp:846
+#: rkconsole.cpp:843
 msgid "Copy selection literally"
 msgstr "Αντιγραφή επιλογής ως έχει"
 
-#: rkconsole.cpp:853 windows/rkcommandlog.cpp:285
+#: rkconsole.cpp:850 windows/rkcommandlog.cpp:285
 msgid "Configure"
 msgstr "Ρύθμιση"
 
-#: rkconsole.cpp:855
+#: rkconsole.cpp:852
 #, fuzzy
 msgid "Print Console"
 msgstr "Τερματικό R"
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 msgid ""
 "You have configured RKWard to run script commands through the console. "
 "However, the console is currently busy (either a command is running, or you "
@@ -1520,11 +1520,11 @@
 "τερματικό). Θέλετε να παρακάμψετε το τερματικό αυτήν την φορά, ή θέλετε να "
 "προσπαθήσετε αργότερα;"
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 msgid "Console is busy"
 msgstr "Το τερματικό είναι απασχολημένο"
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 msgid "Bypass console"
 msgstr "Παράκαμψη τερματικού"
 
@@ -2955,15 +2955,15 @@
 msgid "Open in default application?"
 msgstr "Άνοιγμα με·την·προεπιλεγμένη·εφαρμογή;"
 
-#: windows/rkworkplace.cpp:239
+#: windows/rkworkplace.cpp:240
 msgid "Unable to open \"%1\""
 msgstr "Αδυναμία ανοίγματος του \"%1\""
 
-#: windows/rkworkplace.cpp:239
+#: windows/rkworkplace.cpp:240
 msgid "Could not open command file"
 msgstr "Αδυναμία ανοίγματος του φακέλου εντολών"
 
-#: windows/rkworkplace.cpp:348
+#: windows/rkworkplace.cpp:349
 msgid ""
 "You are about to edit object \"%1\", which is very large (%2 fields). RKWard "
 "is not optimized to handle very large objects in the built in data editor. "
@@ -2989,31 +2989,31 @@
 "μενού Ρυθμίσεις->Ρύθμιση RKWard->Γενικά.\n"
 "Θέλετε πραγματικά να επεξεργαστείτε το αντικείμενο;"
 
-#: windows/rkworkplace.cpp:348
+#: windows/rkworkplace.cpp:349
 msgid "About to edit very large object"
 msgstr "Πρόκειται να επεξεργαστείτε ένα πολύ μεγάλο αντικείμενο"
 
-#: windows/rkworkplace.cpp:508
+#: windows/rkworkplace.cpp:509
 msgid "Save Workplace layout"
 msgstr "Αποθήκευση διάταξης χώρου εργασίας"
 
-#: windows/rkworkplace.cpp:515
+#: windows/rkworkplace.cpp:516
 msgid "Restore Workplace layout"
 msgstr "Ανάκτηση διάταξης χώρου εργασίας"
 
-#: windows/rkworkplace.cpp:584
+#: windows/rkworkplace.cpp:585
 msgid "Previous Window"
 msgstr "Προηγούμενο Παράθυρο"
 
-#: windows/rkworkplace.cpp:589
+#: windows/rkworkplace.cpp:590
 msgid "Next Window"
 msgstr "Επόμενο Παράθυρο"
 
-#: windows/rkworkplaceview.cpp:72
+#: windows/rkworkplaceview.cpp:70
 msgid "Window Left"
 msgstr "Παράθυρο αριστερά"
 
-#: windows/rkworkplaceview.cpp:76
+#: windows/rkworkplaceview.cpp:74
 msgid "Window Right"
 msgstr "Παράθυρο δεξιά"
 
diff -Nuar rkward-0.5.3.orig/po/es.po rkward-0.5.3/po/es.po
--- rkward-0.5.3.orig/po/es.po	2010-04-27 11:01:38.000000000 +0300
+++ rkward-0.5.3/po/es.po	2010-04-21 14:44:05.937210000 +0300
@@ -8,9 +8,9 @@
 msgid ""
 msgstr ""
 "Project-Id-Version: rkward\n"
-"Report-Msgid-Bugs-To: http://sourceforge.net/tracker/?"
-"group_id=50231&atid=459007\n"
-"POT-Creation-Date: 2010-04-27 10:01+0200\n"
+"Report-Msgid-Bugs-To: http://sourceforge."
+"net/tracker/?group_id=50231&atid=459007\n"
+"POT-Creation-Date: 2010-04-15 16:30+0200\n"
 "PO-Revision-Date: 2010-04-21 13:38+0200\n"
 "Last-Translator: Germán Márquez Mejía\n"
 "Language-Team: Spanish <rkward-devel@lists.sourceforge.net>\n"
@@ -913,8 +913,7 @@
 #: misc/rkprogresscontrol.cpp:213
 msgid ""
 "<b>There have been errors and / or warnings! See below for a transcript</b>"
-msgstr ""
-"<b>¡Se han encontrado errores y/o avisos! Mire el reporte más abajo</b>"
+msgstr "<b>¡Se han encontrado errores y/o avisos! Mire el reporte más abajo</b>"
 
 #: misc/rkprogresscontrol.cpp:223 settings/rksettingsmoduleoutput.cpp:109
 msgid "Output"
@@ -933,7 +932,7 @@
 msgstr "Errores/avisos"
 
 #: misc/rkprogresscontrol.cpp:246 plugin/rkstandardcomponentgui.cpp:301
-#: rkconsole.cpp:884 robjectviewer.cpp:170
+#: rkconsole.cpp:881 robjectviewer.cpp:170
 msgid "Cancel"
 msgstr "Cancelar"
 
@@ -1475,31 +1474,31 @@
 msgid "R Console"
 msgstr "Consola de R"
 
-#: rkconsole.cpp:629
+#: rkconsole.cpp:626
 msgid "Syntax error\n"
 msgstr "Error de sintaxis\n"
 
-#: rkconsole.cpp:837
+#: rkconsole.cpp:834
 msgid "Interrupt running command"
 msgstr "Interrumpir el comando en ejecución"
 
-#: rkconsole.cpp:843
+#: rkconsole.cpp:840
 msgid "Copy selection cleaned"
 msgstr "Copiar la selección después de limpiarla"
 
-#: rkconsole.cpp:846
+#: rkconsole.cpp:843
 msgid "Copy selection literally"
 msgstr "Copiar la selección tal cual"
 
-#: rkconsole.cpp:853 windows/rkcommandlog.cpp:285
+#: rkconsole.cpp:850 windows/rkcommandlog.cpp:285
 msgid "Configure"
 msgstr "Configurar"
 
-#: rkconsole.cpp:855
+#: rkconsole.cpp:852
 msgid "Print Console"
 msgstr "Imprimir la consola"
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 msgid ""
 "You have configured RKWard to run script commands through the console. "
 "However, the console is currently busy (either a command is running, or you "
@@ -1511,11 +1510,11 @@
 "comando o usted ha comenzado a introducir texto). ¿Desea obviar la consola "
 "por esta vez o desea intentar nuevamente más tarde?"
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 msgid "Console is busy"
 msgstr "La consola está ocupada"
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 msgid "Bypass console"
 msgstr "Obviar la consola"
 
@@ -1855,8 +1854,8 @@
 "The file \"%1\" (needed by \"%2\") could not be found. Please check your "
 "installation."
 msgstr ""
-"El archivo «%1» (requerido por «%2») no fue encontrado. Por favor verifique su "
-"instalación."
+"El archivo «%1» (requerido por «%2») no fue encontrado. Por favor "
+"verifique su instalación."
 
 #: scriptbackends/scriptbackend.cpp:91
 msgid "## Prepare\n"
@@ -2791,12 +2790,12 @@
 "script editor, you need to open a script editor window, and activate it."
 msgstr ""
 "Por razones técnicas, el siguiente diálogo sólo le permite configurar los "
-"botones de la barra de herramientas para aquellas partes de RKWard que se "
-"encuentran activas.\n"
+"botones de la barra de herramientas para aquellas partes de RKWard "
+"que se encuentran activas.\n"
 "\n"
-"Por lo tanto, si desea configurar los botones, por ejemplo, para su uso "
-"dentro del editor de guiones, debe primero abrir una ventana del editor de "
-"guiones y activarla."
+"Por lo tanto, si desea configurar los botones, por ejemplo, para "
+"su uso dentro del editor de guiones, debe primero abrir una ventana del "
+"editor de guiones y activarla."
 
 #: windows/rktoplevelwindowgui.cpp:152
 msgid ""
@@ -2935,15 +2934,15 @@
 msgid "Open in default application?"
 msgstr "¿Abrir con la aplicación predeterminada?"
 
-#: windows/rkworkplace.cpp:239
+#: windows/rkworkplace.cpp:240
 msgid "Unable to open \"%1\""
 msgstr "No ha sido posible abrir «%1»"
 
-#: windows/rkworkplace.cpp:239
+#: windows/rkworkplace.cpp:240
 msgid "Could not open command file"
 msgstr "No se pudo abrir el archivo de comandos"
 
-#: windows/rkworkplace.cpp:348
+#: windows/rkworkplace.cpp:349
 msgid ""
 "You are about to edit object \"%1\", which is very large (%2 fields). RKWard "
 "is not optimized to handle very large objects in the built in data editor. "
@@ -2968,31 +2967,31 @@
 ">Configurar RKWard->General.\n"
 "¿Realmente desea editar el objeto?"
 
-#: windows/rkworkplace.cpp:348
+#: windows/rkworkplace.cpp:349
 msgid "About to edit very large object"
 msgstr "A punto de editar objeto muy grande"
 
-#: windows/rkworkplace.cpp:508
+#: windows/rkworkplace.cpp:509
 msgid "Save Workplace layout"
 msgstr "Guardar disposición del espacio de trabajo"
 
-#: windows/rkworkplace.cpp:515
+#: windows/rkworkplace.cpp:516
 msgid "Restore Workplace layout"
 msgstr "Restaurar disposición del espacio de trabajo"
 
-#: windows/rkworkplace.cpp:584
+#: windows/rkworkplace.cpp:585
 msgid "Previous Window"
 msgstr "Ventana anterior"
 
-#: windows/rkworkplace.cpp:589
+#: windows/rkworkplace.cpp:590
 msgid "Next Window"
 msgstr "Siguiente ventana"
 
-#: windows/rkworkplaceview.cpp:72
+#: windows/rkworkplaceview.cpp:70
 msgid "Window Left"
 msgstr "Ventana izquierda"
 
-#: windows/rkworkplaceview.cpp:76
+#: windows/rkworkplaceview.cpp:74
 msgid "Window Right"
 msgstr "Ventana derecha"
 
diff -Nuar rkward-0.5.3.orig/po/fr.po rkward-0.5.3/po/fr.po
--- rkward-0.5.3.orig/po/fr.po	2010-04-27 11:01:38.000000000 +0300
+++ rkward-0.5.3/po/fr.po	2010-04-15 17:30:50.063935000 +0300
@@ -13,7 +13,7 @@
 "Project-Id-Version: fr\n"
 "Report-Msgid-Bugs-To: http://sourceforge.net/tracker/?"
 "group_id=50231&atid=459007\n"
-"POT-Creation-Date: 2010-04-27 10:01+0200\n"
+"POT-Creation-Date: 2010-04-15 16:30+0200\n"
 "PO-Revision-Date: 2007-02-10 14:42+0100\n"
 "Last-Translator: Jacolin Yves <yjacolin@free.fr>\n"
 "Language-Team: français <fr@li.org>\n"
@@ -936,7 +936,7 @@
 msgstr "Erreur lors du démarrage de R :"
 
 #: misc/rkprogresscontrol.cpp:246 plugin/rkstandardcomponentgui.cpp:301
-#: rkconsole.cpp:884 robjectviewer.cpp:170
+#: rkconsole.cpp:881 robjectviewer.cpp:170
 #, fuzzy
 msgid "Cancel"
 msgstr "Annulé"
@@ -1471,33 +1471,33 @@
 msgid "R Console"
 msgstr "Terminal R"
 
-#: rkconsole.cpp:629
+#: rkconsole.cpp:626
 msgid "Syntax error\n"
 msgstr "Erreur de syntaxe.\n"
 
-#: rkconsole.cpp:837
+#: rkconsole.cpp:834
 msgid "Interrupt running command"
 msgstr "Interrompre l'exécution de la commande"
 
-#: rkconsole.cpp:843
+#: rkconsole.cpp:840
 msgid "Copy selection cleaned"
 msgstr "Copier la sélection"
 
-#: rkconsole.cpp:846
+#: rkconsole.cpp:843
 msgid "Copy selection literally"
 msgstr "Copier la sélection"
 
-#: rkconsole.cpp:853 windows/rkcommandlog.cpp:285
+#: rkconsole.cpp:850 windows/rkcommandlog.cpp:285
 #, fuzzy
 msgid "Configure"
 msgstr "Configuration de RKWard"
 
-#: rkconsole.cpp:855
+#: rkconsole.cpp:852
 #, fuzzy
 msgid "Print Console"
 msgstr "Terminal R"
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 #, fuzzy
 msgid ""
 "You have configured RKWard to run script commands through the console. "
@@ -1510,11 +1510,11 @@
 "ou vous avez commencé à entrer du texte dans la console). Voulez-vous court-"
 "circuiter la console pourcette fois ou voulez vous retenter plus tard ?"
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 msgid "Console is busy"
 msgstr "Console occupée"
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 msgid "Bypass console"
 msgstr "Court-circuiter la console"
 
@@ -2942,15 +2942,15 @@
 msgid "Open in default application?"
 msgstr "Ouvrir dans l'application par défaut ?"
 
-#: windows/rkworkplace.cpp:239
+#: windows/rkworkplace.cpp:240
 msgid "Unable to open \"%1\""
 msgstr "Impossible d'ouvrir le fichier \"%1\""
 
-#: windows/rkworkplace.cpp:239
+#: windows/rkworkplace.cpp:240
 msgid "Could not open command file"
 msgstr "Impossible d'ouvrir le fichier de commandes"
 
-#: windows/rkworkplace.cpp:348
+#: windows/rkworkplace.cpp:349
 msgid ""
 "You are about to edit object \"%1\", which is very large (%2 fields). RKWard "
 "is not optimized to handle very large objects in the built in data editor. "
@@ -2964,33 +2964,33 @@
 "Really edit object?"
 msgstr ""
 
-#: windows/rkworkplace.cpp:348
+#: windows/rkworkplace.cpp:349
 msgid "About to edit very large object"
 msgstr ""
 
-#: windows/rkworkplace.cpp:508
+#: windows/rkworkplace.cpp:509
 msgid "Save Workplace layout"
 msgstr "Enregistrer l'espace de travail"
 
-#: windows/rkworkplace.cpp:515
+#: windows/rkworkplace.cpp:516
 msgid "Restore Workplace layout"
 msgstr "Restaurer l'espace de travail"
 
-#: windows/rkworkplace.cpp:584
+#: windows/rkworkplace.cpp:585
 msgid "Previous Window"
 msgstr ""
 
-#: windows/rkworkplace.cpp:589
+#: windows/rkworkplace.cpp:590
 #, fuzzy
 msgid "Next Window"
 msgstr "&Fenêtres"
 
-#: windows/rkworkplaceview.cpp:72
+#: windows/rkworkplaceview.cpp:70
 #, fuzzy
 msgid "Window Left"
 msgstr "&Fenêtres"
 
-#: windows/rkworkplaceview.cpp:76
+#: windows/rkworkplaceview.cpp:74
 #, fuzzy
 msgid "Window Right"
 msgstr "&Fenêtres"
diff -Nuar rkward-0.5.3.orig/po/it.po rkward-0.5.3/po/it.po
--- rkward-0.5.3.orig/po/it.po	2010-04-27 11:01:38.000000000 +0300
+++ rkward-0.5.3/po/it.po	2010-04-15 17:30:50.063935000 +0300
@@ -10,7 +10,7 @@
 "Project-Id-Version: it\n"
 "Report-Msgid-Bugs-To: http://sourceforge.net/tracker/?"
 "group_id=50231&atid=459007\n"
-"POT-Creation-Date: 2010-04-27 10:01+0200\n"
+"POT-Creation-Date: 2010-04-15 16:30+0200\n"
 "PO-Revision-Date: 2005-07-17 18:06+0200\n"
 "Last-Translator: Daniele Medri <daniele@medri.org>\n"
 "Language-Team: Italian <it@li.org>\n"
@@ -914,7 +914,7 @@
 msgstr "Errore durante l'avvio di R"
 
 #: misc/rkprogresscontrol.cpp:246 plugin/rkstandardcomponentgui.cpp:301
-#: rkconsole.cpp:884 robjectviewer.cpp:170
+#: rkconsole.cpp:881 robjectviewer.cpp:170
 msgid "Cancel"
 msgstr ""
 
@@ -1427,36 +1427,36 @@
 msgid "R Console"
 msgstr "Console"
 
-#: rkconsole.cpp:629
+#: rkconsole.cpp:626
 #, fuzzy
 msgid "Syntax error\n"
 msgstr "Errore di sintassi.\n"
 
-#: rkconsole.cpp:837
+#: rkconsole.cpp:834
 msgid "Interrupt running command"
 msgstr "Interrompi comando in esecuzione"
 
-#: rkconsole.cpp:843
+#: rkconsole.cpp:840
 #, fuzzy
 msgid "Copy selection cleaned"
 msgstr "Esegui selezione"
 
-#: rkconsole.cpp:846
+#: rkconsole.cpp:843
 #, fuzzy
 msgid "Copy selection literally"
 msgstr "Esegui selezione"
 
-#: rkconsole.cpp:853 windows/rkcommandlog.cpp:285
+#: rkconsole.cpp:850 windows/rkcommandlog.cpp:285
 #, fuzzy
 msgid "Configure"
 msgstr "Configura RKWard"
 
-#: rkconsole.cpp:855
+#: rkconsole.cpp:852
 #, fuzzy
 msgid "Print Console"
 msgstr "Console"
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 msgid ""
 "You have configured RKWard to run script commands through the console. "
 "However, the console is currently busy (either a command is running, or you "
@@ -1464,12 +1464,12 @@
 "console this one time, or do you want to try again later?"
 msgstr ""
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 #, fuzzy
 msgid "Console is busy"
 msgstr "Console"
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 #, fuzzy
 msgid "Bypass console"
 msgstr "Console"
@@ -2870,17 +2870,17 @@
 msgid "Open in default application?"
 msgstr "Termina l'applicazione"
 
-#: windows/rkworkplace.cpp:239
+#: windows/rkworkplace.cpp:240
 #, fuzzy
 msgid "Unable to open \"%1\""
 msgstr "Non è possibile aprire il file"
 
-#: windows/rkworkplace.cpp:239
+#: windows/rkworkplace.cpp:240
 #, fuzzy
 msgid "Could not open command file"
 msgstr "Impossibile aprire il file in lettura"
 
-#: windows/rkworkplace.cpp:348
+#: windows/rkworkplace.cpp:349
 msgid ""
 "You are about to edit object \"%1\", which is very large (%2 fields). RKWard "
 "is not optimized to handle very large objects in the built in data editor. "
@@ -2894,32 +2894,32 @@
 "Really edit object?"
 msgstr ""
 
-#: windows/rkworkplace.cpp:348
+#: windows/rkworkplace.cpp:349
 msgid "About to edit very large object"
 msgstr ""
 
-#: windows/rkworkplace.cpp:508
+#: windows/rkworkplace.cpp:509
 #, fuzzy
 msgid "Save Workplace layout"
 msgstr "Salva area di lavoro"
 
-#: windows/rkworkplace.cpp:515
+#: windows/rkworkplace.cpp:516
 msgid "Restore Workplace layout"
 msgstr ""
 
-#: windows/rkworkplace.cpp:584
+#: windows/rkworkplace.cpp:585
 msgid "Previous Window"
 msgstr ""
 
-#: windows/rkworkplace.cpp:589
+#: windows/rkworkplace.cpp:590
 msgid "Next Window"
 msgstr ""
 
-#: windows/rkworkplaceview.cpp:72
+#: windows/rkworkplaceview.cpp:70
 msgid "Window Left"
 msgstr ""
 
-#: windows/rkworkplaceview.cpp:76
+#: windows/rkworkplaceview.cpp:74
 msgid "Window Right"
 msgstr ""
 
diff -Nuar rkward-0.5.3.orig/po/lt.po rkward-0.5.3/po/lt.po
--- rkward-0.5.3.orig/po/lt.po	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/po/lt.po	2010-08-06 23:34:06.051958000 +0300
@@ -0,0 +1,3462 @@
+# translation of fr.po to français
+# translation of fr.po to German
+# translation of fr.po to
+# This file is distributed under the same license as the RKWard package.
+# Copyright (C) 2005 Thomas Friedrichsmeier.
+#
+# Mindaugas Baranauskas <embar@users.berlios.de>, 2010.
+msgid ""
+msgstr ""
+"Project-Id-Version: lt\n"
+"Report-Msgid-Bugs-To: http://sourceforge."
+"net/tracker/?group_id=50231&atid=459007\n"
+"POT-Creation-Date: 2010-04-27 10:01+0200\n"
+"PO-Revision-Date: 2010-08-06 20:28+0300\n"
+"Last-Translator: Mindaugas Baranauskas <embar@users.berlios.de>\n"
+"Language-Team: Lithuanian <embar@users.berlios.de>\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=UTF-8\n"
+"Content-Transfer-Encoding: 8bit\n"
+"X-Generator: Lokalize 1.0\n"
+"Plural-Forms: nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && "
+"(n%100<10 || n%100>=20) ? 1 : 2);\n"
+
+#: agents/rkeditobjectagent.cpp:56
+msgid ""
+"The object '%1', could not be opened for editing. Either it does not exist, "
+"or RKWard does not support editing this type of object, yet."
+msgstr ""
+"Objekto „%1“ negalima atverti redaguoti. Arba jo nėra, arba"
+"RKWard dar nepalaiko tokio tipo objektų redagavimo."
+
+#: agents/rkeditobjectagent.cpp:56
+msgid "Cannot edit '%1'"
+msgstr "Nepavyksta keisti „%1“"
+
+#: agents/rkloadagent.cpp:38
+msgid "Loading Workspace ..."
+msgstr "Įkeliama darbo erdvė..."
+
+#: agents/rkloadagent.cpp:73
+msgid ""
+"There has been an error opening file '%1':\n"
+"%2"
+msgstr ""
+"Atveriant rinkmeną „%1“, įvyko klaida:\n"
+"%2"
+
+#: agents/rkloadagent.cpp:73
+msgid "Error loading workspace"
+msgstr "Įkeliant darbo erdvę, įvyko klaida"
+
+#: agents/rkquitagent.cpp:41
+msgid ""
+"Waiting for remaining R commands to finish. To quit immediately, press "
+"Cancel (WARNING: This may result in loss of data)"
+msgstr ""
+"Laukiama, kol darbą baigs likusios R komandos. Norėdami išeiti tuoj pat, "
+"spauskite „Atšaukti“ (Dėmesio: taip galite prarasti savo duomenis) "
+
+#: agents/rkquitagent.cpp:41
+msgid "Waiting for R to finish"
+msgstr "Laukiama, kol R baigs bardą"
+
+#: agents/rksaveagent.cpp:63
+msgid ""
+"No filename given. Your data was NOT saved. Do you still want to proceed?"
+msgstr ""
+"Nenurodytas joks rinkmenos vardas. Duomenys NEBUVO įrašyti. "
+"Vis tiek tęsti?"
+
+#: agents/rksaveagent.cpp:75
+msgid "Saving to file '%1' failed. What do you want to do?"
+msgstr "Nepavyko įrašyti rinkmenos „%1“. Ką norite daryti?"
+
+#: agents/rksaveagent.cpp:75
+msgid "Save failed"
+msgstr "Nepavyko įrašyti"
+
+#: agents/rksaveagent.cpp:75
+msgid "Try saving with a different filename"
+msgstr "Pabandykite įrašyti kitokiu rinkmenos vardu."
+
+#: agents/rksaveagent.cpp:75
+msgid "Saving failed"
+msgstr "Nepavyko įrašyti"
+
+#: agents/rksaveagent.cpp:77
+msgid ""
+"Saving to file '%1' failed. Do you want to try saving to a different "
+"filename?"
+msgstr "Nepavyko įrašyti rinkmenos „%1“. Ar įrašyti kitu rinkmenos vardu?"
+
+#: agents/showedittextfileagent.cpp:57 misc/rkprogresscontrol.cpp:301
+#: plugin/rkstandardcomponentgui.cpp:386
+msgid "Done"
+msgstr "Atlikta"
+
+#: agents/showedittextfileagent.cpp:77
+msgid ""
+" For that reason processing has been stopped for now. Press the \"Done\"-"
+"button, or close this dialog once you think it is safe to resume.\n"
+"\n"
+msgstr ""
+" Todėl apdorojimas sustabdytas. Spauskite mygtuką „Atlikta“, "
+"arba užverkite šį dialogą, jei manote, kad jau yra saugu tęsti.\n"
+"\n"
+
+#: agents/showedittextfileagent.cpp:78
+msgid ""
+"The file(s) have been opened in text-windows. The following is a list of the "
+"file(s) in question:\n"
+"\n"
+msgstr ""
+"Rinkmenos atvertos tekstiniuose languose. "
+"Klausimas susijęs su šiomis rinkmenomis:\n"
+"\n"
+
+#: agents/showedittextfileagent.cpp:90
+msgid "Showing file(s)"
+msgstr "Rodomos rinkmenos"
+
+#: agents/showedittextfileagent.cpp:91
+msgid ""
+"A command running in the R-engine wants you to see one or more file(s). "
+"RKWard can not determine, whether it is safe to continue processing R "
+"commands, before you have read the file(s) in question."
+msgstr ""
+"R variklyje veikiančiai komanda ketina atverti vienos ar kelių rinkmenų. "
+"RKWard negali nustatyti, ar saugu tęsti vykdyti tokias R komandas, "
+"tad turėtumėte peržiūrėti tas norimas naudoti rinkmenas."
+
+#: agents/showedittextfileagent.cpp:93
+msgid "Edit file(s)"
+msgstr "Redaguoti rinkmenas"
+
+#: agents/showedittextfileagent.cpp:94
+msgid ""
+"A command running in the R-engine wants you to edit one or more file(s). "
+"RKWard can not determine, whether it is safe to continue processing R "
+"commands, before you have read/edited (and saved) the file(s) in question."
+msgstr ""
+"R variklyje veikianti komanda ketina pakeisti vieną ar kelias rinkmenas. "
+"RKWard negali nustatyti, ar saugu tęsti vykdyti tokias R komandas, "
+"tad turėtumėte peržiūrėti tas norimas skaityti/redaguoti (ir įrašyti) "
+"rinkmenas."
+
+#: agents/showedittextfileagent.cpp:119
+msgid ""
+"\n"
+"\n"
+"The following of the above files were not readable and have not been "
+"opened:\n"
+"\n"
+msgstr ""
+"\n"
+"\n"
+"Kai kurių aukščiau išvardintų rinkmenų nepavyko nuskaityti ir "
+"atverti:\n"
+"\n"
+
+#: core/renvironmentobject.cpp:97
+msgid ""
+"The package '%1' (probably you just loaded it) is currently blacklisted for "
+"retrieving structure information. Practically this means, the objects in "
+"this package will not appear in the object browser, and there will be no "
+"object name completion or function argument hinting for objects in this "
+"package.\n"
+"Packages will typically be blacklisted, if they contain huge amount of data, "
+"that would take too long to load. To unlist the package, visit Settings-"
+">Configure RKWard->Workspace."
+msgstr ""
+"„%1“ paketas (kurį tikriausiai ką tik įkėlėte) yra juodajame sąraše, "
+"nurodančiame paketus, kurių struktūros informacija neturėtų būti įkelta. "
+"Praktiškai tai reiškia, kad šiame pakete esantys objektai nebus matomi "
+"objektų naršyklėje, nebus rodoma šiame pakete esančių objektų "
+"pavadinimų užbaigimo ar funkcijų argumentų užuominų.\n"
+"Paprastai paketai įtraukiami į juodąjį sąrašą tuomet, kai juose yra "
+"ypač didelis duomenų kiekis, o programa juos pernelyg ilgai įkelia. "
+"Norėdami išbraukti paketą iš juodojo sąrašo, eikite Nuostatos -> "
+"Konfigūruoti RKWard -> Darbo erdvė."
+
+#: core/renvironmentobject.cpp:97
+msgid "Package blacklisted"
+msgstr "Juodojo sąrašo paketai"
+
+#: core/rkmodificationtracker.cpp:66
+msgid ""
+"The object '%1' was removed from workspace or changed to a different type of "
+"object, but is currently opened for editing. Do you want to restore it?"
+msgstr ""
+"Objektas „%1“ buvo pašalintas iš darbo aplinkos, arba pakeistas to objekto"
+"tipas, bet jis vis dar atvertas ir redaguojamas. Ar atkurti objektą?"
+
+#: core/rkmodificationtracker.cpp:66
+msgid "Restore object?"
+msgstr "Atkurti objektą?"
+
+#: core/rkmodificationtracker.cpp:73
+msgid ""
+"Do you really want to remove the object '%1'? The object is currently opened "
+"for editing, it will be removed in the editor, too. There's no way to get it "
+"back."
+msgstr ""
+"Tikrai pašalinti objektą „%1“? Objektas vis dar atvertas ir redaguojamas, "
+"bet būtų pašalintas ir iš redaktoriaus. Jis būtų pašalintas negrįžtamai."
+
+#: core/rkmodificationtracker.cpp:73 core/rkmodificationtracker.cpp:78
+msgid "Remove object?"
+msgstr "Pašalinti objektą?"
+
+#: core/rkmodificationtracker.cpp:78
+msgid ""
+"Do you really want to remove the object '%1'? There's no way to get it back."
+msgstr "Tikrai pašalinti objektą „%1“? Jis bus pašalintas negrįžtamai."
+
+#: core/rkmodificationtracker.cpp:331 dataeditor/rkvareditmodel.cpp:571
+#: dialogs/rkloadlibsdialog.cpp:298 dialogs/rkloadlibsdialog.cpp:314
+#: dialogs/rkloadlibsdialog.cpp:523 dialogs/rkloadlibsdialog.cpp:683
+#: plugin/rkformula.cpp:81 plugin/rkvarslot.cpp:55
+msgid "Name"
+msgstr "Vardas"
+
+#: core/rkmodificationtracker.cpp:332 dataeditor/editlabelsdialog.cpp:213
+#: dataeditor/rkvareditmodel.cpp:572 misc/rkobjectlistview.cpp:168
+msgid "Label"
+msgstr "Etiketė"
+
+#: core/rkmodificationtracker.cpp:333 dataeditor/rkvareditmodel.cpp:573
+#: misc/rkobjectlistview.cpp:167 rbackend/rcommandstack.cpp:399
+msgid "Type"
+msgstr "Tipas"
+
+#: core/rkmodificationtracker.cpp:334 misc/rkobjectlistview.cpp:169
+msgid "Class"
+msgstr "Klasė"
+
+#: core/robject.cpp:116
+msgid "Full location:"
+msgstr "Pilnas kelias: "
+
+#: core/robject.cpp:118
+msgid "Label:"
+msgstr "Žymė:"
+
+#: core/robject.cpp:119
+msgid "Type:"
+msgstr "Tipas:"
+
+#: core/robject.cpp:122
+msgid "Function"
+msgstr "Funkcija"
+
+#: core/robject.cpp:123
+msgid "Usage: "
+msgstr "Naudojimas: "
+
+#: core/robject.cpp:125
+msgid "Data frame"
+msgstr "Duomenų sritis"
+
+#: core/robject.cpp:127
+msgid "Array"
+msgstr "Masyvas"
+
+#: core/robject.cpp:129 misc/rkspecialactions.cpp:88
+msgid "Matrix"
+msgstr "Matrica"
+
+#: core/robject.cpp:131
+msgid "List"
+msgstr "Sąrašas"
+
+#: core/robject.cpp:133
+msgid "Variable"
+msgstr "Kintamasis"
+
+#: core/robject.cpp:134
+msgid "Data Type:"
+msgstr "Duomenų tipas:"
+
+#: core/robject.cpp:136
+msgid "Environment"
+msgstr "Aplinka"
+
+#: core/robject.cpp:141
+msgid "Length: "
+msgstr "Ilgis:"
+
+#: core/robject.cpp:143
+msgid "Dimensions: "
+msgstr "Dimensions : "
+
+#: core/robject.cpp:151
+msgid "Class(es):"
+msgstr "Klasė(s) : "
+
+#: core/robjectlist.cpp:80
+msgid ""
+"Did not unload package %1. It is required in RKWard. If you really want to "
+"do this, do so on the R Console."
+msgstr ""
+"Neiškelkite „%1“ paketo. Jo vis dar reikia RKWard programai. Jei tikrai"
+"norite iškelti, padarykite tai R konsolėje."
+
+#: core/robjectlist.cpp:83
+msgid "Package %1 appears not to have been loaded"
+msgstr "Regis nebuvo įkeltas paketas %1"
+
+#: dataeditor/editformatdialog.cpp:41
+msgid "Alignment"
+msgstr "Lygiuotė"
+
+#: dataeditor/editformatdialog.cpp:45
+msgid "Default"
+msgstr "Numatytoji"
+
+#: dataeditor/editformatdialog.cpp:47
+msgid "Left"
+msgstr "Kairioji"
+
+#: dataeditor/editformatdialog.cpp:49
+msgid "Right"
+msgstr "Dešinioji"
+
+#: dataeditor/editformatdialog.cpp:54
+msgid "Decimal Places"
+msgstr "Dešimtainė skiltis"
+
+#: dataeditor/editformatdialog.cpp:56
+msgid "Default setting"
+msgstr "Numatytoji nuostata"
+
+#: dataeditor/editformatdialog.cpp:58
+msgid "As required"
+msgstr "Pagal poreikį"
+
+#: dataeditor/editformatdialog.cpp:60
+msgid "Fixed precision:"
+msgstr "Fiksuotas tikslumas:"
+
+#: dataeditor/editformatdialog.cpp:78
+msgid "Formatting options for '%1'"
+msgstr "„%1“ formatavimo parinktys"
+
+#: dataeditor/editlabelsdialog.cpp:223
+msgid ""
+"Levels can be assigned only to consecutive integers starting with 1 (the "
+"index column is read only). To remove levels at the end of the list, just "
+"set them to empty."
+msgstr ""
+"Lygius galima priskirti tik nuosekliai didėjantiems natūraliesiems "
+"skaičiams nuo 1 (taigi kairiojo stulpelio negalima keisti). "
+"Norėdami pašalinti paskutinį lygį, tiesiog palikite jį tuščią."
+
+#: dataeditor/editlabelsdialog.cpp:229
+msgid "Levels / Value labels for '%1'"
+msgstr "„%1“ lygių / reikšmių etiketės"
+
+#: dataeditor/rkeditordataframe.cpp:62 windows/robjectbrowser.cpp:190
+#: windows/robjectbrowser.cpp:236
+msgid "The name you specified was already in use or not valid. Renamed to %1"
+msgstr "Nurodytas vardas arba netinkamas, arba jau yra. Pervadinta į %1"
+
+#: dataeditor/rkeditordataframe.cpp:62 windows/robjectbrowser.cpp:190
+#: windows/robjectbrowser.cpp:236
+msgid "Invalid Name"
+msgstr "Netinkamas vardas"
+
+#: dataeditor/rkeditordataframepart.cpp:58
+msgid "Paste inside table"
+msgstr "Įdėti į lentelę"
+
+#: dataeditor/rkeditordataframepart.cpp:63
+msgid "Paste inside selection"
+msgstr "Įdėti į pažymėtą sritį"
+
+#: dataeditor/rkeditordataframepart.cpp:67
+msgid "Cuts the selected section and puts it to the clipboard"
+msgstr "Iškirpti pažymėtą sritį ir ją laikyti iškarpinėje"
+
+#: dataeditor/rkeditordataframepart.cpp:68
+msgid "Copies the selected section to the clipboard"
+msgstr "Nukopijuoti pažymėtą sritį į iškarpinę"
+
+#: dataeditor/rkeditordataframepart.cpp:69
+msgid "Pastes the clipboard contents to actual position"
+msgstr "Iškarpinės turinį padėti veikiamoje vietoje"
+
+#: dataeditor/rkeditordataframepart.cpp:70
+msgid ""
+"Pastes the clipboard contents to actual position, but not beyond the table's "
+"boundaries"
+msgstr "Iškarpinės turinį padėti veikiamoje vietoje, bet ne už lentelės ribų"
+
+#: dataeditor/rkeditordataframepart.cpp:71
+msgid ""
+"Pastes the clipboard contents to actual position, but not beyond the "
+"boundaries of the current selection"
+msgstr ""
+"Iškarpinės turinį padėti veikiamoje vietoje, bet ne už pažymėtos srities ribų"
+
+#: dataeditor/rkeditordataframepart.cpp:77
+msgid "Cutting selection..."
+msgstr "Iškerpama pažymėta sritis..."
+
+#: dataeditor/rkeditordataframepart.cpp:86
+msgid "Copying selection to clipboard..."
+msgstr "Kopijuojama pažymėta sritis į iškarpinę..."
+
+#: dataeditor/rkeditordataframepart.cpp:113
+msgid "Inserting clipboard contents..."
+msgstr "Įdedamas iškarpinės turinys..."
+
+#: dataeditor/rkvareditmodel.cpp:214 dataeditor/rkvareditmodel.cpp:457
+msgid "Type on these fields to add new columns"
+msgstr ""
+"Norėdami pridėti naujus stulpelius, tiesiog rašykite šiuose laukeliuose"
+
+#: dataeditor/rkvareditmodel.cpp:215
+msgid "Type on these fields to add new rows"
+msgstr "Norėdami pridėti naujas eilutes, tiesiog rašykite šiuose laukeliuose"
+
+#: dataeditor/rkvareditmodel.cpp:294
+msgid "#New Variable#"
+msgstr "# Naujas kintamasis #"
+
+#: dataeditor/rkvareditmodel.cpp:574
+msgid "Format"
+msgstr "Formatas"
+
+#: dataeditor/rkvareditmodel.cpp:575
+msgid "Levels"
+msgstr "Lygiai"
+
+#: dataeditor/twintable.cpp:98
+msgid "Enable editing"
+msgstr "Įgalinti redagavimą"
+
+#: dataeditor/twintable.cpp:146
+msgid " [read-only]"
+msgstr " [tik skaitomas]"
+
+#: dataeditor/twintable.cpp:186
+msgid "Insert new variable left"
+msgstr "Naują kintamąjį įterpti kairėje"
+
+#: dataeditor/twintable.cpp:189
+msgid "Insert new variable right"
+msgstr "Naują kintamąjį įterpti dešinėje"
+
+#: dataeditor/twintable.cpp:192
+msgid "Delete this variable"
+msgstr "Pašalinti šį kintamąjį"
+
+#: dataeditor/twintable.cpp:207
+msgid "Insert new case above (at %1)"
+msgstr "Įterpti naują atvejį aukščiau (ties %1 eilute)"
+
+#: dataeditor/twintable.cpp:210
+msgid "Insert new case below (at %1)"
+msgstr "Įterpti naują atvejį žemiau (ties %1 eilute)"
+
+#: dataeditor/twintable.cpp:221
+msgid "Delete marked rows (%1-%2)"
+msgstr "Pašalinti pažymėtas eilutes (%1-%2)"
+
+#: dataeditor/twintable.cpp:227
+msgid "Delete this row (%1)"
+msgstr "Pašalinti šią eilutę (%1)"
+
+#: dialogs/rkimportdialog.cpp:35
+msgid "File format: "
+msgstr "Rinkmenos formatas: "
+
+#: dialogs/rkimportdialog.cpp:46
+msgid "No plugins defined for context '%1'"
+msgstr "Neaptikta jokių su „%1“ susijusių papildinių"
+
+#: dialogs/rkimportdialog.cpp:51
+msgid "All Files"
+msgstr "Visos rinkmenos"
+
+#: dialogs/rkloadlibsdialog.cpp:59 rkward.cpp:363
+msgid "Configure Packages"
+msgstr "Konfigūruoti paketus"
+
+#: dialogs/rkloadlibsdialog.cpp:63
+msgid "Local packages"
+msgstr "Vietiniai paketai"
+
+#: dialogs/rkloadlibsdialog.cpp:68 robjectviewer.cpp:166
+#: windows/robjectbrowser.cpp:116
+msgid "Update"
+msgstr "Atnaujinti"
+
+#: dialogs/rkloadlibsdialog.cpp:72
+msgid "Install"
+msgstr "Įdiegti"
+
+#: dialogs/rkloadlibsdialog.cpp:75
+msgid "Configure Repositories"
+msgstr "Konfigūruoti saugyklas"
+
+#: dialogs/rkloadlibsdialog.cpp:226
+msgid "Please stand by while installing selected packages"
+msgstr "Kantriai palaukite, kol bus įdiegti paketai"
+
+#: dialogs/rkloadlibsdialog.cpp:226
+msgid "Installing packages"
+msgstr "Diegiami paketai"
+
+#: dialogs/rkloadlibsdialog.cpp:264
+msgid "Installation process died with exit code %1"
+msgstr "Diegimas nutrūko grąžindamas kodą %1"
+
+#: dialogs/rkloadlibsdialog.cpp:296
+msgid "Installed packages"
+msgstr "Įdiegti paketai"
+
+#: dialogs/rkloadlibsdialog.cpp:298 windows/rkhelpsearchwindow.cpp:93
+#: windows/rkhelpsearchwindow.cpp:301
+msgid "Title"
+msgstr "Pavadinimas"
+
+#: dialogs/rkloadlibsdialog.cpp:298 dialogs/rkloadlibsdialog.cpp:683
+msgid "Version"
+msgstr "Versija"
+
+#: dialogs/rkloadlibsdialog.cpp:298 dialogs/rkloadlibsdialog.cpp:523
+msgid "Location"
+msgstr "Vieta"
+
+#: dialogs/rkloadlibsdialog.cpp:303
+msgid "Load"
+msgstr "Įkelti"
+
+#: dialogs/rkloadlibsdialog.cpp:305
+msgid "Unload"
+msgstr "Iškelti"
+
+#: dialogs/rkloadlibsdialog.cpp:312
+msgid "Loaded packages"
+msgstr "Įkelti paketai"
+
+#: dialogs/rkloadlibsdialog.cpp:459
+msgid ""
+"There has been an error while trying to load / unload packages. See "
+"transcript below for details"
+msgstr ""
+"Paketo įkėlimo ar iškėlimo klaida. Daugiau informacijos pateikta žemiau."
+
+#: dialogs/rkloadlibsdialog.cpp:459
+msgid "Error while handling packages"
+msgstr "Paketų apdorojimo klaida"
+
+#: dialogs/rkloadlibsdialog.cpp:514
+msgid ""
+"In order to find out, which of your installed packaged have an update "
+"available, click \"Fetch List\". This feature requires a working internet "
+"connection."
+msgstr ""
+"Norėdami sužinoti, kuriuos paketus galima atnaujinti, spauskite „Gauti "
+"sąrašą“. "
+"Ši funkcija veiks tik tada, jei esate prisijungę prie interneto."
+
+#: dialogs/rkloadlibsdialog.cpp:523
+msgid "Local Version"
+msgstr "Vietinė versija"
+
+#: dialogs/rkloadlibsdialog.cpp:523
+msgid "Online Version"
+msgstr "Internetinė versija"
+
+#: dialogs/rkloadlibsdialog.cpp:530 dialogs/rkloadlibsdialog.cpp:690
+msgid "Fetch list"
+msgstr "Gauti sąrašą"
+
+#: dialogs/rkloadlibsdialog.cpp:532
+msgid "Update Selected"
+msgstr "Atnaujinti pasirinktus"
+
+#: dialogs/rkloadlibsdialog.cpp:534
+msgid "Update All"
+msgstr "Atnaujinti viską"
+
+#: dialogs/rkloadlibsdialog.cpp:597
+msgid "[No updates available]"
+msgstr "[Nėra prieinamų atnaujinimų]"
+
+#: dialogs/rkloadlibsdialog.cpp:648
+msgid ""
+"Please stand by while determining, which packages have an update available "
+"online."
+msgstr "Nustatoma, kuriuos paketus įmanoma atnaujinti internetu. Palaukite..."
+
+#: dialogs/rkloadlibsdialog.cpp:648 dialogs/rkloadlibsdialog.cpp:787
+msgid "Fetching list"
+msgstr "Gaunamas sąrašas"
+
+#: dialogs/rkloadlibsdialog.cpp:675
+msgid ""
+"Many packages are available on CRAN (Comprehensive R Archive Network), and "
+"other repositories (click \"Configure Repositories\" to add more sources). "
+"Click \"Fetch List\" to find out, which packages are available. This feature "
+"requires a working internet connection."
+msgstr ""
+"Daugybė paketų pateikta CRAN (Comprehensive R Archive Network) ir "
+"kitose saugyklose (norėdami pridėti kitus šaltinius, spauskite „Konfigūruoti "
+"saugyklas“). Norėdami sužinoti, kurie paketai pasiekiami, spauskite „Gauti "
+"sąrašą“. Ši funkcija veiks tik tada, jei esate prisijungę prie interneto."
+
+#: dialogs/rkloadlibsdialog.cpp:692
+msgid "Install Selected"
+msgstr "Įdiegti pasirinktus"
+
+#: dialogs/rkloadlibsdialog.cpp:747
+msgid "[No packages available]"
+msgstr "[Nėra pasiekimų paketų]"
+
+#: dialogs/rkloadlibsdialog.cpp:787
+msgid "Please stand by while downloading the list of available packages."
+msgstr "Parsiunčiamas pasiekiamų paketų sąrašas. Palaukite..."
+
+#: dialogs/rkloadlibsdialog.cpp:798
+msgid ""
+"The package requested by the backend (\"%1\") was not found in the package "
+"repositories. Maybe the package name was mis-spelled. Or maybe you need to "
+"add additional repositories via the \"Configure Repositories\"-button."
+msgstr ""
+"Saugyklose nepavyksta rasti paketo, kuris reikalingas varikliui („%1“). "
+"Galbūt blogai įrašytas to paketo vardas. O gal reikia pridėti papildomų "
+"saugyklų nuspaudus mygtuką „Konfigūruoti saugyklas“."
+
+#: dialogs/rkloadlibsdialog.cpp:798
+msgid "Package not available"
+msgstr "Paketas nepasiekiamas"
+
+#: dialogs/rkloadlibsdialog.cpp:827
+msgid "Install packages to:"
+msgstr "Paketus įdiegti į:"
+
+#: dialogs/rkloadlibsdialog.cpp:832
+msgid "Include dependencies"
+msgstr "Įtraukti priklausomybes"
+
+#: dialogs/rkloadlibsdialog.cpp:864
+msgid "Selected library location not writable"
+msgstr "neįmanoma rašyti į pasirinktą bibliotekų vietą"
+
+#: dialogs/rkloadlibsdialog.cpp:865
+msgid ""
+"The directory you are trying to install to (%1) is not writable with your "
+"current user permissions. You can chose a different library location to "
+"install to (if none are wirtable, you will probably want to use the "
+"\"Configure Repositories\"-button to set up a writable directory to install "
+"package to).\n"
+msgstr ""
+"Katalogas (%1), į kurį bandote įdiegti, nėra skirtas įrašymui arba Jūs "
+"neturite tam leidimo. Diegimui galite pasirinkti kitą bibliotekos vietą "
+"(jei nei į vieną negalite rašyti, bandykite nuspausti mygtuką  „Konfigūruoti "
+"saugyklas“ ir atsivėrusiame nurodyti katalogą, į kurį galite rašyti).\n"
+
+#: dialogs/rkloadlibsdialog.cpp:869
+msgid ""
+"If have access to an administrator account on this machine, you can use that "
+"to install the package(s), or you could change the permissions of '%1'. "
+"Sorry, automatic switching to Administrator is not yet supported in RKWard "
+"on Windows"
+msgstr ""
+"Jei turite galimybę prisijungti kaip sistemos administratorius, tuomet "
+"galėsite įdiegti paketą(-us), pakeisti „%1“ leidimus. Atleiskite Windows "
+"terpėje RKWard dar neleis automatiškai prisijungti administratoriaus "
+"teisėmis."
+
+#: dialogs/rkloadlibsdialog.cpp:871
+msgid "Attempt installation, anyway"
+msgstr "Vis tiek bandyti įdiegti"
+
+#: dialogs/rkloadlibsdialog.cpp:874
+msgid ""
+"If you are the adminitstrator of this machine, you can try to install the "
+"packages as root (you'll be prompted for the root password)."
+msgstr ""
+"Būdami administratoriumi, gali įdiegti paketus root teisėmis "
+"(bus paprašyta įveesti slaptažodį)."
+
+#: dialogs/rkloadlibsdialog.cpp:875
+msgid "Become root"
+msgstr "Dirbti administratoriaus teisėmis"
+
+#: dialogs/rkreadlinedialog.cpp:55
+msgid "Context:"
+msgstr "Kontekstas:"
+
+#: dialogs/rkselectlistdialog.cpp:38
+msgid "<b>Select one or more:</b>"
+msgstr "<b>Pasirinkite bent vieną:</b>"
+
+#: dialogs/rkselectlistdialog.cpp:39
+msgid "<b>Select one:</b>"
+msgstr "<b>Pasirinkite vieną:</b>"
+
+#: dialogs/startupdialog.cpp:46
+msgid "What would you like to do?"
+msgstr "Ką norėtumėte daryti?"
+
+#: dialogs/startupdialog.cpp:58 settings/rksettingsmodulegeneral.cpp:67
+msgid "Start with an empty workspace"
+msgstr "Pradėti dirbti tuščioje darbo erdvėje"
+
+#: dialogs/startupdialog.cpp:60 settings/rksettingsmodulegeneral.cpp:68
+msgid "Start with an empty table"
+msgstr "Pradėti dirbti su tuščia lentele"
+
+#: dialogs/startupdialog.cpp:62
+msgid "Load an existing workspace:"
+msgstr "Įkelti jau esamą darbo erdvę:"
+
+#: dialogs/startupdialog.cpp:70
+msgid "<<Open another file>>"
+msgstr "<<Atverti kitą rinkmeną>>"
+
+#: dialogs/startupdialog.cpp:77
+msgid "Always do this on startup"
+msgstr "Visuomet taip pradėti darbą"
+
+#: main.cpp:92
+msgid ""
+"After starting (and after loading the specified workspace, if applicable), "
+"evaluate the given R code."
+msgstr "Paleidus (ir įkėlus nurodytą darbo erdvę) įvertinti pateiktą R kodą."
+
+#: main.cpp:93
+msgid "Verbosity of debug messages (0-5)"
+msgstr "Derinimo pranešimų detalumo lygis (0-5)"
+
+#: main.cpp:94
+msgid "Mask for components to debug (see debug.h)"
+msgstr "Derintinų komponentų kaukė (žr. debug.h)"
+
+#: main.cpp:95
+msgid ""
+"Debugger (enclose any debugger arguments in single quotes ('') together with "
+"the command)"
+msgstr ""
+"Derintuvė (derintuvės argumentus ir komandas rašykite tarp viengubų kabučių "
+"(''))"
+
+#: main.cpp:96
+msgid "Disable R C stack checking"
+msgstr "Uždrausti R C dėklo tikrinimą"
+
+#: main.cpp:97
+msgid "R workspace file to open"
+msgstr "R darbo erdvė, kurią norėtumėte atverti"
+
+#: main.cpp:99
+msgid "RKWard"
+msgstr "RKWard"
+
+#: main.cpp:99
+msgid "Frontend to the R statistics language"
+msgstr "R statistikos kalbos grafinė naudotojo sąsaja"
+
+#: main.cpp:99
+msgid "(c) 2002, 2004, 2005, 2006, 2007, 2008, 2009, 2010"
+msgstr "(c) 2002, 2004, 2005, 2006, 2007, 2008, 2009, 2010"
+
+#: main.cpp:100 main.cpp:101 main.cpp:102 main.cpp:103 main.cpp:105
+#: main.cpp:106 main.cpp:107 main.cpp:108 main.cpp:109 main.cpp:110
+#: main.cpp:111 main.cpp:112 main.cpp:113 main.cpp:114 main.cpp:115
+#: main.cpp:116 main.cpp:117
+msgid "%1"
+msgstr "%1"
+
+#: main.cpp:100
+msgid "Project leader / main developer"
+msgstr "Projekto vadovas / pagrindinis kūrėjas"
+
+#: main.cpp:101
+msgid "C++ coder since 0.2.9"
+msgstr "C++ programuotojas nuo 0.2.9 versijos"
+
+#: main.cpp:102
+msgid "Many plugins, suggestions, marketing, translations"
+msgstr "Daug papildinių ir pasiūlymų, rinkodara ir vertimai"
+
+#: main.cpp:103 main.cpp:117
+msgid "Many plugins, suggestions"
+msgstr "Daug papildinių ir pasiūlymų"
+
+#: main.cpp:104
+msgid "Contributors in alphabetical order"
+msgstr "Pagalbininkai pagal abėcėlę"
+
+#: main.cpp:105
+msgid "Several helpful comments and discussions"
+msgstr "Keletas naudingų patarimų ir aptarimų"
+
+#: main.cpp:106
+msgid "Plugins and patches"
+msgstr "Papildiniai ir pataisos"
+
+#: main.cpp:107
+msgid "New website"
+msgstr "Nauja svetainė"
+
+#: main.cpp:108
+msgid "HP filter plugin, spanish translation"
+msgstr "HP filtro papildinys, vertimas į ispanų kalbą"
+
+#: main.cpp:109
+msgid "A cool icon"
+msgstr "Naujas simpatiškas ženkliukas"
+
+#: main.cpp:110
+msgid "RKWard logo, many suggestions, help on wording"
+msgstr "RKWard logotipas, daugybė pasiūlymų, pagalba parenkant formuluotes"
+
+#: main.cpp:111
+msgid "Several valuable comments, hints and patches"
+msgstr "Keletas vertingų patarimų, užuominų ir pataisų"
+
+#: main.cpp:112
+msgid "Translation, Suggestions, plugins"
+msgstr "Vertimas, pasiūlymai, papildiniai"
+
+#: main.cpp:113
+msgid "Many comments, useful suggestions, and bug reports"
+msgstr "Daugybė patarimų, naudingų pasiūlymų ir pranešimai apie riktus"
+
+#: main.cpp:114
+msgid "German Translation, bug reports"
+msgstr "Vertimas į vokiečių kalbą, pranešimai apie riktus"
+
+#: main.cpp:115
+msgid "Some patches"
+msgstr "Kelios pataisos"
+
+#: main.cpp:116
+msgid "patches and helpful comments"
+msgstr "pataisos ir naudingi patarimai"
+
+#: main.cpp:118
+msgid "Many more people on rkward-devel@lists.sourceforge.net"
+msgstr "Ir dar daug kitų žmonių paminėta rkward-devel@lists.sourceforge.net"
+
+#: main.cpp:118
+msgid "Sorry, if we forgot to list you. Please contact us to get added"
+msgstr ""
+"Atleiskite, jei pamiršome jus įtraukti į sąrašą. jei norite būti įtraukti, "
+"kreipkitės į mus."
+
+#: misc/multistringselector.cpp:48
+msgid "Filename"
+msgstr "Rinkmenos vardas"
+
+#: misc/multistringselector.cpp:54
+msgid "Add"
+msgstr "Pridėti"
+
+#: misc/multistringselector.cpp:58
+msgid "Remove"
+msgstr "Pašalinti"
+
+#: misc/multistringselector.cpp:64
+msgid "Up"
+msgstr "Aukštyn"
+
+#: misc/multistringselector.cpp:68
+msgid "Down"
+msgstr "Žemyn"
+
+#: misc/rkobjectlistview.cpp:42
+msgid "Configure Defaults"
+msgstr "Konfigūruoti numatytus"
+
+#: misc/rkobjectlistview.cpp:162
+msgid "All Environments"
+msgstr "Visos aplinkos"
+
+#: misc/rkobjectlistview.cpp:163
+msgid "Objects with children"
+msgstr "Objektai su jų elementais"
+
+#: misc/rkobjectlistview.cpp:164
+msgid "Variables"
+msgstr "Kintamieji"
+
+#: misc/rkobjectlistview.cpp:165 windows/robjectbrowser.cpp:296
+msgid "Functions"
+msgstr "Funkcijos"
+
+#: misc/rkobjectlistview.cpp:166
+msgid "Hidden Objects"
+msgstr "Slepiami objektai"
+
+#: misc/rkobjectlistview.cpp:266
+msgid "Show Objects"
+msgstr "Rodyti objektus"
+
+#: misc/rkobjectlistview.cpp:274
+msgid "Show Fields"
+msgstr "Rodyti laukelius"
+
+#: misc/rkprogresscontrol.cpp:213
+msgid ""
+"<b>There have been errors and / or warnings! See below for a transcript</b>"
+msgstr ""
+"<b>Įvyko klaidų arba gavote įspėjimų! Žiūrėkite žemiau pateiktą informaciją<"
+"/b>"
+
+#: misc/rkprogresscontrol.cpp:223 settings/rksettingsmoduleoutput.cpp:109
+msgid "Output"
+msgstr "Rezultatai"
+
+#: misc/rkprogresscontrol.cpp:224
+msgid "Output:"
+msgstr "Rezultatai:"
+
+#: misc/rkprogresscontrol.cpp:226
+msgid "Errors / Warnings"
+msgstr "Klaidos / įspėjimai"
+
+#: misc/rkprogresscontrol.cpp:227
+msgid "Errors / Warnings:"
+msgstr "Klaidos / įspėjimai:"
+
+#: misc/rkprogresscontrol.cpp:246 plugin/rkstandardcomponentgui.cpp:301
+#: rkconsole.cpp:884 robjectviewer.cpp:170
+msgid "Cancel"
+msgstr "Atšaukti"
+
+#: misc/rksaveobjectchooser.cpp:41
+msgid "Object name to save to"
+msgstr "Įrašytino objekto vardas"
+
+#: misc/rksaveobjectchooser.cpp:85
+msgid "Overwrite? (The given object name already exists)"
+msgstr "Perrašyti? (objektas tokiu vardu jau yra)"
+
+#: misc/rksaveobjectchooser.cpp:89
+msgid "Overwrite?"
+msgstr "Perrašyti?"
+
+#: misc/rkspecialactions.cpp:27 misc/rkspecialactions.cpp:66
+msgid "Paste special..."
+msgstr "Įdėti kaip..."
+
+#: misc/rkspecialactions.cpp:79
+msgid "Paste mode"
+msgstr "Įdėjimo veiksena"
+
+#: misc/rkspecialactions.cpp:82
+msgid "Single string"
+msgstr "Viena eilutė"
+
+#: misc/rkspecialactions.cpp:85
+msgid "Vector"
+msgstr "Vektorius"
+
+#: misc/rkspecialactions.cpp:97
+msgid "Field separator"
+msgstr "Laukelių skirtukas"
+
+#: misc/rkspecialactions.cpp:100
+msgid "Tab"
+msgstr "Tab"
+
+#: misc/rkspecialactions.cpp:104
+msgid "Comma"
+msgstr "Kablelis"
+
+#: misc/rkspecialactions.cpp:108
+msgid "Single space"
+msgstr "Viengubasis intervalas"
+
+#: misc/rkspecialactions.cpp:111
+msgid "Any whitespace"
+msgstr "Bet koks matomas tarpas"
+
+#: misc/rkspecialactions.cpp:115
+msgid "Other:"
+msgstr "Kita:"
+
+#: misc/rkspecialactions.cpp:126
+msgid "Quoting"
+msgstr "Kabučių uždėjimas"
+
+#: misc/rkspecialactions.cpp:129
+msgid "Do not quote values"
+msgstr "Nedėti kabučių abipus reikšmių"
+
+#: misc/rkspecialactions.cpp:132
+msgid "Automatic"
+msgstr "Automatiškai"
+
+#: misc/rkspecialactions.cpp:136
+msgid "Quote all values"
+msgstr "Ant visų kintamųjų dėti kabutes"
+
+#: misc/rkspecialactions.cpp:142
+msgid "Transformations"
+msgstr "Transformacijos"
+
+#: misc/rkspecialactions.cpp:144
+msgid "Reverse horizontally"
+msgstr "Apversti gulsčiai (viršų su apačia)"
+
+#: misc/rkspecialactions.cpp:146
+msgid "Reverse vertically"
+msgstr "Apversti stačiai (kairę su dešine)"
+
+#: misc/rkspecialactions.cpp:148
+msgid "Flip rows/columns"
+msgstr "Sukeisti eilutes ir stulpelius"
+
+#: misc/rkspecialactions.cpp:150
+msgid "Insert NAs where needed"
+msgstr "Jei reikia, įterpti „NA“"
+
+#: misc/rkstandardactions.cpp:44
+msgid "Run current line"
+msgstr "Vykdyti veikiamą eilutę"
+
+#: misc/rkstandardactions.cpp:54
+msgid "Run selection"
+msgstr "Vykdyti pažymėtą sritį"
+
+#: misc/rkstandardactions.cpp:64
+msgid "Run all"
+msgstr "Vykdyti viską"
+
+#: misc/rkstandardactions.cpp:74
+msgid "&Function reference"
+msgstr "&Funkcijos paaiškinimas"
+
+#: misc/xmlhelper.cpp:63
+msgid "Could not open file for reading"
+msgstr "Nepavyksta perskaityti ir atverti rinkmenos."
+
+#: misc/xmlhelper.cpp:65
+msgid ""
+"Error parsing XML-file. Error-message was: '%1' in line '%2', column '%3'. "
+"Expect further errors to be reported below"
+msgstr ""
+"XML rinkmenos nagrinėjimo klaida. Gautas klaidos pranešimas: „%1“ ties „%2“ "
+"linija, „%3“ stulpelyje. Žemiau turėtų būti pateiktos kitos klaidos"
+
+#: misc/xmlhelper.cpp:176
+msgid "Trying to retrieve children of invalid element"
+msgstr "Bandyti gauti netinkamo elemento dalis"
+
+#: misc/xmlhelper.cpp:187
+msgid "Expected exactly one element '%1' but found %2"
+msgstr "Tikėtasi vienintelio elemento „%1“, bet gauti %2"
+
+#: misc/xmlhelper.cpp:242
+msgid "'%1'-attribute not given. Assuming '%2'"
+msgstr "Nepateiktas atributas „%1“. Laikomasi „%2“"
+
+#: misc/xmlhelper.cpp:260
+msgid "Illegal attribute value. Allowed values are one of '%1', only."
+msgstr "Neleistina atributo reikšmė. Leidžiama tik viena iš šių reikšmių: %1."
+
+#: misc/xmlhelper.cpp:274
+msgid "Illegal attribute value. Only integer numbers are allowed."
+msgstr "Neleistina atributo reikšmė. Leidžiamas tik sveikasis skaičius."
+
+#: misc/xmlhelper.cpp:290
+msgid "Illegal attribute value. Only real numbers are allowed."
+msgstr "Neleistina atributo reikšmė. Leidžiamas tik realusis skaičius."
+
+#: misc/xmlhelper.cpp:308
+msgid "Illegal attribute value. Allowed values are '%1' or '%2', only."
+msgstr "Neleistina atributo reikšmė. Leidžiama tik reikšmė „%1“ arba „%2“."
+
+#: misc/xmlhelper.cpp:319
+msgid "XML-parsing '%1' "
+msgstr "XML analizė „%1“ "
+
+#: plugin/rkcomponentmap.cpp:107 plugin/rkcomponentmap.cpp:366
+msgid "(no label)"
+msgstr "(be etiketės)"
+
+#: plugin/rkcomponentmap.cpp:246
+msgid ""
+"You tried to invoke a plugin called '%1', but that plugin is currently "
+"unknown. Probably you need to load the corresponding PluginMap (Settings-"
+">Configure RKWard->Plugins), or perhaps the plugin was renamed."
+msgstr ""
+"Bandėte iškviesti „%1“ papildinį, bet toks papildinys šiuo metu nėra žinomas."
+" "
+"Tikriausiai reikia įkelti atitinkamą papildinių plano .PluginMap rinkmeną "
+"(Nuostatos -> Konfigūruoti RKWard-> Papildiniai). O galbūt tas papildinys "
+"buvo pervadintas."
+
+#: plugin/rkcomponentmap.cpp:248
+msgid "No such plugin"
+msgstr "Tokio papildinio nėra"
+
+#: plugin/rkcomponentmap.cpp:257
+msgid ""
+"Bad serialization format while trying to invoke plugin '%1'. Please contact "
+"the RKWard team (Help->About RKWard->Authors)."
+msgstr ""
+
+#: plugin/rkcomponentmap.cpp:259
+msgid "Bad serialization format"
+msgstr ""
+
+#: plugin/rkcomponentmap.cpp:263
+msgid ""
+"Not all specified settings could be applied. Most likely this is because "
+"some R objects are no longer present in your current workspace."
+msgstr ""
+"Ne visos nuostatos gali būti pritaikomos. Tikriausiai "
+"kai kurių R objektų jau nebėra darbo erdvėje."
+
+#: plugin/rkcomponentmap.cpp:265
+msgid "Not all settings applied"
+msgstr "Pritaikytos ne visos nuostatos"
+
+#: plugin/rkcomponentmap.cpp:304
+msgid ""
+"\n"
+"The plugin could not be auto-submitted with these settings."
+msgstr ""
+"\n"
+"Šios nuostatos neleidžia automatiškai pateikti papildinių."
+
+#: plugin/rkcomponentmap.cpp:306
+msgid "Could not submit"
+msgstr "Nepavyksta pateikti"
+
+#: plugin/rkdropdown.cpp:42 plugin/rkradio.cpp:45
+msgid "Select one:"
+msgstr "Pasirinkite vieną:"
+
+#: plugin/rkformula.cpp:66
+msgid "Specify model"
+msgstr "Nurodykite modelį"
+
+#: plugin/rkformula.cpp:70
+msgid "Full Model"
+msgstr "Visas modelis"
+
+#: plugin/rkformula.cpp:72
+msgid "Main Effects only"
+msgstr "Tik pagrindiniai efektai"
+
+#: plugin/rkformula.cpp:74
+msgid "Custom Model:"
+msgstr "Savitas modelis:"
+
+#: plugin/rkformula.cpp:100
+msgid "Main effects"
+msgstr "Pagrindiniai efektai"
+
+#: plugin/rkformula.cpp:105
+msgid "Level"
+msgstr "Lygis"
+
+#: plugin/rkformula.cpp:105
+msgid "Term"
+msgstr "Termas"
+
+#: plugin/rkinput.cpp:50
+msgid "Enter text"
+msgstr "Įveskite tekstą"
+
+#: plugin/rkpluginbrowser.cpp:53
+msgid "Enter filename"
+msgstr "Įveskite rinkmenos vardą"
+
+#: plugin/rkpluginbrowser.cpp:53
+msgid "Select"
+msgstr "Pasirinkite"
+
+#: plugin/rkpluginsaveobject.cpp:42 rkward.cpp:247
+msgid "my.data"
+msgstr "manasis.data"
+
+#: plugin/rkpluginsaveobject.cpp:42
+msgid "Save to:"
+msgstr "Įrašyti į:"
+
+#: plugin/rkpluginspinbox.cpp:45
+msgid "Enter value:"
+msgstr "Įveskite reikšmę:"
+
+#: plugin/rkpreviewbox.cpp:49
+msgid "Preview"
+msgstr "Peržiūrėti"
+
+#: plugin/rkpreviewbox.cpp:170
+msgid "Preview disabled"
+msgstr "Peržiūra uždrausta"
+
+#: plugin/rkpreviewbox.cpp:174
+msgid "Preview up to date"
+msgstr "Peržiūra atnaujinta"
+
+#: plugin/rkpreviewbox.cpp:176
+msgid "Preview updating"
+msgstr "Peržiūra atnaujinama"
+
+#: plugin/rkpreviewbox.cpp:179
+msgid "Preview not (yet) possible"
+msgstr "Peržiūra (dar) negalima"
+
+#: plugin/rkstandardcomponent.cpp:78
+msgid ""
+"There has been an error while trying to parse the description of this plugin "
+"('%1'). Please refer to stdout for details."
+msgstr ""
+"Nagrinėjant papildinio („%1“) aprašą, įvyko klaida. "
+"Žiūrėkite standartinį išvedimą (stdout)."
+
+#: plugin/rkstandardcomponent.cpp:78
+msgid "Could not create plugin"
+msgstr "Nepavyksta sukurti papildinio"
+
+#: plugin/rkstandardcomponentgui.cpp:97 plugin/rkstandardcomponentgui.cpp:405
+msgid "Submit"
+msgstr "Vykdyti"
+
+#: plugin/rkstandardcomponentgui.cpp:102 plugin/rkstandardcomponentgui.cpp:394
+msgid "Close"
+msgstr "Užverti"
+
+#: plugin/rkstandardcomponentgui.cpp:105
+msgid "Auto close"
+msgstr "Automatiškai užverti"
+
+#: plugin/rkstandardcomponentgui.cpp:111
+msgid "Help"
+msgstr "Pagalba"
+
+#: plugin/rkstandardcomponentgui.cpp:117
+msgid "Use Wizard"
+msgstr "Naudoti vediklį"
+
+#: plugin/rkstandardcomponentgui.cpp:123
+msgid "Code"
+msgstr "Kodas"
+
+#: plugin/rkstandardcomponentgui.cpp:170
+msgid "Run again"
+msgstr "Vykdyti dar kartą"
+
+#: plugin/rkstandardcomponentgui.cpp:257
+msgid "Processing. Please wait"
+msgstr "Apdorojama. Palaukite..."
+
+#: plugin/rkstandardcomponentgui.cpp:330
+msgid ""
+"Below you can see the command(s) corresponding to the settings you made. "
+"Click 'Submit' to run the command(s)."
+msgstr ""
+"Žemiau pateiktos komandos, kurios atitinka nurodytas nuostatas. "
+"Norėdami įvykdyti komandas, spauskite „Vykdyti“."
+
+#: plugin/rkstandardcomponentgui.cpp:382 plugin/rkstandardcomponentgui.cpp:400
+msgid "Next >"
+msgstr "Toliau >"
+
+#: plugin/rkstandardcomponentgui.cpp:392 plugin/rkstandardcomponentgui.cpp:410
+msgid "< Back"
+msgstr "< Atgal"
+
+#: plugin/rkstandardcomponentgui.cpp:413
+msgid "Use Dialog"
+msgstr "Naudoti dialogą"
+
+#: plugin/rkvarslot.cpp:44
+msgid "Variable:"
+msgstr "Kintamasis:"
+
+#: rbackend/rcommandstack.cpp:350
+msgid "Running"
+msgstr "Veikia"
+
+#: rbackend/rcommandstack.cpp:353
+msgid "Cancelled"
+msgstr "Atšaukta"
+
+#: rbackend/rcommandstack.cpp:364
+msgid "Command Stack"
+msgstr "Komandų dėklas"
+
+#: rbackend/rcommandstack.cpp:366
+msgid "Command Chain"
+msgstr "Komandų grandinė"
+
+#: rbackend/rcommandstack.cpp:368
+msgid "Closed"
+msgstr "Užverta"
+
+#: rbackend/rcommandstack.cpp:369
+msgid "Waiting"
+msgstr "Laukiama"
+
+#: rbackend/rcommandstack.cpp:398
+msgid "Command"
+msgstr "Komanda"
+
+#: rbackend/rcommandstack.cpp:400
+msgid "Status"
+msgstr "Būsena"
+
+#: rbackend/rcommandstack.cpp:401
+msgid "Description"
+msgstr "Aprašas"
+
+#: rbackend/rembedinternal.cpp:135
+msgid ""
+"The R engine has encountered a fatal error:\n"
+"%1"
+msgstr ""
+"R variklis patyrė lemtingą klaidą:\n"
+"%1"
+
+#: rbackend/rembedinternal.cpp:242
+msgid "The R engine has shut down with status: %1"
+msgstr "R variklis sustojo būsenoje %1"
+
+#: rbackend/rinterface.cpp:89
+msgid "R Startup"
+msgstr "R paleidimas"
+
+#: rbackend/rinterface.cpp:218
+msgid ""
+"<p>There was a problem starting the R backend. The following error(s) "
+"occurred:</p>\n"
+msgstr "<p>Nepavyko paleisti R variklio. Klaidos:</p>\n"
+
+#: rbackend/rinterface.cpp:220
+msgid ""
+"</p>\t- The 'rkward' R-library either could not be loaded at all, or not in "
+"the correct version. This may lead to all sorts of errors, from single "
+"missing features to complete failure to function. The most likely cause is "
+"that the last installation did not place all files in the correct place. "
+"However, in some cases, left-overs from a previous installation that was not "
+"cleanly removed may be the cause.</p>\t\t\t<p><b>You should quit RKWard, "
+"now, and fix your installation</b>. For help with that, see <a href=\"http://"
+"p.sf.net/rkward/compiling\">http://p.sf.net/rkward/compiling</a>.</p>\n"
+msgstr ""
+"</p>\t- „rkward“ R bibliotekos negalima įkelti arba jos versija yra "
+"netinkama. Dėl to gali kilti daugybė nesklandumų: gali trūkti "
+"paskirų savybių, bet gali neveikti ir visa funkcija. Greičiausiai "
+"paskutinio diegimo metu ne visos rinkmenos buvo ten, kur "
+"turėjo būti. O galbūt prieš diegiant nebuvo išvalytos ankstesnio "
+"diegimo rinkmenos.</p>\t\t\t<p><b>Todėl dabar turėtumėte užverti "
+"RKWard ir ištaisyti klaidas</b>. Pasinaudokite kompiliavimo patarimais, "
+"pateiktais <a href=\"http://p.sf.net/rkward/compiling\">"
+"http://p.sf.net/rkward/compiling</a> tinklalapyje.</p>\n"
+
+#: rbackend/rinterface.cpp:224
+msgid ""
+"<p>\t-There was a problem opening the files needed for communication with R. "
+"Most likely this is due to an incorrect setting for the location of these "
+"files. Check whether you have correctly configured the location of the log-"
+"files (Settings->Configure Settings->Logfiles) and restart RKWard.</p>\n"
+msgstr ""
+"<p>\t-Kilo nesklandumų atveriant rinkmenas, kurių reikia bendravimui su R. "
+"Tikriausiai nurodyta netinkama šių rinkmenų vietos nuostata. "
+"Patikrinkite, ar tinkamai sukonfigūravote žurnalų vietą "
+"(Nuostatos -> Konfigūruoti RKWard -> Bendra ar Komandų žurnalas) "
+"ir iš naujo paleiskite RKWard.</p>\n"
+
+#: rbackend/rinterface.cpp:227
+msgid ""
+"<p>\t-An unspecified error occurred that is not yet handled by RKWard. "
+"Likely RKWard will not function properly. Please check your setup.</p>\n"
+msgstr ""
+"<p>\t-Įvyko netikėta klaida, kurios RKWard dar negali apdoroti. "
+"Tikėtina, kad nebeveiks tinkamai. Patikrinkite konfigūraciją.</p>\n"
+
+#: rbackend/rinterface.cpp:235
+msgid "Error starting R"
+msgstr "R paleidimo klaida"
+
+#: rbackend/rinterface.cpp:361
+msgid ""
+"The R-backend has indicated that in order to carry out the current task it "
+"needs the package '%1', which is not currently installed. We will open the "
+"package-management tool, and there you can try to locate and install the "
+"needed package."
+msgstr ""
+"Tolesniam R variklio darbui reikia  „%1“ paketo. Šis paketas dar neįdiegtas. "
+"Netrukus bus atverta paketų tvarkytuvė, kurioje galėsite rasti ir įdiegti "
+"reikiamą paketą."
+
+#: rbackend/rinterface.cpp:361
+msgid "Require package '%1'"
+msgstr "Reikia paketo „%1“"
+
+#: rbackend/rinterface.cpp:390
+msgid ""
+"A command in the R backend is trying to change the character encoding. While "
+"RKWard offers support for this, and will try to adjust to the new locale, "
+"this operation may cause subtle bugs, if data windows are currently open. "
+"Also the feature is not well tested, yet, and it may be advisable to save "
+"your workspace before proceeding.\n"
+"If you have any data editor opened, or in any doubt, it is recommended to "
+"close those first (this will probably be auto-detected in later versions of "
+"RKWard). In this case, please chose 'Cancel' now, then close the data "
+"windows, save, and retry."
+msgstr ""
+"R variklio komanda bando pakeisti simbolių koduotę. Nors "
+"RKWard leidžia tai daryti, ir mėgins pritaikyti naują lokalę, tačiau šis "
+"veiksmas gali sukelti subtilių klaidų, jei tuo metu duomenų langai "
+"yra atverti. Tiesa, ši funkcija dar nėra gerai išbandyta, tad prieš "
+"tęsiant, patariame įrašyti darbo erdvę. \n"
+"Jei yra atvertų redagavimo langų, ar net jei tuo nesate tikri, patariama "
+"pirmiausia juos užverti (tikriausiai vėlesnėse RKWard versijose tai "
+"bus savaime nustatoma). Tokiu atveju spauskite „Atšaukti“, užverkite "
+"duomenų langus, įrašykite ir bandykite dar kartą."
+
+#: rbackend/rinterface.cpp:390
+msgid "Locale change"
+msgstr "Lokalės keitimas"
+
+#: rbackend/rinterface.cpp:477
+msgid "Question from the R backend"
+msgstr "R variklio klausimas"
+
+#: rbackend/rinterface.cpp:482
+msgid "Message from the R backend"
+msgstr "R variklio pranešimas"
+
+#: rbackend/rinterface.cpp:487
+msgid "R backend requests information"
+msgstr "R varikliui reikia informacijos"
+
+#: rbackend/rinterface.cpp:504
+msgid ""
+"\n"
+"It will be shut down immediately. This means, you can not use any more "
+"functions that rely on the R backend. I.e. you can do hardly anything at "
+"all, not even save the workspace (but if you're lucky, R already did that). "
+"What you can do, however, is save any open command-files, the output, or "
+"copy data out of open data editors. Quit RKWard after that.\n"
+"Since this should never happen, please write a mail to rkward-devel@lists."
+"sourceforge.net, and tell us, what you were trying to do, when this "
+"happened. Sorry!"
+msgstr ""
+"\n"
+"Netrukus bus išjungta. Taigi nebegalite naudotis su R varikliu susijusiomis "
+"funkcijomis. T. y. nebegalite daryti nieko, negalite netgi įrašyti savo "
+"darbo "
+"erdvės. Laimei, R jau įrašė darbo erdvę. Vis tik galite įrašyti atvertas "
+"komandų rinkmenas, rezultatus ir nusikopijuoti duomenis iš atvertų "
+"redaktorių. Po to išeikite iš RKWard.\n"
+"Taip neturėtų būti, tad praneškite apie tai į "
+"rkward-devel@lists.sourceforge.net pašto dėžutę nurodydami, ką dabar "
+"padarėte, kad taip nutiko. Atsiprašome!"
+
+#: rbackend/rinterface.cpp:505
+msgid "R engine has died"
+msgstr "R variklis nulūžo"
+
+#: rkconsole.cpp:112
+msgid "R Console"
+msgstr "R konsolė"
+
+#: rkconsole.cpp:629
+msgid "Syntax error\n"
+msgstr "Sintaksės klaida\n"
+
+#: rkconsole.cpp:837
+msgid "Interrupt running command"
+msgstr "Pertraukti vykdomą komandą"
+
+#: rkconsole.cpp:843
+msgid "Copy selection cleaned"
+msgstr "Kopijuoti tvarkingai"
+
+#: rkconsole.cpp:846
+msgid "Copy selection literally"
+msgstr "Kopijuoti pažodžiui"
+
+#: rkconsole.cpp:853 windows/rkcommandlog.cpp:285
+msgid "Configure"
+msgstr "Konfigūruoti"
+
+#: rkconsole.cpp:855
+msgid "Print Console"
+msgstr "Spausdinti konsolę"
+
+#: rkconsole.cpp:884
+msgid ""
+"You have configured RKWard to run script commands through the console. "
+"However, the console is currently busy (either a command is running, or you "
+"have started to enter text in the console). Do you want to bypass the "
+"console this one time, or do you want to try again later?"
+msgstr ""
+"RKWard programai nurodėte scenarijų vykdyti per konsolę. "
+"Tačiau konsolė šiuo metu užimta (arba vykdoma komanda, arba joje "
+"pradėjote vesti tekstą). Ar šį kartą apeiti konsolę ir įvykdyti komandą, "
+"ar bandyti vėliau?"
+
+#: rkconsole.cpp:884
+msgid "Console is busy"
+msgstr "Konsolė užimta"
+
+#: rkconsole.cpp:884
+msgid "Bypass console"
+msgstr "Apeiti konsolę"
+
+#: rkward.cpp:191
+msgid ""
+"<p>RKWard either could not find its resource files at all, or only an old "
+"version of those files. The most likely cause is that the last installation "
+"failed to place the files in the correct place. This can lead to all sorts "
+"of problems, from single missing features to complete failure to function.</"
+"p><p><b>You should quit RKWard, now, and fix your installation</b>. For help "
+"with that, see <a href=\"http://p.sf.net/rkward/compiling\">http://p.sf.net/"
+"rkward/compiling</a>.</p>"
+msgstr ""
+"<p>RKWard apskritai negali rasti jo šaltinių rinkmenų, arba randa tik"
+"tų rinkmenų senas versijas. Greičiausiai "
+"paskutinio diegimo metu ne visos rinkmenos buvo ten, kur "
+"turėjo būti. Dėl to gali kilti daugybė nesklandumų: gali trūkti "
+"paskirų savybių, bet gali neveikti ir visa funkcija.</p><p><b>Todėl dabar "
+"turėtumėte užverti RKWard ir ištaisyti klaidas</b>. "
+"Pasinaudokite kompiliavimo patarimais, pateiktais "
+"<a href=\"http://p.sf.net/rkward/compiling\">"
+"http://p.sf.net/rkward/compiling</a> tinklalapyje.</p>"
+
+#: rkward.cpp:191
+msgid "Broken installation"
+msgstr "Nepavykęs diegimas"
+
+#: rkward.cpp:195
+msgid ""
+"<p>Please note that RKWard on is not well tested on Windows, yet.</"
+"p><p>There are all sorts of known issues, and issues yet to be reported. If "
+"you'd like to help: <a href=\"http://p.sf.net/rkward/contact\">http://p.sf."
+"net/rkward/contact</a>.</p>"
+msgstr ""
+"<p>Atminkite, kad RKWard dar nėra gerai išbandyta Windows terpėje. "
+"</p><p>Jau yra žinoma visokiausių riktų, tikriausiai jų yra ir daugiau. Jei "
+"norėtumėte padėti, apsilankykite <a href=\"http://p.sf.net/rkward/contact\">"
+"http://p.sf.net/rkward/contact</a>.</p>"
+
+#: rkward.cpp:195
+msgid "RKWard on Windows"
+msgstr "RKWard programa Windows terpėje"
+
+#: rkward.cpp:215 settings/rksettingsmoduleobjectbrowser.cpp:128
+msgid "Workspace"
+msgstr "Darbo erdvė"
+
+#: rkward.cpp:219
+msgid "Files"
+msgstr "Rinkmenos"
+
+#: rkward.cpp:223
+msgid "Pending Jobs"
+msgstr "Laukiančios užduotys"
+
+#: rkward.cpp:267
+msgid "Setting up plugins..."
+msgstr "Nustatomi papildiniai..."
+
+#: rkward.cpp:279
+msgid ""
+"Plugins are needed: you may manage these through \"Settings->Configure RKWard"
+"\".\n"
+msgstr ""
+"Reikia papildinių: papildinius galite tvarkyti nuėję per „Nuostatos->"
+"Konfigūruoti RKWard“.\n"
+
+#: rkward.cpp:279
+msgid "No (valid) plugins found"
+msgstr "(Tinkamų) papildinių nerasta"
+
+#: rkward.cpp:315
+msgid "Dataset"
+msgstr "Duomenų lentelė"
+
+#: rkward.cpp:317
+msgid "Creates new empty dataset and opens it for editing"
+msgstr "Sukurti naują tuščią duomenų lentelę ir atverti jos redagavimo langą"
+
+#: rkward.cpp:320
+msgid "Script File"
+msgstr "Scenarijaus rinkmena"
+
+#: rkward.cpp:324
+msgid "Open R Script File"
+msgstr "Atverti R scenarijaus rinkmeną..."
+
+#: rkward.cpp:333
+msgid "Import Data"
+msgstr "Importuoti duomenis"
+
+#: rkward.cpp:334
+msgid "Import data from a variety of file formats"
+msgstr "Importuoti duomenis iš įvairių rinkmenų formatų"
+
+#: rkward.cpp:338
+msgid "Open Workspace"
+msgstr "Atverti darbo erdvę"
+
+#: rkward.cpp:340
+msgid "Opens an existing document"
+msgstr "Atverti jau sukurtą dokumentą"
+
+#: rkward.cpp:343
+msgid "Opens a recently used file"
+msgstr "Atverti paskiausiai naudotą rinkmeną"
+
+#: rkward.cpp:346
+msgid "Save Workspace"
+msgstr "Įrašyti darbo erdvę"
+
+#: rkward.cpp:348
+msgid "Saves the actual document"
+msgstr "Įrašyti dabartinį dokumentą"
+
+#: rkward.cpp:351
+msgid "Save Workspace As"
+msgstr "Darbo erdvę įrašyti kaip..."
+
+#: rkward.cpp:352
+msgid "Saves the actual document as..."
+msgstr "Įrašyti dabartinį dokumentą kaip..."
+
+#: rkward.cpp:355
+msgid "Quits the application"
+msgstr "Baigti programos darbą"
+
+#: rkward.cpp:359 windows/robjectbrowser.cpp:135
+msgid "Load / Unload Packages"
+msgstr "Įkelti / iškelti paketus"
+
+#: rkward.cpp:370
+msgid "Close All Data"
+msgstr "Užverti visus duomenų redaktorius"
+
+#: rkward.cpp:371
+msgid "Closes all open data editors"
+msgstr "Užverti visus atvertus duomenų redaktorius"
+
+#: rkward.cpp:376
+msgid "Close All"
+msgstr "Užverti visus langus"
+
+#: rkward.cpp:380 windows/rktoolwindowbar.cpp:274
+msgid "Detach"
+msgstr "Atskirti langą"
+
+#: rkward.cpp:383
+msgid "Configure RKWard"
+msgstr "Konfigūruoti RKWard"
+
+#: rkward.cpp:386
+msgid "[No actions available for current view]"
+msgstr "[Šiam rodiniui nėra veiksmų]"
+
+#: rkward.cpp:417
+msgid "Ready."
+msgstr "Pasiruošęs."
+
+#: rkward.cpp:489
+msgid "Exiting..."
+msgstr "Išeinama..."
+
+#: rkward.cpp:497
+msgid "Quitting RKWard: Do you want to save the workspace?"
+msgstr "Baigiate darbą su RKWard. Ar įrašyti šią darbo erdvę?"
+
+#: rkward.cpp:497 rkward.cpp:557
+msgid "Save Workspace?"
+msgstr "Įrašyti darbo erdvę?"
+
+#: rkward.cpp:497
+msgid "Don't quit"
+msgstr "Neišeiti"
+
+#: rkward.cpp:522
+msgid "New dataset"
+msgstr "Nauja duomenų lentelė"
+
+#: rkward.cpp:522
+msgid "Enter name for the new dataset"
+msgstr "Įveskite naujos duomenų lentelės pavadinimą"
+
+#: rkward.cpp:532
+msgid "Opening workspace..."
+msgstr "Atveriama darbo erdvė..."
+
+#: rkward.cpp:538 rkward.cpp:540
+msgid "*|All files"
+msgstr "*|Visos rinkmenos"
+
+#: rkward.cpp:538 rkward.cpp:540
+msgid "Open File..."
+msgstr "Atverti rinkmeną..."
+
+#: rkward.cpp:557
+msgid "Do you want to save the current workspace?"
+msgstr "Ar įrašyti veikiamąją darbo erdvę?"
+
+#: rkward.cpp:648
+msgid "R engine busy"
+msgstr "R variklis užimtas"
+
+#: rkward.cpp:651
+msgid "R engine idle"
+msgstr "R variklis laisvas"
+
+#: rkward.cpp:654
+msgid "R engine starting"
+msgstr "R variklis pradeda dirbti"
+
+#: rkward.cpp:695 rkward.cpp:697
+msgid "Open script file(s)"
+msgstr "Atverti scenarijaus rinkmeną(-as)"
+
+#: rkward.cpp:715
+msgid "[Unnamed Workspace]"
+msgstr "[Nepavadinta darbo erdvė]"
+
+#: robjectviewer.cpp:58
+msgid "summary (x)"
+msgstr "santrauka (x)"
+
+#: robjectviewer.cpp:59
+msgid "print (x)"
+msgstr "spausdinimas (x)"
+
+#: robjectviewer.cpp:86
+msgid "<b>Object was deleted!</b>"
+msgstr "<b>Objektas pašalintas!</b>"
+
+#: robjectviewer.cpp:128
+msgid "Object Viewer: %1"
+msgstr "Objekto peržiūra: %1"
+
+#: robjectviewer.cpp:132
+msgid "The object was changed. You may want to click \"Update\""
+msgstr "Objektas buvo pakeistas. Tikriausiai norėtumėte nuspausti „Atnaujinti“"
+
+#: robjectviewer.cpp:214
+msgid "Fetching information. Please wait."
+msgstr "Gaunama informacija. Palaukite."
+
+#: robjectviewer.cpp:224
+msgid "Click \"Update\" to fetch information"
+msgstr "Norėdami gauti informaciją, spauskite „At“naujinti"
+
+#: robjectviewer.cpp:245
+msgid "Ready"
+msgstr "Pasiruošęs"
+
+#: scriptbackends/phpbackend.cpp:66
+msgid ""
+"The support file \"%1\" could not be found or is not readable. Please check "
+"your installation."
+msgstr ""
+"Palaikymo rinkmena „%1“ nerasta arba nepavyko jos nuskaityti. "
+"Patikrinkite, ar gerai įdiegėte."
+
+#: scriptbackends/phpbackend.cpp:66 scriptbackends/phpbackend.cpp:167
+#: scriptbackends/phpbackend.cpp:201 scriptbackends/phpbackend.cpp:219
+msgid "PHP-Error"
+msgstr "PHP klaida"
+
+#: scriptbackends/phpbackend.cpp:167
+msgid ""
+"There has been an error\n"
+"(\"%1\")\n"
+"while starting up the PHP backend. Most likely this is due to either a bug "
+"in RKWard or a problem with your PHP installation. Check the settings "
+"(Settings->Configure Settings->PHP backend) and try again."
+msgstr ""
+"Klaida\n"
+"(„%1“)\n"
+"įvyko paleidžiant PHP variklį. Tai gali būti RKWard riktas,"
+"arba nepavykusio PHP diegimo pasekmė. Patikrinkite "
+"nuostatas (Nuostatos -> Konfigūruoti RKWard -> PHP variklis)  "
+"ir bandykite iš naujo."
+
+#: scriptbackends/phpbackend.cpp:201
+msgid ""
+"The PHP-backend has reported an error\n"
+"(\"%1\")\n"
+"and has been shut down. This is most likely due to a bug in the plugin. But "
+"of course you may want to try to close and restart the plugin to see whether "
+"it works with different settings."
+msgstr ""
+"PHP variklis pranešė apie klaidą\n"
+" („%1“)\n"
+"ir sustojo. Greičiausiai papildinyje yra klaida. Bet galite užverti ir "
+"iš naujo paleisti papildinį naudodami kitas nuostatas."
+
+#: scriptbackends/phpbackend.cpp:219
+msgid ""
+"The PHP backend could not be started. Check whether you have correctly "
+"configured the location of the PHP-binary (Settings->Configure Settings->PHP "
+"backend)"
+msgstr ""
+"Nepavyksta paleisti PHP variklio. Patikrinkite, ar tinkamai nurodėte "
+"PHP dvejetainės (vykdomosios) rinkmenos vietą "
+"(Nuostatos -> Konfigūruoti RKWard -> PHP variklis)"
+
+#: scriptbackends/phpbackend.cpp:221
+msgid ""
+"The PHP-backend has died unexpectedly. The current output buffer is shown "
+"below:\n"
+"%1"
+msgstr ""
+"Netikėtai nulūžo PHP variklis. Žemiau rodomas veikiamasis išvedimo buferis:\n"
+"%1"
+
+#: scriptbackends/phpbackend.cpp:221
+msgid "PHP Process exited"
+msgstr "PHP procesas nutrūko"
+
+#: scriptbackends/qtscriptbackend.cpp:114
+msgid ""
+"The QtScript-backend has reported an error:\n"
+"%1"
+msgstr ""
+"QtScript variklis pranešė apie klaidą:\n"
+"%1"
+
+#: scriptbackends/qtscriptbackend.cpp:114
+msgid "Scripting error"
+msgstr "Scenarijaus klaida"
+
+#: scriptbackends/qtscriptbackend.cpp:200
+msgid ""
+"Script Error: %1\n"
+"Backtrace:\n"
+"%2"
+msgstr ""
+"Scenarijaus klaida: %1\n"
+"Dėklo pėdsakas:\n"
+"%2"
+
+#: scriptbackends/qtscriptbackend.cpp:219
+msgid ""
+"The file \"%1\" (needed by \"%2\") could not be found. Please check your "
+"installation."
+msgstr ""
+"Nepavyksta rasti rinkmenos „%1“ (kurios reikalauja „%2“). Patikrinkite,"
+"ar gerai įdiegėte."
+
+#: scriptbackends/scriptbackend.cpp:91
+msgid "## Prepare\n"
+msgstr "## Paruošti\n"
+
+#: scriptbackends/scriptbackend.cpp:94
+msgid "## Compute\n"
+msgstr "## Skaičiuoti\n"
+
+#: scriptbackends/scriptbackend.cpp:97
+msgid "## Print result\n"
+msgstr "## Pateikti rezultatus\n"
+
+#: settings/rksettings.cpp:71
+msgid "Settings"
+msgstr "Nuostatos"
+
+#: settings/rksettingsmodulecommandeditor.cpp:43
+msgid "Code Completion"
+msgstr "Kodo užbaigimas"
+
+#: settings/rksettingsmodulecommandeditor.cpp:46
+msgid "Enable code completion"
+msgstr "Įgalinti kodo užbaigimą"
+
+#: settings/rksettingsmodulecommandeditor.cpp:53
+msgid "Minimum number of characters before completion is attempted"
+msgstr "Mažiausias rašmenų skaičius, kurio reikia kodo užbaigimui"
+
+#: settings/rksettingsmodulecommandeditor.cpp:64
+msgid "Timeout (milli seconds) before completion is attempted"
+msgstr "Laukimo laikas (milisekundėmis) prieš bandant baigti"
+
+#: settings/rksettingsmodulecommandeditor.cpp:92
+msgid "Script editor"
+msgstr "Scenarijų redaktorius"
+
+#: settings/rksettingsmoduleconsole.cpp:50
+msgid "Load/Save command history"
+msgstr "Įkelti / įrašyti komandų istoriją"
+
+#: settings/rksettingsmoduleconsole.cpp:55
+msgid "Maximum length of command history"
+msgstr "Didžiausias komandų istorijos įrašų skaičius"
+
+#: settings/rksettingsmoduleconsole.cpp:57
+#: settings/rksettingsmoduleconsole.cpp:63
+#: settings/rksettingsmodulewatch.cpp:153
+msgid "Unlimited"
+msgstr "Neribotas"
+
+#: settings/rksettingsmoduleconsole.cpp:61
+msgid "Maximum number of paragraphs/lines to display in the console"
+msgstr "Konsolėje leistinas didžiausias linijų / pastraipų skaičius"
+
+#: settings/rksettingsmoduleconsole.cpp:69
+msgid "Run commands from script editor through console"
+msgstr "Scenarijaus redaktoriaus komandas įvykdyti konsolėje"
+
+#: settings/rksettingsmoduleconsole.cpp:74
+msgid "Also add those commands to console history"
+msgstr "Šias komandas taip pat pridėti į konsolės istoriją"
+
+#: settings/rksettingsmoduleconsole.cpp:76
+msgid "Do not add"
+msgstr "Nepridėti"
+
+#: settings/rksettingsmoduleconsole.cpp:77
+msgid "Add only if single line"
+msgstr "Pridėti, tik kai viena eilutė"
+
+#: settings/rksettingsmoduleconsole.cpp:78
+msgid "Add all commands"
+msgstr "Pridėti visas komandas"
+
+#: settings/rksettingsmoduleconsole.cpp:86
+msgid "Command history is context sensitive by default"
+msgstr "Numatytuoju atveju, komandų istorija yra jautri kontekstui"
+
+#: settings/rksettingsmoduleconsole.cpp:185
+msgid "Console"
+msgstr "Konsolė"
+
+#: settings/rksettingsmoduledebug.cpp:42
+msgid ""
+"<b>These settings are for debugging purposes, only.</b> It is safe to leave "
+"the untouched. Also, these settings will only apply to the current session, "
+"and not be saved."
+msgstr ""
+"<b>Šios nuostatos susijusios tik su derinimu.</b> Geriausia jų "
+"nekeisti. Be to, šios nuostatos galios tik šiai sesijai; jos nebus įrašytos."
+
+#: settings/rksettingsmoduledebug.cpp:48
+msgid "Debug level"
+msgstr "Derinimo lygis"
+
+#: settings/rksettingsmoduledebug.cpp:58
+msgid "Debug flags"
+msgstr "Derinimo vėliavėlės"
+
+#: settings/rksettingsmoduledebug.cpp:83
+msgid "Command timeout"
+msgstr "Komandos laukimo laikas"
+
+#: settings/rksettingsmoduledebug.cpp:93
+msgid "<i>Note:</i> Debug output is written to %1"
+msgstr "<i>Pastaba:</i> Derinimo išvedimas rašomas į %1"
+
+#: settings/rksettingsmoduledebug.cpp:110
+msgid "Debug"
+msgstr "Derinimas"
+
+#: settings/rksettingsmodulegeneral.cpp:52
+msgid "Settings marked with (*) do not take effect until you restart RKWard"
+msgstr ""
+"Žvaigždute (*) pažymėtos nuostatos įsigalios tik iš naujo paleidus "
+"RKWard"
+
+#: settings/rksettingsmodulegeneral.cpp:58
+msgid "Directory where the logfiles should be kept (*)"
+msgstr "Katalogas, kuriame turėtų būti laikomos žurnalų rinkmenos (*)"
+
+#: settings/rksettingsmodulegeneral.cpp:64
+msgid "Startup Action (*)"
+msgstr "Veiksmas, atliekamas paleidus (*)"
+
+#: settings/rksettingsmodulegeneral.cpp:69
+msgid "Ask for a file to open"
+msgstr "Pasiūlyti atverti rinkmeną"
+
+#: settings/rksettingsmodulegeneral.cpp:70
+msgid "Show selection dialog (default)"
+msgstr "Rodyti pasirinkimų dialogą (numatyta)"
+
+#: settings/rksettingsmodulegeneral.cpp:75
+msgid "Show RKWard Help on Startup"
+msgstr "Paleidžiant rodyti RKWard pagalbą"
+
+#: settings/rksettingsmodulegeneral.cpp:82
+msgid ""
+"The workplace layout (i.e. which script-, data-, help-windows are open) may "
+"be saved (and loaded) per R workspace, or independent of the R workspace. "
+"Which do you prefer?"
+msgstr ""
+"Darbo erdvės planas (t. y. atverti scenarijų, duomenų, pagalbos langai) "
+"gali būti įrašyti (ir įkelti) R darbo erdvėje arba nepriklausomai nuo R "
+"darbo erdvės."
+"Kurį būdą renkatės?"
+
+#: settings/rksettingsmodulegeneral.cpp:91
+msgid "Save/restore with R workspace, when saving/loading R workspace"
+msgstr "Įrašyti/atstatyti su R darbo erdve, kai įrašoma/įkeliama R darbo erdvė"
+
+#: settings/rksettingsmodulegeneral.cpp:94
+msgid ""
+"Save/restore independent of R workspace (save at end of RKWard session, "
+"restore at next start)"
+msgstr ""
+"Įrašyti/atstatyti nepriklausomai nuo R darbo erdvės (įrašyti RKWard sesijos "
+"pabaigoje, atstatyti sekančio paleidimo metu)"
+
+#: settings/rksettingsmodulegeneral.cpp:97
+msgid "Do not save/restore workplace layout"
+msgstr "Neįrašyti/neatstatyti darbo erdvės"
+
+#: settings/rksettingsmodulegeneral.cpp:106
+msgid ""
+"Warn when editing objects with more than this number of fields (0 for no "
+"limit):"
+msgstr ""
+"Perspėti, kai redaguojamas objektas turi daugiau laukelių, nei nurodyta "
+"(0 reiškia, kad nebus įspėjama)"
+
+#: settings/rksettingsmodulegeneral.cpp:109
+msgid "No limit"
+msgstr "Jokių ribų"
+
+#: settings/rksettingsmodulegeneral.cpp:116
+msgid "MDI window focus behavior"
+msgstr "Polangių aktyvavimas pele"
+
+#: settings/rksettingsmodulegeneral.cpp:119
+msgid "Click to focus"
+msgstr "Židinys aktyvuojamas spragtelėjimu"
+
+#: settings/rksettingsmodulegeneral.cpp:120
+msgid "Focus follows mouse"
+msgstr "Židinys seka pelę"
+
+#: settings/rksettingsmodulegeneral.cpp:145
+msgid "General"
+msgstr "Bendra"
+
+#: settings/rksettingsmoduleobjectbrowser.cpp:46
+msgid "Which objects should be shown by default?"
+msgstr "Kuriuos objektus rodyti numatytuoju atveju?"
+
+#: settings/rksettingsmoduleobjectbrowser.cpp:48
+msgid "Show hidden objects"
+msgstr "Rodyti slepiamus objektus"
+
+#: settings/rksettingsmoduleobjectbrowser.cpp:50
+msgid "Show all environments"
+msgstr "Rodyti visas aplinkas"
+
+#: settings/rksettingsmoduleobjectbrowser.cpp:53
+msgid "Show objects with children"
+msgstr "Objektus rodyti su jų elementais"
+
+#: settings/rksettingsmoduleobjectbrowser.cpp:55
+msgid "Show functions"
+msgstr "Rodyti funkcijas"
+
+#: settings/rksettingsmoduleobjectbrowser.cpp:57
+msgid "Show variables"
+msgstr "Rodyti kintamuosius"
+
+#: settings/rksettingsmoduleobjectbrowser.cpp:62
+msgid "Which columns should be shown by default?"
+msgstr "Kuriuos stulpelius rodyti numatytuoju atveju?"
+
+#: settings/rksettingsmoduleobjectbrowser.cpp:64
+msgid "Label field"
+msgstr "Etiketės laukelis"
+
+#: settings/rksettingsmoduleobjectbrowser.cpp:66
+msgid "Type field"
+msgstr "Įvedimo laukelis"
+
+#: settings/rksettingsmoduleobjectbrowser.cpp:68
+msgid "Class field"
+msgstr "Klasės laukelis"
+
+#: settings/rksettingsmoduleobjectbrowser.cpp:78
+msgid "Never fetch the structure of these packages:"
+msgstr "Niekada neįkelti šių paketų struktūros:"
+
+#: settings/rksettingsmoduleobjectbrowser.cpp:103
+msgid "Add exclusion"
+msgstr "Pridėti išimtį"
+
+#: settings/rksettingsmoduleobjectbrowser.cpp:103
+msgid "Add the name of the package that no structure should be fetched for"
+msgstr "Pridėkite paketo vardą, kurio struktūros nenorite įkelti"
+
+#: settings/rksettingsmoduleoutput.cpp:48
+msgid "Output Window options"
+msgstr "Rezultatų lango parinktys"
+
+#: settings/rksettingsmoduleoutput.cpp:50
+msgid "show window on new output"
+msgstr "langą rodyti naujame išvedime"
+
+#: settings/rksettingsmoduleoutput.cpp:53
+msgid "raise window on new output"
+msgstr "pakelti langą naujame išvedime"
+
+#: settings/rksettingsmoduleoutput.cpp:60
+msgid "Graphics"
+msgstr "Grafika"
+
+#: settings/rksettingsmoduleoutput.cpp:64
+msgid "File format"
+msgstr "Rinkmenos formatas"
+
+#: settings/rksettingsmoduleoutput.cpp:66
+msgid "<Default>"
+msgstr "<Numatyta>"
+
+#: settings/rksettingsmoduleoutput.cpp:67
+msgid "PNG"
+msgstr "PNG"
+
+#: settings/rksettingsmoduleoutput.cpp:68
+msgid "SVG"
+msgstr "SVG"
+
+#: settings/rksettingsmoduleoutput.cpp:69
+msgid "JPG"
+msgstr "JPG"
+
+#: settings/rksettingsmoduleoutput.cpp:74
+msgid "JPG quality"
+msgstr "JPG kokybė"
+
+#: settings/rksettingsmoduleoutput.cpp:82
+msgid "Width:"
+msgstr "Plotis:"
+
+#: settings/rksettingsmoduleoutput.cpp:85
+msgid "Height:"
+msgstr "Aukštis:"
+
+#: settings/rksettingsmodulephp.cpp:39
+msgid "Changes in this section take effect the next time you start a plugin"
+msgstr "Šios sekcijos pakeitimai įsigalios tik iš naujo paleidus papildinį"
+
+#: settings/rksettingsmodulephp.cpp:45
+msgid "File-location of the PHP binary"
+msgstr "PHP dvejetainės rinkmenos vieta"
+
+#: settings/rksettingsmodulephp.cpp:63
+msgid "PHP backend"
+msgstr "PHP variklis"
+
+#: settings/rksettingsmoduleplugins.cpp:54
+msgid ""
+"Some plugins are available with both, a wizard-like interface and a "
+"traditional dialog interface. If both are available, which mode of "
+"presentation do you prefer?"
+msgstr ""
+"Kai kurie papildiniai turi tiek vediklio, tiek įprasto dialogo sąsają. "
+"Jei papildinys palaiko abi sąsajas, kuriai iš jų teikti pirmenybę?"
+
+#: settings/rksettingsmoduleplugins.cpp:64
+msgid "Always prefer dialogs"
+msgstr "Jei įmanoma, visada naudoti dialogus"
+
+#: settings/rksettingsmoduleplugins.cpp:67
+msgid "Prefer recommended interface"
+msgstr "Jei įmanoma, naudoti numatytąją sąsają"
+
+#: settings/rksettingsmoduleplugins.cpp:70
+msgid "Always prefer wizards"
+msgstr "Jei įmanoma, visada naudoti vediklius"
+
+#: settings/rksettingsmoduleplugins.cpp:82
+msgid "R syntax display (in dialogs)"
+msgstr "R sintaksės polangis (dialoguose)"
+
+#: settings/rksettingsmoduleplugins.cpp:85
+msgid "Code shown by default"
+msgstr "Kodą rodyti numatytuoju atveju"
+
+#: settings/rksettingsmoduleplugins.cpp:91
+msgid "Default height of code display (pixels)"
+msgstr "Numatytasis kodo polangio aukštis (taškais)"
+
+#: settings/rksettingsmoduleplugins.cpp:103
+msgid "Select .pluginmap file(s)"
+msgstr "Pasirinkite .pluginmap rinkmeną(-as)"
+
+#: settings/rksettingsmoduleplugins.cpp:130
+msgid "Select .pluginmap-file"
+msgstr "Pasirinkite .pluginmap rinkmeną"
+
+#: settings/rksettingsmoduleplugins.cpp:135
+msgid "Plugins"
+msgstr "Papildiniai"
+
+#: settings/rksettingsmoduler.cpp:67
+msgid ""
+"The following settings mostly affect R behavior in the console. It is "
+"generally safe to keep these unchanged."
+msgstr ""
+"Toliau pateiktos nuostatos susijusios su konsole. "
+"Patartina jų be reikalo nekeisti."
+
+#: settings/rksettingsmoduler.cpp:76
+msgid "Display warnings"
+msgstr "Rodyti įspėjimus"
+
+#: settings/rksettingsmoduler.cpp:79
+msgid "Suppress warnings"
+msgstr "Nerodyti įspėjimų"
+
+#: settings/rksettingsmoduler.cpp:80
+msgid "Print warnings later (default)"
+msgstr "Įspėjimus rodyti vėliau (numatyta)"
+
+#: settings/rksettingsmoduler.cpp:81
+msgid "Print warnings immediately"
+msgstr "Įspėjimus rodyti iš karto"
+
+#: settings/rksettingsmoduler.cpp:82
+msgid "Convert warnings to errors"
+msgstr "Įspėjimus paverti klaidomis"
+
+#: settings/rksettingsmoduler.cpp:88
+msgid "Decimal character (only for printing)"
+msgstr "Dešimtainės trupmenos ženklas (tik spausdinimui)"
+
+#: settings/rksettingsmoduler.cpp:95
+msgid "Output width (characters)"
+msgstr "Rezultatų plotis (rašmenimis)"
+
+#: settings/rksettingsmoduler.cpp:101
+msgid "Maximum number of elements shown in print"
+msgstr "Didžiausias elementų skaičius, spausdinant"
+
+#: settings/rksettingsmoduler.cpp:107
+msgid "Maximum length of warnings/errors to print"
+msgstr "Didžiausias spausdinamų įspėjimų/klaidų ilgis"
+
+#: settings/rksettingsmoduler.cpp:113
+msgid "Keep comments in functions"
+msgstr "Išlaikyti komentarus funkcijose"
+
+#: settings/rksettingsmoduler.cpp:116
+msgid "TRUE (default)"
+msgstr "TIESA (numatyta)"
+
+#: settings/rksettingsmoduler.cpp:117
+msgid "FALSE"
+msgstr "MELAS"
+
+#: settings/rksettingsmoduler.cpp:123
+msgid "Keep comments in packages"
+msgstr "Išlaikyti komentarus paketuose"
+
+#: settings/rksettingsmoduler.cpp:126 settings/rksettingsmoduler.cpp:148
+msgid "TRUE"
+msgstr "TIESA"
+
+#: settings/rksettingsmoduler.cpp:127 settings/rksettingsmoduler.cpp:149
+msgid "FALSE (default)"
+msgstr "MELAS (numatyta)"
+
+#: settings/rksettingsmoduler.cpp:133
+msgid "Maximum level of nested expressions"
+msgstr "Didžiausias įdėtinių sąrašų skaičius"
+
+#: settings/rksettingsmoduler.cpp:139
+msgid "Default decimal precision in print ()"
+msgstr "Numatytasis dešimtainis tikslumas spausdinant ()"
+
+#: settings/rksettingsmoduler.cpp:145
+msgid "Check vector bounds (warn)"
+msgstr "Patikrinti vektorių ribas (įspėti)"
+
+#: settings/rksettingsmoduler.cpp:154
+msgid "Command used to send files to printer"
+msgstr "Komanda, naudojama rinkmenų siuntimui į spausdintuvą"
+
+#: settings/rksettingsmoduler.cpp:159
+msgid "Editor command"
+msgstr "Redaktoriaus komandos"
+
+#: settings/rksettingsmoduler.cpp:170
+msgid "Pager command"
+msgstr ""
+
+#: settings/rksettingsmoduler.cpp:205
+msgid "R-Backend"
+msgstr "R variklis"
+
+#: settings/rksettingsmoduler.cpp:335
+msgid "CRAN download mirror (leave empty to be prompted once each session):"
+msgstr ""
+"CRAN parsiuntimo veidrodis (palikite tuščią, jei norite pasirinkti prieš pat "
+"siuntimąsi):"
+
+#: settings/rksettingsmoduler.cpp:342
+msgid "Select mirror"
+msgstr "Pasirinkti veidrodį"
+
+#: settings/rksettingsmoduler.cpp:346
+msgid "Additional package repositories (where libraries are downloaded from)"
+msgstr "Papildoma paketų saugykla (iš kur parsisiųsti bibliotekas)"
+
+#: settings/rksettingsmoduler.cpp:352
+msgid "Archive downloaded packages"
+msgstr "Archyvuoti parsiųstus paketus"
+
+#: settings/rksettingsmoduler.cpp:359
+msgid "R Library locations (where libraries get installed to, locally)"
+msgstr ""
+"R bibliotekų vieta (vieta Jūsų kompiuteryje, kurioje laikomos įdiegtos "
+"bibliotekos)"
+
+#: settings/rksettingsmoduler.cpp:364
+msgid ""
+"Note: The startup defaults will always be used in addition to the locations "
+"you specify in this list"
+msgstr ""
+"Pastaba: be sąraše nurodytųjų vietų, papildomai visada naudojamos ir "
+"numatytosios reikšmės."
+
+#: settings/rksettingsmoduler.cpp:381
+msgid "Add R Library Directory"
+msgstr "Pridėti katalogą su R bibliotekomis"
+
+#: settings/rksettingsmoduler.cpp:389
+msgid "Add repository"
+msgstr "Pridėti saugyklą"
+
+#: settings/rksettingsmoduler.cpp:389
+msgid "Add URL of new repository"
+msgstr "Pridėtinos naujos saugyklos URL"
+
+#: settings/rksettingsmoduler.cpp:395
+msgid "R-Packages"
+msgstr "R paketai"
+
+#: settings/rksettingsmoduler.cpp:406
+msgid "Select CRAN mirror"
+msgstr "Pasirinkite CRAN veidrodį"
+
+#: settings/rksettingsmodulewatch.cpp:123
+msgid ""
+"For now, settings only apply to new commands. All previous commands remain "
+"visible/invisible."
+msgstr ""
+"Nuostatos bus taikomos tik naujoms komandoms. "
+"Visos ankstesnės komandos liks matomos arba nematomos."
+
+#: settings/rksettingsmodulewatch.cpp:131
+msgid "always show command"
+msgstr "visada rodyti komandas"
+
+#: settings/rksettingsmodulewatch.cpp:134
+msgid "always show result"
+msgstr "visada rodyti rezultatus"
+
+#: settings/rksettingsmodulewatch.cpp:137
+msgid "show errors"
+msgstr "rodyti klaidas"
+
+#: settings/rksettingsmodulewatch.cpp:140
+msgid "show/raise window"
+msgstr "rodyti / pakelti langą"
+
+#: settings/rksettingsmodulewatch.cpp:144
+msgid "User commands"
+msgstr "Naudotojo komandos"
+
+#: settings/rksettingsmodulewatch.cpp:145
+msgid "Plugin generated commands"
+msgstr "Papildinių sukurtos komandos"
+
+#: settings/rksettingsmodulewatch.cpp:146
+msgid "Application commands"
+msgstr "RKWard komandos"
+
+#: settings/rksettingsmodulewatch.cpp:147
+msgid "Synchronization commands"
+msgstr "Sinchronizavimo komandos"
+
+#: settings/rksettingsmodulewatch.cpp:151
+msgid "Maximum number of paragraphs/lines to display in the Command Log"
+msgstr "Komandų žurnale didžiausias leistinas linijų / pastraipų skaičius"
+
+#: settings/rksettingsmodulewatch.cpp:281 windows/rkcommandlog.cpp:55
+msgid "Command log"
+msgstr "Komandų žurnalas"
+
+#: windows/detachedwindowcontainer.cpp:46
+msgid "Attach to main window"
+msgstr "Prisegti prie pagrindinio lango"
+
+#: windows/rcontrolwindow.cpp:51
+msgid "Configure R backend"
+msgstr "Konfigūruoti R variklį"
+
+#: windows/rcontrolwindow.cpp:56 windows/rcontrolwindow.cpp:142
+msgid "Pause execution"
+msgstr "Pristabdyti vykdymą"
+
+#: windows/rcontrolwindow.cpp:61
+msgid "Cancel selected commands"
+msgstr "Atšaukti pasirinktas komandas"
+
+#: windows/rcontrolwindow.cpp:133
+msgid ""
+"Some of the commands you were trying to cancel are marked as \"sync"
+"\" (letter 'S' in the type column). Cancelling such commands could lead to "
+"loss of data. These commands have _not_ been cancelled."
+msgstr ""
+"Kai kurios komandos, kurias bandote atšaukti, pažymėtos kaip „sinchr“ "
+"(„S“ raidė ties tipu). Tokias komandas atšaukę, galite prarasti duomenis. "
+"Tokios komandos neatšauktos."
+
+#: windows/rcontrolwindow.cpp:133
+msgid "Some commands not cancelled"
+msgstr "Kai kurios komandos nebuvo atšauktos"
+
+#: windows/rcontrolwindow.cpp:146
+msgid "Resume execution"
+msgstr "Tęsti vykdymą"
+
+#: windows/rkcommandeditorwindow.cpp:169
+msgid "Run block"
+msgstr "Vykdyti bloką"
+
+#: windows/rkcommandeditorwindow.cpp:173
+msgid "Mark selection as block"
+msgstr "Atranką pažymėti kaip bloką"
+
+#: windows/rkcommandeditorwindow.cpp:176
+msgid "Unmark block"
+msgstr "Panaikinti bloko žymėjimą"
+
+#: windows/rkcommandeditorwindow.cpp:181
+msgid "CD to script directory"
+msgstr "Eiti į scenarijaus katalogą"
+
+#: windows/rkcommandeditorwindow.cpp:183
+msgid "Change the working directory to the directory of this script"
+msgstr "Iš veikiamojo katalogo pereiti į scenarijaus katalogą"
+
+#: windows/rkcommandeditorwindow.cpp:188
+msgid "Configure Script Editor"
+msgstr "Konfigūruoti scenarijų redaktorių"
+
+#: windows/rkcommandeditorwindow.cpp:274 windows/rkcommandeditorwindow.cpp:361
+msgid " [modified]"
+msgstr " [pakeista]"
+
+#: windows/rkcommandeditorwindow.cpp:287
+msgid "The document \"%1\" has been modified. Close it anyway?"
+msgstr "Dokumentas „%1“ buvo pakeistas. Vis tiek užverti?"
+
+#: windows/rkcommandeditorwindow.cpp:287
+msgid "File not saved"
+msgstr "Rinkmena neįrašyta"
+
+#: windows/rkcommandeditorwindow.cpp:360
+msgid "Unnamed"
+msgstr "Nepavadintas"
+
+#: windows/rkcommandeditorwindow.cpp:468
+msgid "cd to current script directory"
+msgstr "eiti į dabartinio scenarijaus katalogą"
+
+#: windows/rkcommandeditorwindow.cpp:577
+msgid "%1 (Active)"
+msgstr "%1 (aktyvus)"
+
+#: windows/rkcommandeditorwindow.cpp:599
+msgid "%1 (Unused)"
+msgstr "%1 (nenaudojamas)"
+
+#: windows/rkcommandlog.cpp:183
+msgid "Incomplete statement.\n"
+msgstr "Neužbaigtas sakinys.\n"
+
+#: windows/rkcommandlog.cpp:185
+msgid "Syntax error.\n"
+msgstr "Sintaksės klaida.\n"
+
+#: windows/rkcommandlog.cpp:187
+msgid "An unspecified error occurred while running the command.\n"
+msgstr "Vykdant komandą įvyko netikėta klaida.\n"
+
+#: windows/rkhelpsearchwindow.cpp:69
+msgid "Find:"
+msgstr "Ieškoti:"
+
+#: windows/rkhelpsearchwindow.cpp:72
+msgid "Fields:"
+msgstr "Laukeliai:"
+
+#: windows/rkhelpsearchwindow.cpp:90 windows/rkhelpsearchwindow.cpp:102
+#: windows/robjectbrowser.cpp:294
+msgid "All"
+msgstr "Visi"
+
+#: windows/rkhelpsearchwindow.cpp:91
+msgid "All but keywords"
+msgstr "Visi, bet ne raktažodžių"
+
+#: windows/rkhelpsearchwindow.cpp:92
+msgid "Keywords"
+msgstr "Raktažodžiai"
+
+#: windows/rkhelpsearchwindow.cpp:96
+msgid "Package:"
+msgstr "Paketas:"
+
+#: windows/rkhelpsearchwindow.cpp:108
+msgid "Case sensitive"
+msgstr "Skirti didžiąsias ir mažąsias raides"
+
+#: windows/rkhelpsearchwindow.cpp:110
+msgid "Fuzzy matching"
+msgstr "Apytikslė atitiktis"
+
+#: windows/rkhelpsearchwindow.cpp:114
+msgid "Find"
+msgstr "Ieškoti"
+
+#: windows/rkhelpsearchwindow.cpp:128
+msgid "Help search"
+msgstr "Ieškoti žinyne"
+
+#: windows/rkhelpsearchwindow.cpp:160
+msgid "Find HTML help for %1"
+msgstr "Ieškoti %1 pagalbos (HTML)"
+
+#: windows/rkhelpsearchwindow.cpp:220
+msgid ""
+"No help found on '%1'. Maybe the corresponding package is not installed/"
+"loaded, or maybe you mistyped the command. Try using Help->Search R Help for "
+"more options."
+msgstr ""
+"Nieko nerasta apie „%1“. Galbūt neįdiegtas ar neįkeltas reikiamas paketas, "
+"o galbūt suklydote įvesdami komandą. Daugiau parinkčių rasite pagalboje, "
+"kurią atversite per meniu Pagalba -> Ieškoti R pagalbos."
+
+#: windows/rkhelpsearchwindow.cpp:220
+msgid "No help found"
+msgstr "Nerasta jokio žinyno"
+
+#: windows/rkhelpsearchwindow.cpp:300
+msgid "Topic"
+msgstr "Tema"
+
+#: windows/rkhelpsearchwindow.cpp:302
+msgid "Package"
+msgstr "Paketas"
+
+#: windows/rkhtmlwindow.cpp:140
+msgid "&Flush Output"
+msgstr "&Išvalyti rezultatus"
+
+#: windows/rkhtmlwindow.cpp:144
+msgid "&Refresh Output"
+msgstr "&Atnaujinti rezultatus"
+
+#: windows/rkhtmlwindow.cpp:326
+msgid "Output %1"
+msgstr "%1 rezultatai"
+
+#: windows/rkhtmlwindow.cpp:367
+msgid "Print output"
+msgstr "Spausdinti rezultatus"
+
+#: windows/rkhtmlwindow.cpp:369
+msgid "Export page as HTML"
+msgstr "Eksportuoti kaip HTML"
+
+#: windows/rkhtmlwindow.cpp:380
+msgid "Print page"
+msgstr "Spausdinti puslapį"
+
+#: windows/rkhtmlwindow.cpp:382
+msgid "Save Output as HTML"
+msgstr "Rodinį įrašytu HTML formatu"
+
+#: windows/rkhtmlwindow.cpp:401
+msgid ""
+"<HTML><BODY><H1>RKWard output file could not be found</H1>\n"
+"</BODY></HTML>"
+msgstr ""
+"<HTML><BODY><H1>Nepavyko rasti RKWard rezultatų rinkmenos</H1>\n"
+"</BODY></HTML>"
+
+#: windows/rkhtmlwindow.cpp:403
+msgid "Page does not exist or is broken"
+msgstr "Puslapio nėra arba jis sugadintas"
+
+#: windows/rkhtmlwindow.cpp:411
+msgid ""
+"Do you really want to flush the output? It will not be possible to restore "
+"it."
+msgstr "Tikrai išvalyti rezultatus? Jų nebebus galima atkurti."
+
+#: windows/rkhtmlwindow.cpp:411
+msgid "Flush output?"
+msgstr "Išvalyti rezultatus?"
+
+#: windows/rkhtmlwindow.cpp:480
+msgid "No Title"
+msgstr "Be antraštės"
+
+#: windows/rkhtmlwindow.cpp:493
+msgid ""
+"<h1>Help page missing</h1>\n"
+"<p>The help page for this component has not yet been written (or is broken). "
+"Please consider contributing it.</p>\n"
+msgstr ""
+"<h1>Trūksta žinyno puslapio</h1>\n"
+"<p>The help page for this component has not yet been written (or is broken). "
+"Please consider contributing it.</p>\n"
+
+#: windows/rkhtmlwindow.cpp:498
+msgid "Use %1 now"
+msgstr "Tuoj pat vykdyti „%1“"
+
+#: windows/rkhtmlwindow.cpp:515
+msgid "Summary"
+msgstr "Santrauka"
+
+#: windows/rkhtmlwindow.cpp:521
+msgid "Usage"
+msgstr "Naudojimas"
+
+#: windows/rkhtmlwindow.cpp:538
+msgid "GUI settings"
+msgstr "Grafinės sąsajos nuostatos"
+
+#: windows/rkhtmlwindow.cpp:546
+msgid "Unnamed GUI element"
+msgstr "Nepavadintas grafinės sąsajos objektas"
+
+#: windows/rkhtmlwindow.cpp:566
+msgid "Related functions and pages"
+msgstr "Susijusios funkcijos ir puslapiai"
+
+#: windows/rkhtmlwindow.cpp:573
+msgid "Technical details"
+msgstr "Techninės detalės"
+
+#: windows/rkhtmlwindow.cpp:579
+msgid "<h1>On this page:</h1>"
+msgstr "<h1>Šiame puslapyje:</h1>"
+
+#: windows/rkhtmlwindow.cpp:646
+msgid "R Reference on '%1'"
+msgstr "R apie „%1“"
+
+#: windows/rkhtmlwindow.cpp:661
+msgid "BROKEN REFERENCE"
+msgstr "NETIKUSI NUORODA"
+
+#: windows/rktoolwindowbar.cpp:272
+msgid "Attachment"
+msgstr "Prisegimas"
+
+#: windows/rktoolwindowbar.cpp:274
+msgid "Attach"
+msgstr "Prisegti"
+
+#: windows/rktoolwindowbar.cpp:276
+msgid "Move To"
+msgstr "Perkelti į"
+
+#: windows/rktoolwindowbar.cpp:278
+msgid "Left Sidebar"
+msgstr "Kairioji juosta"
+
+#: windows/rktoolwindowbar.cpp:279
+msgid "Right Sidebar"
+msgstr "Dešinioji juosta"
+
+#: windows/rktoolwindowbar.cpp:280
+msgid "Top Sidebar"
+msgstr "Viršutinė juosta"
+
+#: windows/rktoolwindowbar.cpp:281
+msgid "Bottom Sidebar"
+msgstr "Apatinė juosta"
+
+#: windows/rktoplevelwindowgui.cpp:57
+msgid "Help on R"
+msgstr "R žinynas"
+
+#: windows/rktoplevelwindowgui.cpp:59
+msgid "Search R Help"
+msgstr "Ieškoti R pagalbos"
+
+#: windows/rktoplevelwindowgui.cpp:61
+msgid "Help on RKWard"
+msgstr "RKWard pagalba"
+
+#: windows/rktoplevelwindowgui.cpp:67
+msgid "Shows the R help index"
+msgstr "Rodo R žinyno dalykinę rodyklę"
+
+#: windows/rktoplevelwindowgui.cpp:68
+msgid "Shows/raises the R Help Search window"
+msgstr "Rodyti / slėpti paieškos R žinyne langą"
+
+#: windows/rktoplevelwindowgui.cpp:69
+msgid "Show help on RKWard"
+msgstr "Rodyti RKWard pagalbą"
+
+#: windows/rktoplevelwindowgui.cpp:74
+msgid "Show/Hide Workspace Browser"
+msgstr "Rodyti / slėpti darbo erdvės naršyklę"
+
+#: windows/rktoplevelwindowgui.cpp:78
+msgid "Show/Hide Filesystem Browser"
+msgstr "Rodyti / slėpti rinkmenų sistemos naršyklę"
+
+#: windows/rktoplevelwindowgui.cpp:82
+msgid "Show/Hide Command Log"
+msgstr "Rodyti / slėpti komandų žurnalą"
+
+#: windows/rktoplevelwindowgui.cpp:86
+msgid "Show/Hide Pending Jobs"
+msgstr "Rodyti / slėpti laukiančias užduotis"
+
+#: windows/rktoplevelwindowgui.cpp:90
+msgid "Show/Hide Console"
+msgstr "Rodyti / slėpti konsolę"
+
+#: windows/rktoplevelwindowgui.cpp:94
+msgid "Show/Hide R Help Search"
+msgstr "Rodyti / slėpti paiešką R žinyne"
+
+#: windows/rktoplevelwindowgui.cpp:98
+msgid "Activate Document view"
+msgstr "Aktyvuoti dokumento rodinį"
+
+#: windows/rktoplevelwindowgui.cpp:102
+msgid "Show &Output"
+msgstr "&Rodyti rezultatus"
+
+#: windows/rktoplevelwindowgui.cpp:117
+msgid ""
+"For technical reasons, the following dialog allows you to configure the "
+"keyboard shortcuts only for those parts of RKWard that are currently "
+"active.\n"
+"\n"
+"Therefore, if you want to configure keyboard shortcuts e.g. for use inside "
+"the script editor, you need to open a script editor window, and activate it."
+msgstr ""
+"Dėl techninių priežasčių sekančiame lange sparčiuosius klavišus "
+"leidžiama konfigūruoti tik šiuo metu aktyvioms RKWard dalims.\n"
+"\n"
+"Taigi, jei norite konfigūruoti sparčiuosius klavišus, naudojamus, "
+"pvz.,  scenarijų redaktoriuje, pirma turite atverti scenarijų redagavimo "
+"langą."
+
+#: windows/rktoplevelwindowgui.cpp:117 windows/rktoplevelwindowgui.cpp:130
+msgid "Note"
+msgstr "Pastaba"
+
+#: windows/rktoplevelwindowgui.cpp:123
+msgid "RKWard Plugins"
+msgstr "RKWard papildiniai"
+
+#: windows/rktoplevelwindowgui.cpp:130
+msgid ""
+"For technical reasons, the following dialog allows you to configure the "
+"toolbar buttons only for those parts of RKWard that are currently active.\n"
+"\n"
+"Therefore, if you want to configure tool buttons e.g. for use inside the "
+"script editor, you need to open a script editor window, and activate it."
+msgstr ""
+"Dėl techninių priežasčių sekančiame lange įrankių juostos mygtukus "
+"leidžiama konfigūruoti tik šiuo metu aktyvioms RKWard dalims.\n"
+"\n"
+"Taigi, jei norite konfigūruoti įrankių juostos mygtukus, naudojamus, "
+"pvz.,  scenarijų redaktoriuje, pirma turite atverti scenarijų redagavimo "
+"langą."
+
+#: windows/rktoplevelwindowgui.cpp:152
+msgid ""
+"<p>Please submit your bug reports or wishes at <a href=\"%1\">%1</a> or send "
+"email to <a href=\"mailto:%2\">%2</a>.</p>"
+msgstr ""
+"<p>Pranešti apie riktą arba pasidalinti patarimais galite apsilankę "
+"<a href=\"%1\">%1</a> arba atsiuntę el. laišką į <a href=\"mailto:%2\">%2</a>"
+".</p>"
+
+#: windows/rktoplevelwindowgui.cpp:154
+msgid "Reporting bugs in RKWard"
+msgstr "Praneškite apie RKWard riktus"
+
+#: windows/rkwindowcatcher.cpp:57
+msgid ""
+"You have created a new X11 device window in R. Usually, RKWard tries to "
+"detect such windows, to take control of them, and add a menu-bar to them. "
+"This time, however, RKWard failed to detect, which window was created, and "
+"so can not embed it.\n"
+"If you created the window on a different screen or X11 display, that is to "
+"be expected. You might want to consider changing options(\"display\"), "
+"then.\n"
+"If you can see the X11 window on the same screen as this message, then "
+"RKWard should do better. In this case, please contact us at rkward-"
+"devel@lists.sourceforge.net with details on your setup, so we can try to fix "
+"this in future versions of RKWard."
+msgstr ""
+" Sukūrėte naują X11 langą. Paprastai RKWard bando aptikti tokius "
+"langus, perimti jų valdymą ir prie juose pridėti meniu juostelę. "
+"Bet šį kartą RKWard programai nepavyko atpažinti, kuris langas, "
+"sukurtas, tad negali jame nieko įtalpinti.\n"
+" Jei langą sukūrėte kitame X11 ekrane ar vaizduoklyje, tuomet nieko "
+"nuostabaus. Tokiu atveju reikia pakeisti parinktis („ekranas“).\n"
+" Jei tą X11 langą matote tame pačiame lange kaip ir šį pranešimą, "
+"tuomet šią bėdą galėtų ištaisyti RKWard komanda. Tokiu atveju "
+"praneškite mums į rkward-deval@lists.sourceforge.net el. pašto dėžutę, "
+"nepamiršdami išsamiai aprašyti savo konfigūracijos, kad šią "
+"klaidą galėtume ištaisyti būsimoms RKWard versijoms."
+
+#: windows/rkwindowcatcher.cpp:57
+msgid "Could not embed R X11 window"
+msgstr "Nepavyksta įtalpinti R X11 lango"
+
+#: windows/rkwindowcatcher.cpp:98
+msgid "An error occurred"
+msgstr "Įvyko klaida"
+
+#: windows/rkwindowcatcher.cpp:242
+msgid "Specify fixed size"
+msgstr "Nurodykite konkretų dydį"
+
+#: windows/rkwindowcatcher.cpp:248
+msgid "Width"
+msgstr "Plotis"
+
+#: windows/rkwindowcatcher.cpp:252
+msgid "Height"
+msgstr "Aukštis"
+
+#: windows/rkwindowcatcher.cpp:270
+msgid "Activate graphics device number %1"
+msgstr "Aktyvuoti vaizdą Nr. %1"
+
+#: windows/rkwindowcatcher.cpp:276
+msgid "Copy contents of graphics device number %1 to output"
+msgstr "Kopijuoti turinį iš vaizdo Nr. %1 į išvedimą"
+
+#: windows/rkwindowcatcher.cpp:282
+msgid "Print contents of graphics device number %1"
+msgstr "Spausdinti vaizdo Nr. %1 turinį"
+
+#: windows/rkwindowcatcher.cpp:291
+msgid "Specify R object"
+msgstr "Nurodykite R objektą"
+
+#: windows/rkwindowcatcher.cpp:296
+msgid "Specify the R object name, you want to save the graph to"
+msgstr "Nurodykite R objekto vardą, į kurį norite įrašyti diagramą"
+
+#: windows/rkwindowcatcher.cpp:307
+msgid "Save contents of graphics device number %1 to object '%2'"
+msgstr "Įrašyti vaizdo Nr. %1 turinį į objektą „%2“"
+
+#: windows/rkwindowcatcher.cpp:316
+msgid "Duplicate graphics device number %1"
+msgstr "Dubliuoti vaizdą Nr. %1"
+
+#: windows/rkwindowcatcher.cpp:335
+msgid "Draw area follows size of window"
+msgstr "Braižymo sritis apima visą langą"
+
+#: windows/rkwindowcatcher.cpp:341
+msgid "Set fixed size 500x500"
+msgstr "Nustatyti fiksuotą 500x500 dydį"
+
+#: windows/rkwindowcatcher.cpp:343
+msgid "Set fixed size 1000x1000"
+msgstr "Nustatyti fiksuotą 1000x1000 dydį"
+
+#: windows/rkwindowcatcher.cpp:345
+msgid "Set fixed size 2000x2000"
+msgstr "Nustatyti fiksuotą 2000x2000 dydį"
+
+#: windows/rkwindowcatcher.cpp:347
+msgid "Set specified fixed size..."
+msgstr "Nustatyti konkretų paveiksliuko dydį..."
+
+#: windows/rkwindowcatcher.cpp:350
+msgid "Make active"
+msgstr "Aktyvuoti"
+
+#: windows/rkwindowcatcher.cpp:352
+msgid "Copy to output"
+msgstr "Kopijuoti į rezultatus"
+
+#: windows/rkwindowcatcher.cpp:355
+msgid "Store as R object..."
+msgstr "Įrašyti kaip R objektą..."
+
+#: windows/rkwindowcatcher.cpp:357
+msgid "Duplicate"
+msgstr "Dubliuoti"
+
+#: windows/rkworkplace.cpp:211
+msgid ""
+"The url you are trying to open ('%1') is not a local file or the filetype is "
+"not supported by RKWard. Do you want to open the url in the default "
+"application?"
+msgstr ""
+"URL, kurį bandote atverti („%1“), nėra vietinė rinkmena, arba RKWard "
+"nepalaiko to rinkmenos tipo. Bandyti URL atverti numatytoje programoje?"
+
+#: windows/rkworkplace.cpp:211
+msgid "Open in default application?"
+msgstr "Atverti numatytoje programoje?"
+
+#: windows/rkworkplace.cpp:239
+msgid "Unable to open \"%1\""
+msgstr "Negalima atverti „%1“"
+
+#: windows/rkworkplace.cpp:239
+msgid "Could not open command file"
+msgstr "Nepavyksta atverti komandų rinkmenos"
+
+#: windows/rkworkplace.cpp:348
+msgid ""
+"You are about to edit object \"%1\", which is very large (%2 fields). RKWard "
+"is not optimized to handle very large objects in the built in data editor. "
+"This will use a lot of memory, and - depending on your system - might be "
+"very slow. For large objects it is generally recommended to edit using "
+"command line means or to split into smaller chunks before editing. On the "
+"other hand, if you have enough memory, or the data is simple enough (numeric "
+"data is easier to handle, than factor), editing may not be a problem at all. "
+"You can configure this warning (or turn it off entirely) under Settings-"
+">Configure RKWard->General.\n"
+"Really edit object?"
+msgstr ""
+"Ketinate redaguoti objektą „%1“, kuris yra labai didelis (%2 laukų). "
+"RKWard nėra pritaikyta duomenų redaktoriuje apdoroti labai didelių "
+"objektų. Tuomet išnaudosima daug atminties ir, priklausomai "
+"nuo operacinės sistemos, darbas gali vykti labai lėtai. "
+"Todėl dirbti su dideliais objektais patariama komandinėje eilutėje "
+"arba prieš tai išskaidžius objektą į mažesnes dalis. Kita vertus,  "
+"jei turite pakankamai atminties, o duomenys yra gana paprasti, "
+"(skaičius lengviau apdoroti nei vektorius), galbūt visai nebus nesklandumų. "
+"Šio pranešimo pasirodymą galite konfigūruoti (ar visiškai išjungti) eidami "
+"per Nuostatos -> Konfigūruoti RKWard -> Bendra.\n"
+"Tikrai redaguoti objektą?"
+
+#: windows/rkworkplace.cpp:348
+msgid "About to edit very large object"
+msgstr "Apie labai didelių objektų redagavimą"
+
+#: windows/rkworkplace.cpp:508
+msgid "Save Workplace layout"
+msgstr "Įrašyti darbo erdvę"
+
+#: windows/rkworkplace.cpp:515
+msgid "Restore Workplace layout"
+msgstr "Atkurti darbo erdvę"
+
+#: windows/rkworkplace.cpp:584
+msgid "Previous Window"
+msgstr "Ankstesnis langas"
+
+#: windows/rkworkplace.cpp:589
+msgid "Next Window"
+msgstr "Tolesnis langas"
+
+#: windows/rkworkplaceview.cpp:72
+msgid "Window Left"
+msgstr "Kairysis langas"
+
+#: windows/rkworkplaceview.cpp:76
+msgid "Window Right"
+msgstr "Dešinysis langas"
+
+#: windows/robjectbrowser.cpp:67
+msgid "Objects in the R workspace"
+msgstr "Objektai R darbo erdvėje"
+
+#: windows/robjectbrowser.cpp:119
+msgid "Search Help"
+msgstr "R pagalba"
+
+#: windows/robjectbrowser.cpp:121
+msgid "Edit"
+msgstr "Keisti"
+
+#: windows/robjectbrowser.cpp:123
+msgid "View"
+msgstr "Peržiūrėti"
+
+#: windows/robjectbrowser.cpp:125
+msgid "Rename"
+msgstr "Pervadinti"
+
+#: windows/robjectbrowser.cpp:127
+msgid "Copy to new symbol"
+msgstr "Kopijuoti į naują simbolį"
+
+#: windows/robjectbrowser.cpp:129
+msgid "Copy to .GlobalEnv"
+msgstr "Kopijuoti į .GlobalEnv"
+
+#: windows/robjectbrowser.cpp:131
+msgid "Delete"
+msgstr "Pašalinti"
+
+#: windows/robjectbrowser.cpp:133
+msgid "Unload Package"
+msgstr "Iškelti paketus"
+
+#: windows/robjectbrowser.cpp:186
+msgid "Copy object"
+msgstr "Kopijuoti objektą"
+
+#: windows/robjectbrowser.cpp:186
+msgid "Enter the name to copy to"
+msgstr "Įveskite būsimos objekto kopijos vardą"
+
+#: windows/robjectbrowser.cpp:202
+msgid ""
+"An object named '%1' already exists in the GlobalEnv. Created the copy as '%"
+"2' instead."
+msgstr ""
+"Objektas vardu „%1“ jau yra prie GlobalEnv. Todėl sukurtos kopijos vardas "
+"bus „%2“."
+
+#: windows/robjectbrowser.cpp:202
+msgid "Name already in use"
+msgstr "Toks vardas jau yra"
+
+#: windows/robjectbrowser.cpp:232
+msgid "Rename object"
+msgstr "Pervadinti objektą"
+
+#: windows/robjectbrowser.cpp:232
+msgid "Enter the new name"
+msgstr "Įveskite naują vardą"
+
+#: windows/robjectbrowser.cpp:295
+msgid "Non-Functions"
+msgstr "Ne funkcijos"
+
+#: windows/robjectbrowser.cpp:305
+msgid "Show All Environments"
+msgstr "Rodyti visas aplinkas"
+
+#: windows/robjectbrowser.cpp:309
+msgid "Show Hidden Objects"
+msgstr "Rodyti slepiamus objektus"
+
+#. i18n: file: dataeditor/rkeditordataframepart.rc:4
+#. i18n: ectx: Menu (edit)
+#. i18n: file: rkconsolepart.rc:9
+#. i18n: ectx: Menu (edit)
+#. i18n: file: rkwardui.rc:35
+#. i18n: ectx: Menu (edit)
+#. i18n: file: windows/detachedwindowcontainer.rc:11
+#. i18n: ectx: Menu (edit)
+#. i18n: file: windows/rkcommandeditorwindowpart.rc:4
+#. i18n: ectx: Menu (edit)
+#. i18n: file: windows/rkcommandlogpart.rc:4
+#. i18n: ectx: Menu (edit)
+#. i18n: file: windows/rkhelpwindow.rc:7
+#. i18n: ectx: Menu (edit)
+#. i18n: file: windows/rkoutputwindow.rc:7
+#. i18n: ectx: Menu (edit)
+#: rc.cpp:3 rc.cpp:12 rc.cpp:36 rc.cpp:63 rc.cpp:87 rc.cpp:102 rc.cpp:111
+#: rc.cpp:117
+msgid "&Edit"
+msgstr "&Keisti"
+
+#. i18n: file: dataeditor/rkeditordataframepart.rc:13
+#. i18n: ectx: Menu (windows)
+#. i18n: file: rkwardui.rc:61
+#. i18n: ectx: Menu (window)
+#: rc.cpp:6 rc.cpp:45
+msgid "&Windows"
+msgstr "&Langai"
+
+#. i18n: file: rkconsolepart.rc:4
+#. i18n: ectx: Menu (file)
+#. i18n: file: rkwardui.rc:7
+#. i18n: ectx: Menu (file)
+#. i18n: file: windows/detachedwindowcontainer.rc:5
+#. i18n: ectx: Menu (file)
+#. i18n: file: windows/rkhelpwindow.rc:4
+#. i18n: ectx: Menu (file)
+#. i18n: file: windows/rkoutputwindow.rc:4
+#. i18n: ectx: Menu (file)
+#: rc.cpp:9 rc.cpp:24 rc.cpp:57 rc.cpp:108 rc.cpp:114
+msgid "&File"
+msgstr "&Rinkmena"
+
+#. i18n: file: rkconsolepart.rc:17
+#. i18n: ectx: Menu (view)
+#. i18n: file: rkwardui.rc:49
+#. i18n: ectx: Menu (view)
+#. i18n: file: windows/detachedwindowcontainer.rc:24
+#. i18n: ectx: Menu (view)
+#. i18n: file: windows/rkcatchedx11windowpart.rc:13
+#. i18n: ectx: Menu (view)
+#. i18n: file: windows/rkoutputwindow.rc:12
+#. i18n: ectx: Menu (view)
+#: rc.cpp:15 rc.cpp:39 rc.cpp:66 rc.cpp:84 rc.cpp:120
+msgid "&View"
+msgstr "&Rodinys"
+
+#. i18n: file: rkconsolepart.rc:22
+#. i18n: ectx: Menu (run)
+#. i18n: file: rkwardui.rc:52
+#. i18n: ectx: Menu (run)
+#. i18n: file: windows/detachedwindowcontainer.rc:27
+#. i18n: ectx: Menu (run)
+#. i18n: file: windows/rkcommandeditorwindowpart.rc:11
+#. i18n: ectx: Menu (run)
+#. i18n: file: windows/rkcommandeditorwindowpart.rc:31
+#. i18n: ectx: Menu (run)
+#: rc.cpp:18 rc.cpp:42 rc.cpp:69 rc.cpp:93 rc.cpp:99
+msgid "&Run"
+msgstr "&Vykdyti"
+
+#. i18n: file: rkconsolepart.rc:25
+#. i18n: ectx: Menu (settings)
+#. i18n: file: rkwardui.rc:80
+#. i18n: ectx: Menu (settings)
+#. i18n: file: windows/rkcommandeditorwindowpart.rc:16
+#. i18n: ectx: Menu (settings)
+#. i18n: file: windows/rkcommandlogpart.rc:9
+#. i18n: ectx: Menu (settings)
+#. i18n: file: windows/rktoplevelwindowgui.rc:21
+#. i18n: ectx: Menu (settings)
+#: rc.cpp:21 rc.cpp:51 rc.cpp:96 rc.cpp:105 rc.cpp:129
+msgid "&Settings"
+msgstr "&Nuostatos"
+
+#. i18n: file: rkwardui.rc:8
+#. i18n: ectx: Menu (new_data)
+#: rc.cpp:27
+msgid "&New"
+msgstr "&Nauja"
+
+#. i18n: file: rkwardui.rc:15
+#. i18n: ectx: Menu (import)
+#: rc.cpp:30
+msgid "&Import"
+msgstr "&Importuoti"
+
+#. i18n: file: rkwardui.rc:25
+#. i18n: ectx: Menu (workspace)
+#: rc.cpp:33
+msgid "&Workspace"
+msgstr "&Darbo erdvė"
+
+#. i18n: file: rkwardui.rc:67
+#. i18n: ectx: Menu (window_activate)
+#. i18n: file: windows/detachedwindowcontainer.rc:39
+#. i18n: ectx: Menu (window_activate)
+#. i18n: file: windows/rktoplevelwindowgui.rc:9
+#. i18n: ectx: Menu (window_activate)
+#: rc.cpp:48 rc.cpp:75 rc.cpp:126
+msgid "&Activate"
+msgstr "&Aktyvuoti"
+
+#. i18n: file: rkwardui.rc:85
+#. i18n: ectx: Menu (help)
+#. i18n: file: windows/detachedwindowcontainer.rc:44
+#. i18n: ectx: Menu (help)
+#. i18n: file: windows/rktoplevelwindowgui.rc:25
+#. i18n: ectx: Menu (help)
+#: rc.cpp:54 rc.cpp:78 rc.cpp:132
+msgid "&Help"
+msgstr "&Pagalba"
+
+#. i18n: file: windows/detachedwindowcontainer.rc:8
+#. i18n: ectx: Menu (device)
+#. i18n: file: windows/rkcatchedx11windowpart.rc:4
+#. i18n: ectx: Menu (device)
+#: rc.cpp:60 rc.cpp:81
+msgid "&Device"
+msgstr "Į&renginys"
+
+#. i18n: file: windows/detachedwindowcontainer.rc:35
+#. i18n: ectx: Menu (window)
+#. i18n: file: windows/rktoplevelwindowgui.rc:5
+#. i18n: ectx: Menu (window)
+#: rc.cpp:72 rc.cpp:123
+msgid "&Window"
+msgstr "&Langas"
+
+#. i18n: file: windows/rkcommandeditorwindowpart.rc:5
+#. i18n: ectx: Menu (tools)
+#: rc.cpp:90
+msgid "&Tools Move"
+msgstr "&Judėjimo įrankiai"
+
+#: rc.cpp:133
+msgctxt "NAME OF TRANSLATORS"
+msgid "Your names"
+msgstr "Mindaugas Baranauskas"
+
+#: rc.cpp:134
+msgctxt "EMAIL OF TRANSLATORS"
+msgid "Your emails"
+msgstr "embar@users.berlios.de"
+
+#~ msgid "Open command file(s)"
+#~ msgstr "Ouvrir un ou plusieurs fichiers de commandes"
+
+#~ msgid ""
+#~ "Add URL of new repository\n"
+#~ "(Enter \"@CRAN@\" for the standard CRAN-mirror)"
+#~ msgstr ""
+#~ "Ajoutez l'URL du nouveau dépôt\n"
+#~ "(Utiliser \"@CRAN@\" pour l'archive CRAN standard)"
+
+#~ msgid ""
+#~ "There are no safeguards against removing essential packages. For example, "
+#~ "unloading \"rkward\" will prevent this application from running properly. "
+#~ "Please be careful about the packages you unload."
+#~ msgstr ""
+#~ "Il n'y a pas de garde-fou empêchant d'enlever des paquets essentiels. Par "
+#~ "exemple, le paquet \"rkward\" peut être enlevé, ce qui empêcherait cette "
+#~ "application de fonctionner correctement. Veuillez être prudent lorsque "
+#~ "vous déchargez des paquets."
+
+#, fuzzy
+#~ msgid "&Cancel"
+#~ msgstr "Annulé"
+
+#~ msgid "file to open"
+#~ msgstr "fichier à ouvrir"
+
+#~ msgid ""
+#~ "Please submit your bug reports or wishes at http://sourceforge.net/"
+#~ "tracker/?group_id=50231&atid=459007 or send email to rkward-devel@lists."
+#~ "sourceforge.net"
+#~ msgstr ""
+#~ "S'il vous plaît soumettez  votre rapport de bug ou de fonctionnalité à  "
+#~ "http://sourceforge.net/tracker/?group_id=50231&atid=459007 ou envoyez un "
+#~ "mail à rkward-devel@lists.sourceforge.net"
+
+#~ msgid ""
+#~ "\t- The 'rkward' R-library could not be loaded. This library is needed "
+#~ "for communication between R and RKWard and many things will not work "
+#~ "properly if this library is not present. Likely RKWard will even crash. "
+#~ "The 'rkward' R-library should have been included in your distribution or "
+#~ "RKWard, and should have been set up when you ran 'make install'. Please "
+#~ "try 'make install' again and check for any errors. You should quit RKWard "
+#~ "now.\n"
+#~ msgstr ""
+#~ "\t- La bibliothèque R \"rkward\" n'a pas pu être chargée. Cette "
+#~ "bibliothèque est nécessaire pour la communication entre R et RKWard et "
+#~ "beaucoup de choses ne vont pas fonctionner correctement si cette "
+#~ "bibliothèque n'est pas présente. Il est même probable que RKWard va "
+#~ "planter. La bibliothèque R \"rkward\" dervait être inclue dans votre "
+#~ "distribution ou dans RKWard, et devrait avoir été paramétrée quand vous "
+#~ "avez exécuté 'make install'. Essayez à nouveau 'make install' et assurez-"
+#~ "vous de l'absence d'erreur. Vous devriez maintenant quitter RKWard.\n"
+
+#~ msgid ""
+#~ "It will be shut down immediately. This means, you can not use any more "
+#~ "functions that rely on the R backend. I.e. you can do hardly anything at "
+#~ "all, not even save the workspace. What you can do, however, is save any "
+#~ "open command-files, the output, or copy data out of open data editors. "
+#~ "Quit RKWard after that. Sorry!"
+#~ msgstr ""
+#~ "Il va s'arrêter immédiatement. Cela signifie que vous ne pouvez plus "
+#~ "utiliser des fonctions basées sur R. C'est à dire que vous ne pouvez "
+#~ "quasiment rien faire, pas même sauver l'espace de travail. Ce que vous "
+#~ "pouvez faire cependant est sauver tout fichier de commandes ouvert, les "
+#~ "sorties ou copier des données d'éditeurs de données ouverts. Quittez "
+#~ "RKWard après cela. Désolé !"
+
+#, fuzzy
+#~ msgid ""
+#~ "RKWard has made great progress in the past few months and it is already "
+#~ "helpful for many tasks, but some features may be lacking. You can help us "
+#~ "by filing bug reports, feature requests, or providing feedback in any "
+#~ "other form. Please visit http://rkward.sourceforge.net for more "
+#~ "information."
+#~ msgstr ""
+#~ "Notez bien que RKWard est encore loin d'être achevé. Nous pensons qu'il "
+#~ "est déjà utile pour nombre de tâches, mais que de nombreuses "
+#~ "fonctionnalités sont manquantes ou défectueuses. Vous pouvez nous aider "
+#~ "en signalant des anomalies en demandant des fonctionnalités ou en "
+#~ "fournissant un retour sous n'importe quelle forme. Veuillez consulter "
+#~ "http://rkward.sourceforge.net pour savoir comment nous contacter."
+
+#~ msgid "What to expect of RKWard"
+#~ msgstr "Qu'attendre de RKWard"
+
+#~ msgid "R Help"
+#~ msgstr "Aide de R"
+
+#~ msgid "Default for type '%1'"
+#~ msgstr "Par défaut pour le type '%1'"
+
+#~ msgid "Ok"
+#~ msgstr "Ok"
+
+#~ msgid "Flags"
+#~ msgstr "Indicateurs"
+
+#~ msgid "Chain"
+#~ msgstr "Chaîne"
+
+#~ msgid ""
+#~ "You appear to have an old configuration for the plugin-paths. The default "
+#~ "configuration was changed between rkward 0.3.4 and rkward 0.3.5. Should "
+#~ "the configuration be set to the new default (recommended)?"
+#~ msgstr ""
+#~ "Il apparaît que vous avez une ancienne configuration pour le chemin des "
+#~ "greffons. La configuration par défaut a été changé entre la version 0.3.4 "
+#~ "et la version 0.3.5. Est ce que la configuration doit être définie au "
+#~ "nouveau chemin par défaut (recommandé) ?"
+
+#~ msgid "Configuration change"
+#~ msgstr "La configuration a changée"
+
+#~ msgid "Show Output"
+#~ msgstr "Montrer les sorties"
+
+#~ msgid "Hide Output"
+#~ msgstr "Cachez les sorties"
+
+#~ msgid "Show Errors / Warnings"
+#~ msgstr "Montrer les erreurs / avertissements"
+
+#~ msgid "Hide Errors / Warnings"
+#~ msgstr "Cacher les erreurs / avertissements"
+
+#~ msgid "[Objects]"
+#~ msgstr "[Objets]"
+
+#~ msgid "Existing objects in your workspace."
+#~ msgstr "Objets dans l'espace de travail."
+
+#~ msgid "starting R engine"
+#~ msgstr "démarrage de R"
+
+#~ msgid ""
+#~ "Quitting RKWard: Do you want to save the workspace?\n"
+#~ "RKWard will remain open if you press Cancel"
+#~ msgstr ""
+#~ "Fermeture de RKWard. Voulez-vous sauvegarder l'espace de travail ?\n"
+#~ "Choisissez Annuler si vous ne voulez pas quitter"
+
+#, fuzzy
+#~ msgid ""
+#~ "\n"
+#~ "Result of 'summary (%1)':\n"
+#~ msgstr ""
+#~ "\n"
+#~ "Sortie de 'print ("
+
+#, fuzzy
+#~ msgid ""
+#~ "\n"
+#~ "Result of 'print (%1)':\n"
+#~ msgstr ""
+#~ "\n"
+#~ "Sortie de 'print ("
+
+#~ msgid ""
+#~ "_: NAME OF TRANSLATORS\n"
+#~ "Your names"
+#~ msgstr ""
+#~ "Pierre Ecochard\n"
+#~ "Frédéric Daniel Luc LEHOBEY\n"
+#~ "Yves Jacolin"
+
+#~ msgid ""
+#~ "_: EMAIL OF TRANSLATORS\n"
+#~ "Your emails"
+#~ msgstr ""
+#~ "ecoch@users.sourceforge.net\n"
+#~ "Frederic.Lehobey@free.fr\n"
+#~ "yjacolin@free.fr"
+
+#~ msgid ""
+#~ "The R-backend has reported one or more error(s) while processing the "
+#~ "plugin '%1'.\n"
+#~ "This may lead to an incorrect output and is likely due to a bug in the "
+#~ "plugin.\n"
+#~ "A transcript of the error message(s) is shown below."
+#~ msgstr ""
+#~ "Le moteur R a rapporté une ou plusieurs erreur(s) lors de l'utilisation "
+#~ "du plugin '%1'.\n"
+#~ "Cela peut entraîner des sorties incorrectes et est probablement dû à une "
+#~ "anomalie dans le greffon.\n"
+#~ "Le message d'erreur est affiché ci dessous."
+
+#~ msgid "R-Error"
+#~ msgstr "Erreur R"
+
+#~ msgid "Syntax error"
+#~ msgstr "Erreur de syntaxe"
+
+#~ msgid "command incomplete"
+#~ msgstr "Commande incomplete"
+
+#~ msgid "Browse"
+#~ msgstr "Naviguer"
+
+#~ msgid "Object name: "
+#~ msgstr "Nom de l'objet : "
+
+#~ msgid ""
+#~ "\n"
+#~ "Full location: "
+#~ msgstr ""
+#~ "\n"
+#~ "Chemin complet : "
+
+#~ msgid ""
+#~ "\n"
+#~ "Class(es): "
+#~ msgstr ""
+#~ "\n"
+#~ "Classe(s) : "
+
+#~ msgid ""
+#~ "\n"
+#~ "Dimensions: "
+#~ msgstr ""
+#~ "\n"
+#~ "Dimensions : "
+
+#~ msgid ")':\n"
+#~ msgstr ")' :\n"
+
+#~ msgid " - Waiting for results from R..."
+#~ msgstr " - En attente des résultats du processus R..."
+
+#~ msgid ""
+#~ "\n"
+#~ "Some errors occurred: "
+#~ msgstr ""
+#~ "\n"
+#~ "Certaines erreurs se sont produites : "
+
+#~ msgid "Directory, where the PHP support files are located"
+#~ msgstr "Répertoire ou les fichiers de support PHP sont situés"
+
+#~ msgid "## Clean up\n"
+#~ msgstr "## Nettoyer\n"
+
+#~ msgid "Several plugins"
+#~ msgstr "Plusieurs modules"
diff -Nuar rkward-0.5.3.orig/po/pl.po rkward-0.5.3/po/pl.po
--- rkward-0.5.3.orig/po/pl.po	2010-04-27 11:01:37.000000000 +0300
+++ rkward-0.5.3/po/pl.po	2010-08-07 19:57:08.288399000 +0300
@@ -7,10 +7,10 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: PACKAGE VERSION\n"
+"Project-Id-Version: pl\n"
 "Report-Msgid-Bugs-To: http://sourceforge.net/tracker/?"
 "group_id=50231&atid=459007\n"
-"POT-Creation-Date: 2010-04-27 10:01+0200\n"
+"POT-Creation-Date: 2010-04-15 16:30+0200\n"
 "PO-Revision-Date: 2004-11-19 00:00+0100\n"
 "Last-Translator: Andrzej Pruszynski\n"
 "Language-Team: LANG <LL@li.org>\n"
@@ -909,7 +909,7 @@
 msgstr ""
 
 #: misc/rkprogresscontrol.cpp:246 plugin/rkstandardcomponentgui.cpp:301
-#: rkconsole.cpp:884 robjectviewer.cpp:170
+#: rkconsole.cpp:881 robjectviewer.cpp:170
 msgid "Cancel"
 msgstr ""
 
@@ -1410,36 +1410,36 @@
 msgid "R Console"
 msgstr "R-konsola"
 
-#: rkconsole.cpp:629
+#: rkconsole.cpp:626
 #, fuzzy
 msgid "Syntax error\n"
 msgstr "Błąd syntaktyczny.\n"
 
-#: rkconsole.cpp:837
+#: rkconsole.cpp:834
 msgid "Interrupt running command"
 msgstr "Przerwij uruchomione polecenie"
 
-#: rkconsole.cpp:843
+#: rkconsole.cpp:840
 #, fuzzy
 msgid "Copy selection cleaned"
 msgstr "Uruchom zaznaczone"
 
-#: rkconsole.cpp:846
+#: rkconsole.cpp:843
 #, fuzzy
 msgid "Copy selection literally"
 msgstr "Uruchom zaznaczone"
 
-#: rkconsole.cpp:853 windows/rkcommandlog.cpp:285
+#: rkconsole.cpp:850 windows/rkcommandlog.cpp:285
 #, fuzzy
 msgid "Configure"
 msgstr "Konfiguruj edytor"
 
-#: rkconsole.cpp:855
+#: rkconsole.cpp:852
 #, fuzzy
 msgid "Print Console"
 msgstr "R-konsola"
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 msgid ""
 "You have configured RKWard to run script commands through the console. "
 "However, the console is currently busy (either a command is running, or you "
@@ -1447,12 +1447,12 @@
 "console this one time, or do you want to try again later?"
 msgstr ""
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 #, fuzzy
 msgid "Console is busy"
 msgstr "R-konsola"
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 #, fuzzy
 msgid "Bypass console"
 msgstr "R-konsola"
@@ -2853,17 +2853,17 @@
 msgid "Open in default application?"
 msgstr "Zamyka aplikację"
 
-#: windows/rkworkplace.cpp:239
+#: windows/rkworkplace.cpp:240
 #, fuzzy
 msgid "Unable to open \"%1\""
 msgstr "otwierany plik"
 
-#: windows/rkworkplace.cpp:239
+#: windows/rkworkplace.cpp:240
 #, fuzzy
 msgid "Could not open command file"
 msgstr "Otwórz plik"
 
-#: windows/rkworkplace.cpp:348
+#: windows/rkworkplace.cpp:349
 msgid ""
 "You are about to edit object \"%1\", which is very large (%2 fields). RKWard "
 "is not optimized to handle very large objects in the built in data editor. "
@@ -2877,32 +2877,32 @@
 "Really edit object?"
 msgstr ""
 
-#: windows/rkworkplace.cpp:348
+#: windows/rkworkplace.cpp:349
 msgid "About to edit very large object"
 msgstr ""
 
-#: windows/rkworkplace.cpp:508
+#: windows/rkworkplace.cpp:509
 #, fuzzy
 msgid "Save Workplace layout"
 msgstr "Zapisz przestrzeń roboczą"
 
-#: windows/rkworkplace.cpp:515
+#: windows/rkworkplace.cpp:516
 msgid "Restore Workplace layout"
 msgstr ""
 
-#: windows/rkworkplace.cpp:584
+#: windows/rkworkplace.cpp:585
 msgid "Previous Window"
 msgstr ""
 
-#: windows/rkworkplace.cpp:589
+#: windows/rkworkplace.cpp:590
 msgid "Next Window"
 msgstr ""
 
-#: windows/rkworkplaceview.cpp:72
+#: windows/rkworkplaceview.cpp:70
 msgid "Window Left"
 msgstr ""
 
-#: windows/rkworkplaceview.cpp:76
+#: windows/rkworkplaceview.cpp:74
 msgid "Window Right"
 msgstr ""
 
diff -Nuar rkward-0.5.3.orig/po/rkward.pot rkward-0.5.3/po/rkward.pot
--- rkward-0.5.3.orig/po/rkward.pot	2010-04-27 11:01:37.000000000 +0300
+++ rkward-0.5.3/po/rkward.pot	2010-07-31 03:25:04.649794000 +0300
@@ -9,7 +9,7 @@
 "Project-Id-Version: PACKAGE VERSION\n"
 "Report-Msgid-Bugs-To: http://sourceforge.net/tracker/?"
 "group_id=50231&atid=459007\n"
-"POT-Creation-Date: 2010-04-27 10:01+0200\n"
+"POT-Creation-Date: 2010-04-15 16:30+0200\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: LANGUAGE <LL@li.org>\n"
@@ -850,7 +850,7 @@
 msgstr ""
 
 #: misc/rkprogresscontrol.cpp:246 plugin/rkstandardcomponentgui.cpp:301
-#: rkconsole.cpp:884 robjectviewer.cpp:170
+#: rkconsole.cpp:881 robjectviewer.cpp:170
 msgid "Cancel"
 msgstr ""
 
@@ -1333,31 +1333,31 @@
 msgid "R Console"
 msgstr ""
 
-#: rkconsole.cpp:629
+#: rkconsole.cpp:626
 msgid "Syntax error\n"
 msgstr ""
 
-#: rkconsole.cpp:837
+#: rkconsole.cpp:834
 msgid "Interrupt running command"
 msgstr ""
 
-#: rkconsole.cpp:843
+#: rkconsole.cpp:840
 msgid "Copy selection cleaned"
 msgstr ""
 
-#: rkconsole.cpp:846
+#: rkconsole.cpp:843
 msgid "Copy selection literally"
 msgstr ""
 
-#: rkconsole.cpp:853 windows/rkcommandlog.cpp:285
+#: rkconsole.cpp:850 windows/rkcommandlog.cpp:285
 msgid "Configure"
 msgstr ""
 
-#: rkconsole.cpp:855
+#: rkconsole.cpp:852
 msgid "Print Console"
 msgstr ""
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 msgid ""
 "You have configured RKWard to run script commands through the console. "
 "However, the console is currently busy (either a command is running, or you "
@@ -1365,11 +1365,11 @@
 "console this one time, or do you want to try again later?"
 msgstr ""
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 msgid "Console is busy"
 msgstr ""
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 msgid "Bypass console"
 msgstr ""
 
@@ -1390,7 +1390,7 @@
 
 #: rkward.cpp:195
 msgid ""
-"<p>Please note that RKWard on is not well tested on Windows, yet.</"
+"<p>Please note that RKWard is not well tested on Windows, yet.</"
 "p><p>There are all sorts of known issues, and issues yet to be reported. If "
 "you'd like to help: <a href=\"http://p.sf.net/rkward/contact\">http://p.sf."
 "net/rkward/contact</a>.</p>"
@@ -2686,15 +2686,15 @@
 msgid "Open in default application?"
 msgstr ""
 
-#: windows/rkworkplace.cpp:239
+#: windows/rkworkplace.cpp:240
 msgid "Unable to open \"%1\""
 msgstr ""
 
-#: windows/rkworkplace.cpp:239
+#: windows/rkworkplace.cpp:240
 msgid "Could not open command file"
 msgstr ""
 
-#: windows/rkworkplace.cpp:348
+#: windows/rkworkplace.cpp:349
 msgid ""
 "You are about to edit object \"%1\", which is very large (%2 fields). RKWard "
 "is not optimized to handle very large objects in the built in data editor. "
@@ -2708,31 +2708,31 @@
 "Really edit object?"
 msgstr ""
 
-#: windows/rkworkplace.cpp:348
+#: windows/rkworkplace.cpp:349
 msgid "About to edit very large object"
 msgstr ""
 
-#: windows/rkworkplace.cpp:508
+#: windows/rkworkplace.cpp:509
 msgid "Save Workplace layout"
 msgstr ""
 
-#: windows/rkworkplace.cpp:515
+#: windows/rkworkplace.cpp:516
 msgid "Restore Workplace layout"
 msgstr ""
 
-#: windows/rkworkplace.cpp:584
+#: windows/rkworkplace.cpp:585
 msgid "Previous Window"
 msgstr ""
 
-#: windows/rkworkplace.cpp:589
+#: windows/rkworkplace.cpp:590
 msgid "Next Window"
 msgstr ""
 
-#: windows/rkworkplaceview.cpp:72
+#: windows/rkworkplaceview.cpp:70
 msgid "Window Left"
 msgstr ""
 
-#: windows/rkworkplaceview.cpp:76
+#: windows/rkworkplaceview.cpp:74
 msgid "Window Right"
 msgstr ""
 
diff -Nuar rkward-0.5.3.orig/po/tr.po rkward-0.5.3/po/tr.po
--- rkward-0.5.3.orig/po/tr.po	2010-04-27 11:01:38.000000000 +0300
+++ rkward-0.5.3/po/tr.po	2010-04-15 17:30:50.063935000 +0300
@@ -13,7 +13,7 @@
 "Project-Id-Version: yenitr\n"
 "Report-Msgid-Bugs-To: http://sourceforge.net/tracker/?"
 "group_id=50231&atid=459007\n"
-"POT-Creation-Date: 2010-04-27 10:01+0200\n"
+"POT-Creation-Date: 2010-04-15 16:30+0200\n"
 "PO-Revision-Date: 2007-04-12 10:40+0300\n"
 "Last-Translator: ertugrulerata <ertugrulerata@gmail.com>\n"
 "Language-Team:  <tr@li.org>\n"
@@ -923,7 +923,7 @@
 msgstr "Hatalar/Uyarılar:"
 
 #: misc/rkprogresscontrol.cpp:246 plugin/rkstandardcomponentgui.cpp:301
-#: rkconsole.cpp:884 robjectviewer.cpp:170
+#: rkconsole.cpp:881 robjectviewer.cpp:170
 #, fuzzy
 msgid "Cancel"
 msgstr "İptal edildi"
@@ -1450,33 +1450,33 @@
 msgid "R Console"
 msgstr "R konsol"
 
-#: rkconsole.cpp:629
+#: rkconsole.cpp:626
 msgid "Syntax error\n"
 msgstr "Sözdizimi hatası\n"
 
-#: rkconsole.cpp:837
+#: rkconsole.cpp:834
 msgid "Interrupt running command"
 msgstr "Çalışan komutu durdur"
 
-#: rkconsole.cpp:843
+#: rkconsole.cpp:840
 msgid "Copy selection cleaned"
 msgstr "Silinen seçimi kopyala"
 
-#: rkconsole.cpp:846
+#: rkconsole.cpp:843
 msgid "Copy selection literally"
 msgstr "Tam olarak seçimi kopyala"
 
-#: rkconsole.cpp:853 windows/rkcommandlog.cpp:285
+#: rkconsole.cpp:850 windows/rkcommandlog.cpp:285
 #, fuzzy
 msgid "Configure"
 msgstr "Rkward'ı yapılandır"
 
-#: rkconsole.cpp:855
+#: rkconsole.cpp:852
 #, fuzzy
 msgid "Print Console"
 msgstr "R konsol"
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 #, fuzzy
 msgid ""
 "You have configured RKWard to run script commands through the console. "
@@ -1489,11 +1489,11 @@
 "başlattınız). Şu ana konsol uygulamasından vazgeçmek istiyor musunuz veya "
 "daha sonra tekrar dener misiniz?"
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 msgid "Console is busy"
 msgstr "Konsol meşgul"
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 msgid "Bypass console"
 msgstr "Konsolu pas geç"
 
@@ -2910,15 +2910,15 @@
 msgid "Open in default application?"
 msgstr "Varsayılan uygulama ile aç?"
 
-#: windows/rkworkplace.cpp:239
+#: windows/rkworkplace.cpp:240
 msgid "Unable to open \"%1\""
 msgstr "\"%1\" açılamıyor"
 
-#: windows/rkworkplace.cpp:239
+#: windows/rkworkplace.cpp:240
 msgid "Could not open command file"
 msgstr "Komut dosyası açılmadı"
 
-#: windows/rkworkplace.cpp:348
+#: windows/rkworkplace.cpp:349
 msgid ""
 "You are about to edit object \"%1\", which is very large (%2 fields). RKWard "
 "is not optimized to handle very large objects in the built in data editor. "
@@ -2932,31 +2932,31 @@
 "Really edit object?"
 msgstr ""
 
-#: windows/rkworkplace.cpp:348
+#: windows/rkworkplace.cpp:349
 msgid "About to edit very large object"
 msgstr "Çok geniş nesne düzenleme hakkında"
 
-#: windows/rkworkplace.cpp:508
+#: windows/rkworkplace.cpp:509
 msgid "Save Workplace layout"
 msgstr "Çalışma alanı düzenini kaydet"
 
-#: windows/rkworkplace.cpp:515
+#: windows/rkworkplace.cpp:516
 msgid "Restore Workplace layout"
 msgstr "Çalışma alanı düzenini geri koy"
 
-#: windows/rkworkplace.cpp:584
+#: windows/rkworkplace.cpp:585
 msgid "Previous Window"
 msgstr "Önceki Pencere"
 
-#: windows/rkworkplace.cpp:589
+#: windows/rkworkplace.cpp:590
 msgid "Next Window"
 msgstr "Yeni Pencere"
 
-#: windows/rkworkplaceview.cpp:72
+#: windows/rkworkplaceview.cpp:70
 msgid "Window Left"
 msgstr "Sol Pencere"
 
-#: windows/rkworkplaceview.cpp:76
+#: windows/rkworkplaceview.cpp:74
 msgid "Window Right"
 msgstr "Sağ Pencere"
 
diff -Nuar rkward-0.5.3.orig/po/zh_CN.po rkward-0.5.3/po/zh_CN.po
--- rkward-0.5.3.orig/po/zh_CN.po	2010-04-27 11:01:38.000000000 +0300
+++ rkward-0.5.3/po/zh_CN.po	2010-04-15 17:30:50.063935000 +0300
@@ -9,7 +9,7 @@
 "Project-Id-Version: lala\n"
 "Report-Msgid-Bugs-To: http://sourceforge.net/tracker/?"
 "group_id=50231&atid=459007\n"
-"POT-Creation-Date: 2010-04-27 10:01+0200\n"
+"POT-Creation-Date: 2010-04-15 16:30+0200\n"
 "PO-Revision-Date: 2008-01-17 09:48+0800\n"
 "Last-Translator: Roy Qu <royqh1979@gmail.com>\n"
 "Language-Team: Simplified Chinese\n"
@@ -897,7 +897,7 @@
 msgstr "错误/警告："
 
 #: misc/rkprogresscontrol.cpp:246 plugin/rkstandardcomponentgui.cpp:301
-#: rkconsole.cpp:884 robjectviewer.cpp:170
+#: rkconsole.cpp:881 robjectviewer.cpp:170
 msgid "Cancel"
 msgstr "取消"
 
@@ -1415,32 +1415,32 @@
 msgid "R Console"
 msgstr "R控制台"
 
-#: rkconsole.cpp:629
+#: rkconsole.cpp:626
 msgid "Syntax error\n"
 msgstr "语法错误\n"
 
-#: rkconsole.cpp:837
+#: rkconsole.cpp:834
 msgid "Interrupt running command"
 msgstr "中断正在运行的命令"
 
-#: rkconsole.cpp:843
+#: rkconsole.cpp:840
 msgid "Copy selection cleaned"
 msgstr "复制清理后的选中内容"
 
-#: rkconsole.cpp:846
+#: rkconsole.cpp:843
 msgid "Copy selection literally"
 msgstr "复制选中的文本"
 
-#: rkconsole.cpp:853 windows/rkcommandlog.cpp:285
+#: rkconsole.cpp:850 windows/rkcommandlog.cpp:285
 msgid "Configure"
 msgstr "配置"
 
-#: rkconsole.cpp:855
+#: rkconsole.cpp:852
 #, fuzzy
 msgid "Print Console"
 msgstr "R控制台"
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 #, fuzzy
 msgid ""
 "You have configured RKWard to run script commands through the console. "
@@ -1452,11 +1452,11 @@
 "运行，也可能是您在主控台中输入了文字)。是忽略主控台继续执行呢，还是 以后再"
 "试？"
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 msgid "Console is busy"
 msgstr "主控台正忙"
 
-#: rkconsole.cpp:884
+#: rkconsole.cpp:881
 msgid "Bypass console"
 msgstr "忽略主控台"
 
@@ -2829,15 +2829,15 @@
 msgid "Open in default application?"
 msgstr "在缺省应用程序中打开？"
 
-#: windows/rkworkplace.cpp:239
+#: windows/rkworkplace.cpp:240
 msgid "Unable to open \"%1\""
 msgstr "无法打开\"%1\""
 
-#: windows/rkworkplace.cpp:239
+#: windows/rkworkplace.cpp:240
 msgid "Could not open command file"
 msgstr "无法打开命令文件"
 
-#: windows/rkworkplace.cpp:348
+#: windows/rkworkplace.cpp:349
 msgid ""
 "You are about to edit object \"%1\", which is very large (%2 fields). RKWard "
 "is not optimized to handle very large objects in the built in data editor. "
@@ -2857,31 +2857,31 @@
 "常也不会有问题。您可以在\"设置\"->\"配置RKWard\"->\"常规\"中设置或关闭此警告"
 "信息。 真的要编辑此对象吗？"
 
-#: windows/rkworkplace.cpp:348
+#: windows/rkworkplace.cpp:349
 msgid "About to edit very large object"
 msgstr "将要编辑非常大的对象"
 
-#: windows/rkworkplace.cpp:508
+#: windows/rkworkplace.cpp:509
 msgid "Save Workplace layout"
 msgstr "保存工作区布局"
 
-#: windows/rkworkplace.cpp:515
+#: windows/rkworkplace.cpp:516
 msgid "Restore Workplace layout"
 msgstr "恢复工作区布局"
 
-#: windows/rkworkplace.cpp:584
+#: windows/rkworkplace.cpp:585
 msgid "Previous Window"
 msgstr "前一个窗口"
 
-#: windows/rkworkplace.cpp:589
+#: windows/rkworkplace.cpp:590
 msgid "Next Window"
 msgstr "下一个窗口"
 
-#: windows/rkworkplaceview.cpp:72
+#: windows/rkworkplaceview.cpp:70
 msgid "Window Left"
 msgstr "窗口左侧"
 
-#: windows/rkworkplaceview.cpp:76
+#: windows/rkworkplaceview.cpp:74
 msgid "Window Right"
 msgstr "窗口右侧"
 
diff -Nuar rkward-0.5.3.orig/rkward/CMakeLists.txt rkward-0.5.3/rkward/CMakeLists.txt
--- rkward-0.5.3.orig/rkward/CMakeLists.txt	2010-04-15 11:19:43.000000000 +0300
+++ rkward-0.5.3/rkward/CMakeLists.txt	2010-06-20 20:51:06.951699000 +0300
@@ -52,7 +52,7 @@
 	@ONLY)
 ADD_DEPENDENCIES(rkward.bin ${RKWARD_WRAPPER_SCRIPT})
 
-TARGET_LINK_LIBRARIES(rkward.bin ${KDE4_KDECORE_LIBS} windows ${RKWARD_ADDLIBS} agents dialogs plugin settings dataeditor core scriptbackends rbackend misc ktexteditor ${KDE4_KHTML_LIBS} ${KDE4_KFILE_LIBS} ${KDE4_KDEUI_LIBS} ${QT_QTSCRIPT_LIBRARY})
+TARGET_LINK_LIBRARIES(rkward.bin ${KDE4_KDECORE_LIBS} windows ${RKWARD_ADDLIBS} agents dialogs plugin settings dataeditor core scriptbackends rbackend misc ktexteditor ${KDE4_KHTML_LIBS} ${KDE4_KFILE_LIBS} ${KDE4_KDEUI_LIBS} ${KDE4_KROSSCORE_LIBS} ${QT_QTSCRIPT_LIBRARY})
 
 ########### install files ###############
 
diff -Nuar rkward-0.5.3.orig/rkward/core/CMakeLists.txt rkward-0.5.3/rkward/core/CMakeLists.txt
--- rkward-0.5.3.orig/rkward/core/CMakeLists.txt	2008-01-21 20:58:24.000000000 +0200
+++ rkward-0.5.3/rkward/core/CMakeLists.txt	2010-06-02 18:45:27.313512000 +0300
@@ -11,6 +11,7 @@
    rkmodificationtracker.cpp
    rfunctionobject.cpp
    renvironmentobject.cpp
+   rkrownames.cpp
    )
 
 QT4_AUTOMOC(${core_STAT_SRCS})
diff -Nuar rkward-0.5.3.orig/rkward/core/rcontainerobject.cpp rkward-0.5.3/rkward/core/rcontainerobject.cpp
--- rkward-0.5.3.orig/rkward/core/rcontainerobject.cpp	2010-03-17 10:24:03.000000000 +0200
+++ rkward-0.5.3/rkward/core/rcontainerobject.cpp	2010-06-02 18:45:27.313512000 +0300
@@ -2,7 +2,7 @@
                           rcontainerobject  -  description
                              -------------------
     begin                : Thu Aug 19 2004
-    copyright            : (C) 2004, 2006, 2007, 2009 by Thomas Friedrichsmeier
+    copyright            : (C) 2004, 2006, 2007, 2009, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -23,6 +23,7 @@
 #include "rkvariable.h"
 #include "rfunctionobject.h"
 #include "renvironmentobject.h"
+#include "rkrownames.h"
 
 #include "../rkglobals.h"
 #include "rkmodificationtracker.h"
@@ -32,6 +33,7 @@
 RContainerObject::RContainerObject (RContainerObject *parent, const QString &name) : RObject (parent, name) {
 	RK_TRACE (OBJECTS);
 	type = Container;
+	rownames_object = 0;
 }
 
 RContainerObject::~RContainerObject () {
@@ -41,6 +43,7 @@
 	for (int i = childmap.size () - 1; i >= 0; --i) {
 		delete childmap[i];
 	}
+	delete rownames_object;
 }
 
 RObject *RContainerObject::updateChildStructure (RObject *child, RData *new_data, bool just_created) {
@@ -87,6 +90,7 @@
 		RData *children_sub = new_data->getStructureVector ()[5];
 		RK_ASSERT (children_sub->getDataType () == RData::StructureVector);
 		updateChildren (children_sub);
+		updateRowNamesObject ();
 	} else {
 		RK_ASSERT (false);
 	}
@@ -235,6 +239,30 @@
 	return 0;
 }
 
+RKRowNames* RContainerObject::rowNames () {
+	RK_TRACE (OBJECTS);
+
+	if (!rownames_object) {
+		rownames_object = new RKRowNames (this);
+		updateRowNamesObject ();
+	}
+	return rownames_object;
+}
+
+void RContainerObject::updateRowNamesObject () {
+	RK_TRACE (OBJECTS);
+
+	if (!rownames_object) return;
+
+	int childlen = 0;
+	if (!childmap.isEmpty ()) childlen = childmap[0]->getLength ();
+	rownames_object->dimensions[0] = childlen;
+
+	if (rownames_object->isType (NeedDataUpdate)) {
+		rownames_object->updateDataFromR (0);
+	}
+}
+
 int RContainerObject::getIndexOf (RObject *child) const {
 	RK_TRACE (OBJECTS);
 
diff -Nuar rkward-0.5.3.orig/rkward/core/rcontainerobject.h rkward-0.5.3/rkward/core/rcontainerobject.h
--- rkward-0.5.3.orig/rkward/core/rcontainerobject.h	2008-01-21 20:58:24.000000000 +0200
+++ rkward-0.5.3/rkward/core/rcontainerobject.h	2010-06-02 18:45:27.313512000 +0300
@@ -2,7 +2,7 @@
                           rcontainerobject  -  description
                              -------------------
     begin                : Thu Aug 19 2004
-    copyright            : (C) 2004, 2006, 2007 by Thomas Friedrichsmeier
+    copyright            : (C) 2004, 2006, 2007, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -21,6 +21,7 @@
 
 class RCommand;
 class RKEditor;
+class RKRowNames;
 
 /**
 Internal representation of objects in the R-workspace that contain other objects
@@ -78,9 +79,15 @@
 	void beginEdit () {};
 	/** see beginEdit() */
 	void endEdit () {};
+	/** return an RKVariable representing the row-names object for this container */
+	RKRowNames* rowNames ();
+private:
+	/** usually, we do not update the structure of the row.names() from R, as it is always the same. However, we may need to adjust the length, and this hack does that. */
+	void updateRowNamesObject ();
 protected:
 	void updateChildren (RData *new_children);
 	RObjectMap childmap;
+	RKRowNames *rownames_object;
 	// why do I need this to make it compile?!
 	friend class RObjectList;
 	friend class RObject;
diff -Nuar rkward-0.5.3.orig/rkward/core/renvironmentobject.cpp rkward-0.5.3/rkward/core/renvironmentobject.cpp
--- rkward-0.5.3.orig/rkward/core/renvironmentobject.cpp	2009-09-07 14:02:02.000000000 +0300
+++ rkward-0.5.3/rkward/core/renvironmentobject.cpp	2010-06-27 15:02:13.037392000 +0300
@@ -2,7 +2,7 @@
                           renvironmentobject  -  description
                              -------------------
     begin                : Wed Sep 27 2006
-    copyright            : (C) 2006, 2009 by Thomas Friedrichsmeier
+    copyright            : (C) 2006, 2009, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -52,6 +52,7 @@
 QString REnvironmentObject::getFullName () const {
 	RK_TRACE (OBJECTS);
 
+	if (type & GlobalEnv) return name;	// .GlobalEnv
 	if (type & ToplevelEnv) return ("as.environment (\"" + name + "\")");
 	return parent->makeChildName (name, type & Misplaced);
 }
@@ -117,7 +118,7 @@
 	for (int i = childmap.size () - 1; i >= 0; --i) {
 		RObject *object = childmap[i];
 		if (!current_symbols.contains (object->getShortName ())) {
-			if (!(RKGlobals::tracker ()->removeObject (object, 0, true))) debug_baseline++;
+			if (object->isPending () || (!(RKGlobals::tracker ()->removeObject (object, 0, true)))) debug_baseline++;
 		}
 	}
 
diff -Nuar rkward-0.5.3.orig/rkward/core/rkmodificationtracker.cpp rkward-0.5.3/rkward/core/rkmodificationtracker.cpp
--- rkward-0.5.3.orig/rkward/core/rkmodificationtracker.cpp	2009-05-11 23:30:01.000000000 +0300
+++ rkward-0.5.3/rkward/core/rkmodificationtracker.cpp	2010-06-02 18:45:27.313512000 +0300
@@ -2,7 +2,7 @@
                           rkmodificationtracker  -  description
                              -------------------
     begin                : Tue Aug 31 2004
-    copyright            : (C) 2004, 2007, 2009 by Thomas Friedrichsmeier
+    copyright            : (C) 2004, 2007, 2009, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -341,6 +341,7 @@
 	RK_TRACE (OBJECTS);
 
 	if (!object) return QModelIndex ();
+	if (object->isType (RObject::NonVisibleObject)) return QModelIndex ();
 
 	RContainerObject *parent = object->getContainer ();
 	// must cast to RObject, here. Else casting to void* and back will confuse the hell out of GCC 4.2
diff -Nuar rkward-0.5.3.orig/rkward/core/rkrownames.cpp rkward-0.5.3/rkward/core/rkrownames.cpp
--- rkward-0.5.3.orig/rkward/core/rkrownames.cpp	2010-03-23 22:40:58.000000000 +0200
+++ rkward-0.5.3/rkward/core/rkrownames.cpp	2010-06-16 21:59:46.580712000 +0300
@@ -17,23 +17,208 @@
 
 #include "rkrownames.h"
 
+#include <limits.h>
+
+#include <klocale.h>
+
+#include "rcontainerobject.h"
+#include "../rkglobals.h"
+#include "../rbackend/rinterface.h"
+#include "rkmodificationtracker.h"
+
 #include "../debug.h"
 
 RKRowNames::RKRowNames (RContainerObject *parent) : RKVariable (parent, QString ()) {
 	RK_TRACE (OBJECTS);
 
+	type = Variable | NonVisibleObject;
+
 	setDataType (RObject::DataCharacter);
+	check_duplicates = true;
+	is_sequential_up_to_row = -1;
+
+	name = i18n ("row names");
 }
 
-~RKRowNames::RKRowNames () {
+RKRowNames::~RKRowNames () {
 	RK_TRACE (OBJECTS);
 }
 
+void RKRowNames::beginEdit () {
+	RK_TRACE (OBJECTS);
+
+	bool just_initialized = (data == 0);
+	RKVariable::beginEdit ();
+
+	if (just_initialized) {
+		RK_ASSERT (data);
+		for (int i = 0; i < getLength (); ++i) {
+			data->cell_strings[i] = QString::number (i+1);
+			data->cell_states[i] = RKVarEditData::Valid;
+		}
+		is_sequential_up_to_row = getLength () - 1;
+	}
+}
+
 QString RKRowNames::getFullName () const {
 //	RK_TRACE (OBJECTS);
 
 	return ("row.names (" + parent->getFullName () + ")");
 }
 
-/** Reimplemented to always try to write data as numbers, if possible */
-	void writeData (int from_row, int to_row, RCommandChain *chain=0);
+void RKRowNames::writeData (int from_row, int to_row, RCommandChain *chain) {
+	RK_TRACE (OBJECTS);
+
+	if (isSequential ()) {
+		RKGlobals::rInterface ()->issueCommand (getFullName () + " <- NULL", RCommand::App | RCommand::Sync, QString::null, 0,0, chain);
+	} else {
+		// unfortunately, we always need to write the whole data, as row.names<- does not support indexing.
+		QString data_string = "c (";
+		for (int row = 0; row < getLength (); ++row) {
+			// TODO: use getCharacter and direct setting of vectors.
+			data_string.append (getRText (row));
+			if (row != (getLength () - 1)) {
+				data_string.append (", ");
+			}
+		}
+		data_string.append (")");
+		RKGlobals::rInterface ()->issueCommand (getFullName () + " <- " + data_string, RCommand::App | RCommand::Sync, QString::null, 0, 0, chain);
+	}
+
+	ChangeSet *set = new ChangeSet;
+	set->from_index = from_row;
+	set->to_index = to_row;
+	RKGlobals::tracker ()->objectDataChanged (this, set);
+}
+
+void RKRowNames::setText (int row, const QString &text) {
+	RK_TRACE (OBJECTS);
+
+	lockSyncing (true);
+
+	data->cell_strings[row] = QString ();	// don't get in the way of duplicate checking!
+	QString real_text = text;
+	if (real_text.isEmpty ()) {
+		if (isSequential ()) {
+			real_text = QString::number (row + 1);
+		} else {
+			real_text = i18n ("new.row");		// empty row names are forbidden
+		}
+	}
+
+	bool was_sequential_row = false;
+	if (is_sequential_up_to_row >= (row - 1)) {
+		if (real_text == QString::number (row + 1)) {
+			if (makeUnique (&real_text, true)) {
+				is_sequential_up_to_row = qMax (row, is_sequential_up_to_row);
+				was_sequential_row = true;
+				if (is_sequential_up_to_row == row) {
+					// even more sequential numbers after this?
+					for (int i = row + 1; i < getLength (); ++i) {
+						if (data->cell_strings[i] != QString::number (i + 1)) break;
+						is_sequential_up_to_row = i;
+					}
+				}
+			}
+		}
+	}
+
+	if (!was_sequential_row) {
+		makeUnique (&real_text, false);
+		is_sequential_up_to_row = qMin (row - 1, is_sequential_up_to_row);
+	}
+	RKVariable::setText (row, real_text);
+
+	lockSyncing (false);
+}
+
+bool RKRowNames::makeUnique (QString *text, bool non_sequentials_only) {
+	RK_TRACE (OBJECTS);
+
+	bool from_index = 0;
+	if (non_sequentials_only) from_index = is_sequential_up_to_row + 1;
+
+	QString dummy = *text;
+	for (long i = 0; i < INT_MAX; ++i) {
+		// check whether the text is unique on this iteration
+		bool is_unique = true;
+		for (int row = from_index; row <= getLength (); ++row) {
+			if (dummy == data->cell_strings[row]) {
+				is_unique = false;
+				break;
+			}
+		}
+		if (is_unique) {
+			if (i == 0) {
+				return true;	// was unique on first attempt
+			} else {
+				*text = dummy;
+				return false;
+			}
+		}
+
+		// try adjusted text on next iteration
+		dummy = *text + '.' + QString::number (i);
+	}
+
+	RK_ASSERT (false);
+	return false;
+}
+
+void RKRowNames::insertRows (int row, int count) {
+	RK_TRACE (OBJECTS);
+
+	lockSyncing (true);
+
+	bool was_sequential = isSequential ();
+	RKVariable::insertRows (row, count);
+
+	if (was_sequential) {	// length just increased
+		is_sequential_up_to_row += count;
+		for (int i = row; i < getLength (); ++i) {
+			data->cell_strings[i] = QString::number (i + 1);
+			data->cell_states[i] = RKVarEditData::Valid;	// was set to NA by RKVariable::insertRows
+		}
+	} else {
+		is_sequential_up_to_row = qMin (is_sequential_up_to_row, row - 1);
+		for (int i = row; i < row + count; ++i) {
+			setText (i, QString ());
+		}
+	}
+	// always need to update. If sequential, rows have just changed. If non-sequential, data needs to be written to backend
+	cellsChanged (row, getLength () - 1);
+
+	lockSyncing (false);
+}
+
+void RKRowNames::removeRows (int from_row, int to_row) {
+	RK_TRACE (OBJECTS);
+
+	lockSyncing (true);
+
+	bool was_sequential = isSequential ();
+	RKVariable::removeRows (from_row, to_row);
+
+	if (was_sequential) {	// length just decreased
+		is_sequential_up_to_row -= (to_row - from_row + 1);
+		for (int i = from_row; i < getLength (); ++i) {
+			data->cell_strings[i] = QString::number (i + 1);
+		}
+	} else {
+		is_sequential_up_to_row = qMin (is_sequential_up_to_row, from_row - 1);
+	}
+
+	// always need to update. If sequential, rows have just changed. If non-sequential, data needs to be written to backend
+	cellsChanged (from_row, getLength () - 1);
+
+	lockSyncing (false);
+}
+
+void RKRowNames::setCharacterFromR (int from_row, int to_row, QString *data) {
+	RK_TRACE (OBJECTS);
+
+	is_sequential_up_to_row = -1;
+	check_duplicates = false;
+	RKVariable::setCharacterFromR (from_row, to_row, data);
+	check_duplicates = true;
+}
diff -Nuar rkward-0.5.3.orig/rkward/core/rkrownames.h rkward-0.5.3/rkward/core/rkrownames.h
--- rkward-0.5.3.orig/rkward/core/rkrownames.h	2010-03-23 22:40:18.000000000 +0200
+++ rkward-0.5.3/rkward/core/rkrownames.h	2010-06-16 21:59:46.580712000 +0300
@@ -32,8 +32,26 @@
 	QString getBaseName () const { return QString ("row.names"); };
 /** Reimplemented to do nothing. There is no metadata on the rownames. */
 	void writeMetaData (RCommandChain *) {};
+
 /** Reimplemented to always try to write data as numbers, if possible */
 	void writeData (int from_row, int to_row, RCommandChain *chain=0);
+/** Reimplemented to check, whether the values are all 1:n, custom, or invalid. */
+	void setText (int row, const QString &text);
+/** Reimplemented to also adjust the subsequent row names, if, and only if rownames are 1:n */
+	void removeRows (int from_row, int to_row);
+/** Reimplemented to give the new row and appropriate default name, and to adjust the subsequent row names, if, and only if rownames are 1:n */
+	void insertRows (int row, int count);
+protected:
+/** Reimplemented to disable duplicate checks during the setText() calls within */
+	void setCharacterFromR (int from_row, int to_row, QString *data);
+/** Reimplemented to assume sequential row number on initialization */
+	void beginEdit ();
+private:
+/** @returns: true if the text was already unique, false, if it had to be adjusted */
+	bool makeUnique (QString *text, bool non_sequentials_only);
+	int is_sequential_up_to_row;
+	bool check_duplicates;
+	bool isSequential () { return (is_sequential_up_to_row == (getLength () - 1)); };
 };
 
 #endif
diff -Nuar rkward-0.5.3.orig/rkward/core/rkvariable.cpp rkward-0.5.3/rkward/core/rkvariable.cpp
--- rkward-0.5.3.orig/rkward/core/rkvariable.cpp	2010-03-23 12:53:55.000000000 +0200
+++ rkward-0.5.3/rkward/core/rkvariable.cpp	2010-06-22 14:53:07.592397000 +0300
@@ -60,17 +60,14 @@
 
 	// if the variable is currently opened for editing, all values need to be rechecked / resynced
 	if (data) {
-		bool internal_sync = data->immediate_sync;
 		// quick and dirty approach! TODO: make more efficient
 		QStringList list;
 		for (int i=0; i < getLength (); ++i) {
 			list.append (getText (i));
 		}
 
-		if (data->changes) {	// all pending changes are moot
-			delete data->changes;
-			data->changes = 0;
-		}
+		// all pending changes are moot
+		discardUnsyncedChanges ();
 
 		// store what we want to keep of the edit data
 		int num_listeners = data->num_listeners;
@@ -90,7 +87,7 @@
 		data->num_listeners = num_listeners;
 
 		// re-set all data
-		setSyncing (false);
+		lockSyncing (true);
 		int i = 0;
 		for (QStringList::const_iterator it = list.constBegin (); it != list.constEnd (); ++it) {
 			setText (i, *it);
@@ -107,7 +104,7 @@
 
 			syncDataToR ();
 		}
-		setSyncing (internal_sync);
+		lockSyncing (false);
 	} else {
 		setDataType (new_type);
 	}
@@ -126,9 +123,10 @@
 	if (command->getFlags () == ROBJECT_UDPATE_STRUCTURE_COMMAND) {
 		RObject::rCommandDone (command);
 	} else if (command->getFlags () == GET_DATA_COMMAND) {
-		RK_ASSERT (data);
+		if (!data) return;	// this can happen, if the editor is closed while a data update is still queued.
+
 		// prevent resyncing of data
-		setSyncing (false);
+		lockSyncing (true);
 
 		RK_ASSERT (command->getDataType () == RData::StructureVector);
 		RK_ASSERT (command->getDataLength () == 3);
@@ -152,12 +150,12 @@
 		}
 
 		// now set the data
-		RK_ASSERT (cdata->getDataLength () == (unsigned int) getLength ()); // not a problem due to the line below, I'd still like to know if / when this happens.
+		RK_ASSERT (cdata->getDataLength () == (unsigned int) getLength ()); // not really a problem due to the line below, I'd still like to know if / when this happens.
 		extendToLength (cdata->getDataLength ());
 		if (cdata->getDataType () == RData::StringVector) {
-			setCharacter (0, getLength () - 1, cdata->getStringVector ());
+			setCharacterFromR (0, getLength () - 1, cdata->getStringVector ());
 		} else if (cdata->getDataType () == RData::RealVector) {
-			setNumeric (0, getLength () - 1, cdata->getRealVector ());
+			setNumericFromR (0, getLength () - 1, cdata->getRealVector ());
 		} else if (cdata->getDataType () == RData::IntVector) {
 			unsigned int len = getLength ();
 			double *dd = new double[len];
@@ -165,7 +163,7 @@
 				if (cdata->getIntVector ()[i] == INT_MIN) dd[i] = NAN;
 				else dd[i] = (double) cdata->getIntVector ()[i];
 			}
-			setNumeric (0, getLength () - 1, dd);
+			setNumericFromR (0, getLength () - 1, dd);
 			delete [] dd;
 		}
 
@@ -193,7 +191,8 @@
 		RKGlobals::tracker ()->objectDataChanged (this, set);
 		RKGlobals::tracker ()->objectMetaChanged (this);
 		type -= (type & NeedDataUpdate);
-		setSyncing (true);
+		discardUnsyncedChanges ();
+		lockSyncing (false);
 	} else {
 		RK_ASSERT (false);
 	}
@@ -255,20 +254,20 @@
 	RK_ASSERT (!data);
 	
 	data = new RKVarEditData;
-	data->cell_strings = 0;
-	data->cell_doubles = 0;
-	data->cell_states = 0;
-	data->allocated_length = 0;
-	data->immediate_sync = true;
-	data->changes = 0;
+	data->sync_locks = 0;
 	data->value_labels = 0;
 	data->formatting_options.alignment = FormattingOptions::AlignDefault;
 	data->formatting_options.precision_mode = FormattingOptions::PrecisionDefault;
 	data->formatting_options.precision = 0;
 	data->previously_valid = true;
 	data->num_listeners = 0;
+	discardUnsyncedChanges ();		// initialize
 
-	extendToLength (getLength ());
+	// initialization hack
+	int length = getLength ();
+	dimensions[0] = -1;
+	extendToLength (length);
+	RK_ASSERT (data->cell_states.size () >= getLength ());
 
 	for (int i = 0; i < getLength (); ++i) {
 		data->cell_states[i] = RKVarEditData::NA;
@@ -280,17 +279,8 @@
 
 	RK_ASSERT (data);
 	RK_ASSERT (!(data->num_listeners));
+	RK_ASSERT (data->changes.from_index == -1);
 
-	if (getDataType () == RObject::DataCharacter) {
-		delete [] data->cell_strings;
-		RK_ASSERT (data->cell_doubles == 0);
-	} else {
-		delete [] data->cell_doubles;
-		RK_ASSERT (data->cell_strings == 0);
-	}
-	delete [] data->cell_states;
-
-	RK_ASSERT (!(data->changes));
 	delete data->value_labels;
 	delete data;
 	data = 0;
@@ -305,31 +295,34 @@
 	RKGlobals::rInterface ()->issueCommand (".rk.get.vector.data (" + getFullName () + ')', RCommand::App | RCommand::Sync | RCommand::GetStructuredData, QString::null, this, GET_DATA_COMMAND, chain);
 }
 
-void RKVariable::setSyncing (bool immediate) {
+void RKVariable::lockSyncing (bool lock) {
 	RK_TRACE (OBJECTS);
 	RK_ASSERT (data);
-	
-	data->immediate_sync = immediate;
-	if (!immediate) {
-		if (!data->changes) {
-			data->changes = new ChangeSet;
-			data->changes->from_index = -1;
-			data->changes->to_index = -1;
-		}
-	} else {
-		delete data->changes;
-		data->changes = 0;
+
+	if (lock) data->sync_locks++;
+	else data->sync_locks--;
+	RK_ASSERT (data->sync_locks >= 0);
+
+	if (!(data->sync_locks)) {
+		syncDataToR ();
+		discardUnsyncedChanges ();
 	}
 }
 
+void RKVariable::discardUnsyncedChanges () {
+	RK_TRACE (OBJECTS);
+
+	RK_ASSERT (data);
+	data->changes.from_index = data->changes.to_index = -1;
+}
+
 void RKVariable::syncDataToR () {
 	RK_TRACE (OBJECTS);
-	if (!(data->changes)) return;
+	if (data->changes.from_index == -1) return;
 	
 	// TODO
-	writeData (data->changes->from_index, data->changes->to_index);
-	data->changes->from_index = -1;
-	data->changes->to_index = -1;
+	writeData (data->changes.from_index, data->changes.to_index);
+	discardUnsyncedChanges ();
 }
 
 void RKVariable::restore (RCommandChain *chain) {
@@ -337,7 +330,7 @@
 	RK_ASSERT (data);
 
 	writeData (0, getLength () - 1, chain);
-	delete data->changes;
+	discardUnsyncedChanges ();
 	writeMetaData (chain);
 }
 
@@ -380,25 +373,13 @@
 	RKGlobals::tracker ()->objectDataChanged (this, set);
 }
 
-void RKVariable::cellChanged (int row) {
-	RK_TRACE (OBJECTS);
-	if (data->immediate_sync) {
-		writeData (row, row);
-	} else {
-		RK_ASSERT (data->changes);
-		if ((data->changes->from_index > row) || (data->changes->from_index == -1)) data->changes->from_index = row;
-		if (data->changes->to_index < row) data->changes->to_index = row;
-	}
-}
-
 void RKVariable::cellsChanged (int from_row, int to_row) {
 	RK_TRACE (OBJECTS);
-	if (data->immediate_sync) {
+	if (!data->sync_locks) {
 		writeData (from_row, to_row);
 	} else {
-		RK_ASSERT (data->changes);
-		if ((data->changes->from_index > from_row) || (data->changes->from_index == -1)) data->changes->from_index = from_row;
-		if (data->changes->to_index < to_row) data->changes->to_index = to_row;
+		if ((data->changes.from_index > from_row) || (data->changes.from_index == -1)) data->changes.from_index = from_row;
+		if (data->changes.to_index < to_row) data->changes.to_index = to_row;
 	}
 }
 
@@ -406,65 +387,19 @@
 	RK_TRACE (OBJECTS);
 
 	if (length <= 0) length = 1;
-	if (length < (data->allocated_length - 1)) {
-		dimensions[0] = length;
-		return;
-	}
+	int old_length = getLength ();
+	if (length <= old_length) return;
 
-	int ilength = length + 1;		// be a little generous
-	int target = data->allocated_length;
-	if (!target) target = INITIAL_ALLOC;
-	while (target <= ilength) target = target * ALLOC_STEP;
-	RK_DO (qDebug ("resizing from %d to %d", data->allocated_length, target), OBJECTS, DL_DEBUG);
-
-	// allocate new memory and copy
-	if (getDataType () == RObject::DataCharacter) {
-		RK_ASSERT (data->cell_doubles == 0);
-		QString *new_data = new QString[target];
-		if (data->allocated_length) {		// if not yet allocated, don't mem-move
-			memMoveQStrings (new_data, data->cell_strings, data->allocated_length);
-		}
-		delete [] (data->cell_strings);
-		data->cell_strings = new_data;
-	} else {
-		RK_ASSERT (data->cell_strings == 0);
-		double *new_data = new double[target];
-		if (data->allocated_length) {		// if not yet allocated, don't mem-move
-			memmove (new_data, data->cell_doubles, data->allocated_length * sizeof (double));
-		}
-		delete [] (data->cell_doubles);
-		data->cell_doubles = new_data;
-	}
-	int *new_states = new int[target];
-	if (data->allocated_length) {		// if not yet allocated, don't mem-move
-		memmove (new_states, data->cell_states, data->allocated_length * sizeof (int));
+	// pad storage to required list with "unknown" data
+	for (int i=old_length; i < length; ++i) {
+		if (getDataType () == DataCharacter) data->cell_strings.append (QString ());
+		else data->cell_doubles.append (0.0);
+		data->cell_states.append (RKVarEditData::Unknown);
 	}
-	delete [] (data->cell_states);
-	data->cell_states = new_states;
 
-	// set allocated but unused rows to Unknown
-	for (int i=data->allocated_length; i < target; ++i) {
-		data->cell_states[i] = RKVarEditData::Unknown;
-	}
-
-	data->allocated_length = target;
 	dimensions[0] = length;
 }
 
-void RKVariable::downSize () {
-	RK_TRACE (OBJECTS);
-
-	// TODO: downsizing to values other than 0
-	if (getLength () <= 0) {
-		delete [] data->cell_doubles;
-		data->cell_doubles = 0;
-		delete [] data->cell_strings;
-		data->cell_strings = 0;
-		delete [] data->cell_states;
-		data->cell_states = 0;
-	}
-}
-
 QString RKVariable::getText (int row, bool pretty) const {
 	if (row >= getLength ()) {
 		RK_ASSERT (false);
@@ -488,10 +423,10 @@
 	}
 
 	if (getDataType () == DataCharacter) {
-		RK_ASSERT (data->cell_strings != 0);
+		RK_ASSERT (!data->cell_strings.isEmpty ());
 		return (data->cell_strings[row]);
 	} else {
-		RK_ASSERT (data->cell_doubles != 0);
+		RK_ASSERT (!data->cell_doubles.isEmpty ());
 		if (pretty && (data->formatting_options.precision_mode != FormattingOptions::PrecisionDefault)) {
 			if (data->formatting_options.precision_mode == FormattingOptions::PrecisionRequired) {
 				return QString::number (data->cell_doubles[row], 'g', MAX_PRECISION);
@@ -514,16 +449,15 @@
 	} else if (getDataType () == DataCharacter) {
 		return (rQuote (getText (row)));
 	} else if (getDataType () == DataLogical) {
-		RK_ASSERT (data->cell_doubles != 0);
+		RK_ASSERT (!data->cell_doubles.isEmpty ());
 		if (data->cell_doubles[row] == 0) return ("FALSE");
 		else return ("TRUE");
 	} else {
-		RK_ASSERT (data->cell_doubles != 0);
+		RK_ASSERT (!data->cell_doubles.isEmpty ());
 		return (QString::number (data->cell_doubles[row], 'g', MAX_PRECISION));
 	}
 }
 
-#warning this could/should be merged with setCharacter (which is currently less complete)
 void RKVariable::setText (int row, const QString &text) {
 	RK_TRACE (OBJECTS);
 	RK_ASSERT (row < getLength ());
@@ -540,11 +474,9 @@
 		data->cell_states[row] |= RKVarEditData::NA;
 	} else {
 		if (getDataType () == DataCharacter) {
-			RK_ASSERT (data->cell_strings != 0);
 			data->cell_strings[row] = text;
 			data->cell_states[row] |= RKVarEditData::Valid;
 		} else if (getDataType () == DataFactor) {
-			RK_ASSERT (data->cell_doubles != 0);
 			if (text.isEmpty ()) {
 				data->cell_states[row] |= RKVarEditData::NA;
 			} else if (data->value_labels && data->value_labels->contains (text)) {
@@ -555,7 +487,6 @@
 				data->cell_states[row] |= RKVarEditData::Invalid | RKVarEditData::UnsyncedInvalidState;
 			}
 		} else {
-			RK_ASSERT (data->cell_doubles != 0);
 			bool ok;
 			if (text.isEmpty ()) {
 				data->cell_states[row] |= RKVarEditData::NA;
@@ -570,7 +501,7 @@
 			}
 		}
 	}
-	cellChanged (row);
+	cellsChanged (row, row);
 }
 
 QString RKVariable::getLabeled (int row) const {
@@ -583,20 +514,7 @@
 	return getText (row);
 }
 
-double *RKVariable::getNumeric (int from_row, int to_row) const {
-	RK_TRACE (OBJECTS);
-	if (to_row >= getLength ()) {
-		RK_ASSERT (false);
-		return 0;
-	}
-	RK_ASSERT (from_row <= to_row);
-
-	// TODO: no, this is not good. Return a _copy_!
-	// we simply return the whole array starting at the given offset for now. Change this, if the storage mechanism gets changed!
-	return &(data->cell_doubles[from_row]);
-}
-
-void RKVariable::setNumeric (int from_row, int to_row, double *numdata) {
+void RKVariable::setNumericFromR (int from_row, int to_row, double *numdata) {
 	RK_TRACE (OBJECTS);
 	RK_ASSERT (to_row < getLength ());
 
@@ -657,61 +575,26 @@
 	return ret;
 }
 
-void RKVariable::setCharacter (int from_row, int to_row, QString *txtdata) {
-	RK_TRACE (OBJECTS);
-	RK_ASSERT (to_row < getLength ());
-	
-	if (getDataType () == DataCharacter) {
-		int i=0;
-		for (int row=from_row; row <= to_row; ++row) {
-			if (data->cell_states[row] & RKVarEditData::Invalid) data->cell_states[row] = RKVarEditData::UnsyncedInvalidState;
-			else data->cell_states[row] = 0;
-
-			if (txtdata[i].isNull ()) data->cell_states[row] |= RKVarEditData::NA;
-			else data->cell_states[row] |= RKVarEditData::Valid;
-
-			data->cell_strings[row] = txtdata[i++];
-		}
-	} else {
-		bool old_sync = data->immediate_sync;
-		setSyncing (false);
-		int i=0;
-		for (int row=from_row; row <= to_row; ++row) {
-			setText (row, txtdata[i++]);
-		}
-		if (old_sync) {
-			syncDataToR ();
-			setSyncing (true);
-		}
-		return;
-	}
-	cellsChanged (from_row, to_row);
-}
-
-void RKVariable::setUnknown (int from_row, int to_row) {
+void RKVariable::setCharacterFromR (int from_row, int to_row, QString *txtdata) {
 	RK_TRACE (OBJECTS);
 	RK_ASSERT (to_row < getLength ());
 
-	if ((from_row < 0)) from_row = 0;
-	if ((to_row < 0)) to_row = data->allocated_length - 1;
-		
+	lockSyncing (true);
+	int i=0;
 	for (int row=from_row; row <= to_row; ++row) {
-		data->cell_strings[row] = RKVarEditData::Unknown;
+		setText (row, txtdata[i++]);
 	}
+	lockSyncing (false);
 }
 
 RKVariable::Status RKVariable::cellStatus (int row) const {
+	if (row >= getLength ()) return ValueUnknown;
 	if (data->cell_states[row] == RKVarEditData::Unknown) return ValueUnknown;
 	if (data->cell_states[row] & RKVarEditData::NA) return ValueUnused;
 	if (data->cell_states[row] & RKVarEditData::Invalid) return ValueInvalid;
 	return ValueValid;
 }
 
-void RKVariable::removeRow (int row) {
-	RK_TRACE (OBJECTS);
-	removeRows (row, row);
-}
-
 void RKVariable::removeRows (int from_row, int to_row) {
 	RK_TRACE (OBJECTS);
 
@@ -729,43 +612,30 @@
 		}
 	}
 
-	if (to_row < (data->allocated_length - 1)) {	// not the last rows
-		if (data->cell_strings) {
-			memMoveQStrings (&(data->cell_strings[from_row]), &(data->cell_strings[to_row+1]), (data->allocated_length - to_row - 1));
-		} else {
-			memmove (&(data->cell_doubles[from_row]), &(data->cell_doubles[to_row+1]), (data->allocated_length - to_row - 1) * sizeof (double));
-		}
-		memmove (&(data->cell_states[from_row]), &(data->cell_states[to_row+1]), (data->allocated_length - to_row - 1) * sizeof (int));
-	}
-
-	for (int row = (data->allocated_length - offset); row < data->allocated_length; ++row) {
-		data->cell_states[row] = RKVarEditData::Unknown;
+	for (int row = to_row; row >= from_row; --row) {
+		data->cell_states.removeAt (row);
+		if (getDataType () == DataCharacter) data->cell_strings.removeAt (row);
+		else data->cell_doubles.removeAt (row);
 	}
 
 	for (int i = 0; i < changed_invalids.size (); ++i) {
 		writeInvalidField (changed_invalids[i], 0);
 	}
 
-	dimensions[0] -= offset;	
-	downSize ();
-}
-
-void RKVariable::insertRow (int row) {
-	RK_TRACE (OBJECTS);
-	insertRows (row, 1);
+	dimensions[0] -= offset;
 }
 
 void RKVariable::insertRows (int row, int count) {
 	RK_TRACE (OBJECTS);
-	int old_len = getLength ();
-	extendToLength (getLength () + count);		// getLength is the new length after this!
 
-	for (int i=old_len; i < getLength(); ++i) {
-		data->cell_states[i] = RKVarEditData::NA;
+	for (int i=row; i < row+count; ++i) {
+		data->cell_states.insert (i, RKVarEditData::NA);
+		if (getDataType () == DataCharacter) data->cell_strings.insert (i, QString ());
+		else data->cell_doubles.insert (i, 0.0);
 	}
 
 	QList<int> changed_invalids;
-	for (int i = getLength () - count - 1; i >= row; --i) {
+	for (int i = getLength () - 1; i >= row; --i) {
 		if (data->invalid_fields.contains (i)) {
 			QString dummy = data->invalid_fields.take (i);
 			changed_invalids.append (i);
@@ -774,25 +644,11 @@
 		}
 	}
 
-	if (row >= getLength () && (count == 1)) {		// important special case
-		if (data->cell_strings) data->cell_strings[row+count] = QString::null;
-		if (data->cell_doubles) data->cell_doubles[row+count] = 0.0;
-		data->cell_states[row+count] = RKVarEditData::NA;
-	} else {
-		if (data->cell_strings) {
-			memMoveQStrings (&(data->cell_strings[row+count]), &(data->cell_strings[row]), (data->allocated_length - (row + count) - 1));
-		}
-		if (data->cell_doubles) memmove (&(data->cell_doubles[row+count]), &(data->cell_doubles[row]), (data->allocated_length - (row + count) - 1) * sizeof (double));
-		memmove (&(data->cell_states[row+count]), &(data->cell_states[row]), (data->allocated_length - (row + count) - 1) * sizeof (int));
-	}
-	
-	for (int i=row+count-1; i >= row; --i) {
-		data->cell_states[i] = RKVarEditData::NA;
-	}
-
 	for (int i = 0; i < changed_invalids.size (); ++i) {
 		writeInvalidField (changed_invalids[i], 0);
 	}
+
+	dimensions[0] += count;
 }
 
 RObject::ValueLabels RKVariable::getValueLabels () const {
diff -Nuar rkward-0.5.3.orig/rkward/core/rkvariable.h rkward-0.5.3/rkward/core/rkvariable.h
--- rkward-0.5.3.orig/rkward/core/rkvariable.h	2010-04-15 17:10:06.000000000 +0300
+++ rkward-0.5.3/rkward/core/rkvariable.h	2010-06-15 15:05:24.826215000 +0300
@@ -2,7 +2,7 @@
                           rkvariable  -  description
                              -------------------
     begin                : Thu Aug 12 2004
-    copyright            : (C) 2004, 2007 by Thomas Friedrichsmeier
+    copyright            : (C) 2004, 2007, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -17,7 +17,7 @@
 #ifndef RKVARIABLE_H
 #define RKVARIABLE_H
 
-#include <qstring.h>
+#include <QStringList>
 #include <QHash>
 
 #include "robject.h"
@@ -54,7 +54,7 @@
 	enum Status { ValueUnused=0, ValueValid=1, ValueInvalid=2, ValueUnknown=4 };
 
 /** sets whether changed data should be synced immediately or not. Set this to off for large paste operations. Rember to call setSyncing (true) and syncDataToR () after the paste is complete */
-	void setSyncing (bool immediate);
+	void lockSyncing (bool lock);
 /** syncs pending data changes to the backend */
 	void syncDataToR ();
 /** reimplemented from RObject */
@@ -66,32 +66,18 @@
 /** get the value at the given row in text-form suitable for submission to R. I.e. strings are quoted, numbers are not, empty values are returned as NA */
 	QString getRText (int row) const;
 /** set the value at the given row in text-form. Will try to convert the given string to the internal storage format if possible. */
-	void setText (int row, const QString &text);
+	virtual void setText (int row, const QString &text);
 
-/** get a copy of the numeric values of rows starting from from_index, going to to_index. Do not use this before making sure that the rStorage () is really
-numeric!  TODO: unused  */
-	double *getNumeric (int from_row, int to_row) const;
-/** set numeric values in the given range. Assumes you provide enough values for the range. If internalStorage is String, all values will be converted to strings, so you should use this function only, if you know you are dealing with a numeric object */
-	void setNumeric (int from_row, int to_row, double *data);
-/** like getNumeric, but returns values as an array of QStrings. TODO: unused */
+/** get a copy of the text values of rows from from_index to to_index. TODO: This could be made, but currently is not, more efficient than calling getText in a loop. */
 	QString *getCharacter (int from_row, int to_row) const;
-/** like setNumeric, but sets chars. If internalStorage () is numeric, attempts to convert the given strings to numbers. I.e. the function behaves essentially like setText (), but operates on a range of cells. */
-	void setCharacter (int from_row, int to_row, QString *data);
 	
 /** returns the current status of the given cell */
 	Status cellStatus (int row) const;
 
-/** sets the status of the given range of cells to Unknown (the entire row if from_row and to_row are -1). Usually you call this, when you are about to update the given data-range, but haven't fetched the data for that, yet. The unknown-flag is cleared for the cells, as soon as data is written to those cells. The effect is that the cells will not be editable until the data was updated. */
-	void setUnknown (int from_row=-1, int to_row=-1);
-
-/** entirely remove the given row (i.e. the cell). Will also take care of updating the state (are there any invalid cells left?). Does not sync with the backend for technical reasons! You have to remove the row in the backend explicitly. */
-	void removeRow (int row);
-/** see removeRow (), but removes a range of rows (i.e. cells). Since data only needs to be copied once, this is more efficient than several single calls to removeRow (). Does not sync with the backend for technical reasons! You have to remove the row in the backend explicitly. */
-	void removeRows (int from_row, int to_row);
-/** inserts a row/cell (with empty value) just above the given index. Does not sync with the backend for technical reasons! You have to insert the row in the backend explicitly. */
-	void insertRow (int row);
-/** like insertRow (), but inserts count rows. Does not sync with the backend for technical reasons! You have to insert the row in the backend explicitly. */
-	void insertRows (int row, int count);
+/** entirely remove the given rows (i.e. the cells). Will also take care of updating the state (are there any invalid cells left?). Does not sync with the backend for technical reasons! You have to remove the row in the backend explicitly. */
+	virtual void removeRows (int from_row, int to_row);
+/** inserts count rows (with empty values) just above the given index. Does not sync with the backend for technical reasons! You have to insert the row in the backend explicitly. */
+	virtual void insertRows (int row, int count);
 /** Tells the object it has (data) length len. Usually this will only be called directly after creating a new object */
 	void setLength (int len);
 
@@ -141,12 +127,18 @@
 /** inverse of parseFormattingOptionsString () */
 	static QString formattingOptionsToString (const FormattingOptions& options);
 protected:
+/** Discards pending unsynced changes. */
+	void discardUnsyncedChanges ();
+/** like setNumeric, but sets chars. If internalStorage () is numeric, attempts to convert the given strings to numbers. I.e. the function behaves essentially like setText (), but operates on a range of cells. Code may assume that all data comes directly from R, is entirely valid in R. */
+	virtual void setCharacterFromR (int from_row, int to_row, QString *data);
+/** set numeric values in the given range. Assumes you provide enough values for the range. If internalStorage is String, all values will be converted to strings, so you should use this function only, if you know you are dealing with a numeric object. Code may assume that all data comes directly from R, is entirely valid in R. */
+	void setNumericFromR (int from_row, int to_row, double *data);
 /** reimplemented from RObject to change the internal data storage mode, if the var is being edited */
 	bool updateType (RData *new_data);
 /** Extended from RObject::EditData to actually contain data. */
 	struct RKVarEditData {
-		QString *cell_strings;
-		double *cell_doubles;
+		QStringList cell_strings;
+		QList<double> cell_doubles;
 		enum CellState {
 			Unknown=0,
 			Invalid=1,
@@ -154,14 +146,12 @@
 			Valid=4,
 			UnsyncedInvalidState=8
 		};
-		int *cell_states;
+		QList<int> cell_states;
 
-/// the currently allocated length of cell_data and cell_states. Used to determine, when a re-allocation is required
-		int allocated_length;
 /// see setSyncing
-		bool immediate_sync;
+		int sync_locks;
 /// stores changes if syncing is not immediate
-		ChangeSet *changes;
+		ChangeSet changes;
 /// stores whether there were preivously invalid cells. If so, and there are no longer, now, we may change the mode in the backend.
 		bool previously_valid;
 /** the value-labels or factor levels assigned to this variable. 0 if no values/levels given. TODO: Should this be made a regular (non-pointer) member, or is the saved mem really worth the trouble? */
@@ -179,17 +169,15 @@
 	void beginEdit ();
 /** reimplemented from RObject */
 	void endEdit ();
-private:
+
 /** changes the allocated storage to contain a least length elements. More data may be allocated than acutally needed. This function only ever does upsizing. */
 	void extendToLength (int length);
 /** changes the allocated storage to contain a least getLength elements. More data may be allocated than acutally needed. This function only ever does downsizing. */
 	void downSize ();
-/** takes care of syncing the given cell */
-	void cellChanged (int row);
 /** takes care of syncing the given range of cells */
 	void cellsChanged (int from_row, int to_row);
 /** writes the given range of cells to the backend (regardless of whether syncing should be immediate) */
-	void writeData (int from_row, int to_row, RCommandChain *chain=0);
+	virtual void writeData (int from_row, int to_row, RCommandChain *chain=0);
 	void writeInvalidField (int row, RCommandChain *chain=0);
 /** writes the values labels to the backend */
 	void writeValueLabels (RCommandChain *chain) const;
@@ -200,22 +188,7 @@
 	void allocateEditData ();
 /** discard edit data */
 	void discardEditData ();
-
-/** TODO: QStrings can't be memmoved. We should use QVector/QList instead. */
-	void memMoveQStrings (QString *dst, QString *src, int count) {
-		if (dst > src) {
-			for (int i = count - 1; i >= 0; --i) {
-				dst[i] = src[i];
-			}
-		} else {
-			for (int i = 0; i < count; ++i) {
-				dst[i] = src[i];
-			}
-		}
-	};
 /////////////////// END: data-handling //////////////////////
 };
 
-typedef RKVariable* RKVarPtr;
-
 #endif
diff -Nuar rkward-0.5.3.orig/rkward/core/robject.cpp rkward-0.5.3/rkward/core/robject.cpp
--- rkward-0.5.3.orig/rkward/core/robject.cpp	2009-06-30 14:19:08.000000000 +0300
+++ rkward-0.5.3/rkward/core/robject.cpp	2010-06-27 14:55:37.767368000 +0300
@@ -2,7 +2,7 @@
                           robject  -  description
                              -------------------
     begin                : Thu Aug 19 2004
-    copyright            : (C) 2004, 2006, 2007, 2009 by Thomas Friedrichsmeier
+    copyright            : (C) 2004, 2006, 2007, 2009, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -29,6 +29,7 @@
 #include "renvironmentobject.h"
 #include "rfunctionobject.h"
 #include "rkmodificationtracker.h"
+#include "rkrownames.h"
 
 #include "../debug.h"
 
@@ -51,6 +52,7 @@
 
 	delete [] dimensions;
 	delete [] classnames;
+	cancelOutstandingCommands ();
 }
 
 bool RObject::irregularShortName (const QString &name) {
@@ -314,16 +316,17 @@
 	type -= (type & NeedDataUpdate);
 }
 
-#warning probably we do not really need this. Rather we should always call updateDataFromR recursively, and that will take care of things. (make sure not to overwrite pending changes, though)
 void RObject::markDataDirty () {
 	RK_TRACE (OBJECTS);
 
 	type |= NeedDataUpdate;
 	if (isContainer ()) {
-		RObjectMap children = static_cast<RContainerObject*> (this)->childmap;
+	    RContainerObject* this_container = static_cast<RContainerObject*> (this);
+		RObjectMap children = this_container->childmap;
 		for (int i = children.size () - 1; i >= 0; --i) {
 			children[i]->markDataDirty ();
 		}
+		if (this_container->rownames_object) this_container->rownames_object->markDataDirty ();
 	}
 }
 
diff -Nuar rkward-0.5.3.orig/rkward/core/robject.h rkward-0.5.3/rkward/core/robject.h
--- rkward-0.5.3.orig/rkward/core/robject.h	2009-06-24 14:24:27.000000000 +0300
+++ rkward-0.5.3/rkward/core/robject.h	2010-06-27 15:02:13.037392000 +0300
@@ -2,7 +2,7 @@
                           robject  -  description
                              -------------------
     begin                : Thu Aug 19 2004
-    copyright            : (C) 2004, 2006, 2007, 2009 by Thomas Friedrichsmeier
+    copyright            : (C) 2004, 2006, 2007, 2009, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -45,25 +45,26 @@
 /** types of objects, RKWard knows about */
 	enum RObjectType {
 		DataFrame=1,
-		Matrix=2,
-		Array=4,
-		List=8,
-		Container=16,
-		Variable=32,
-		Workspace=64,
-		Function=128,
-		Environment=256,
-		GlobalEnv=512,
-		ToplevelEnv=1024,
-		PackageEnv=2048,
-		HasMetaObject=4096,
-		Misplaced=8192,		/** < the object is not in the namespace where it would be expected */
+		Matrix=1 << 1,
+		Array=1 << 2,
+		List=1 << 3,
+		Container=1 << 4,
+		Variable=1 << 5,
+		Workspace=1 << 6,
+		Function=1 << 7,
+		Environment=1 << 8,
+		GlobalEnv=1 << 9,
+		ToplevelEnv=1 << 10,
+		PackageEnv=1 << 11,
+		HasMetaObject=1 << 12,
+		Misplaced=1 << 13,		/** < the object is not in the namespace where it would be expected */
 		Numeric=1 << 14,
 		Factor=2 << 14,
 		Character=3 << 14,
 		Logical=4 << 14,
 		DataTypeMask=Numeric | Factor | Character | Logical,
-		NeedDataUpdate=1 << 30,	/** < the object's data should be (re-) fetched from R */
+		NonVisibleObject=1 << 29,	/** < the object is not listed in the object list. Currently, this is only the case for row.names()-objects */
+		NeedDataUpdate=1 << 30,	/** < the object's data should be (re-) fetched from R. The main purpose of this flag is to make sure the data is synced *after* the structure has been synced */
 		Pending=1 << 31		/** < the object is pending, i.e. it has been created in the object list, but we have not seen it in R, yet. This is used by data editors to create the illusion that a new object was added immediately, while in fact it takes some time to create it in the backend. */
 	};
 
@@ -181,6 +182,8 @@
 @param is_canonified the object name may usually have to be canonified. Since this function may be called recursively, canonification may already have occurred on a higher level. In this case the argument is set to true to avoid some duplicate work. When calling from outside always leave the default false.
 @returns a pointer to the object (if found) or 0 if not found */
 	virtual RObject *findObject (const QString &name, bool is_canonified=false) const;
+/** generates a (full) name for a child of this object with the given name. */
+	virtual QString makeChildName (const QString &short_child_name, bool misplaced=false) const;
 protected:
 // why do I need those to compile? I thought they were derived classes!
 	friend class RContainerObject;
@@ -197,8 +200,6 @@
 	QString *classnames;
 	unsigned int num_classes;
 
-/** generates a (full) name for a child of this object with the given name. */
-	virtual QString makeChildName (const QString &short_child_name, bool misplaced=false) const;
 	virtual QString makeChildBaseName (const QString &short_child_name) const;
 
 /** Update object to reflect the structure passed in the new_data argument. If the data is mismatching (i.e. can not be accommodated by this type of object) false is returned (calls canAccommodateStructure () internally). In this case you should delete the object, and create a new one.
diff -Nuar rkward-0.5.3.orig/rkward/core/robjectlist.cpp rkward-0.5.3/rkward/core/robjectlist.cpp
--- rkward-0.5.3.orig/rkward/core/robjectlist.cpp	2010-03-11 16:37:57.000000000 +0200
+++ rkward-0.5.3/rkward/core/robjectlist.cpp	2010-06-27 15:02:13.037392000 +0300
@@ -221,6 +221,10 @@
 		if (!found) return 0;
 
 		return (found->findObject (remainder, true));
+	} else if (canonified.startsWith (".GlobalEnv$")) {
+		return (getGlobalEnv ()->findObject (canonified.mid (11), true));
+	} else if (canonified == ".GlobalEnv") {
+		return (getGlobalEnv ());
 	}
 
 	// no "::"-qualification given, do normal search in all environments, return first match
@@ -248,6 +252,11 @@
 		
 		found->findObjectsMatching (remainder, current_list, true);
 		return;
+	} else if (canonified.startsWith (".GlobalEnv$")) {
+		getGlobalEnv ()->findObjectsMatching (canonified.mid (11), current_list, true);
+		return;
+	} else if (canonified == ".GlobalEnv") {
+		current_list->insert (canonified, getGlobalEnv());	// but do not return, there will be at least one further match in base
 	}
 
 	// no namespace given. Search all environments for matches
diff -Nuar rkward-0.5.3.orig/rkward/core/robjectlist.h rkward-0.5.3/rkward/core/robjectlist.h
--- rkward-0.5.3.orig/rkward/core/robjectlist.h	2010-03-11 16:38:34.000000000 +0200
+++ rkward-0.5.3/rkward/core/robjectlist.h	2010-07-05 14:28:44.339962000 +0300
@@ -51,6 +51,7 @@
 	void updateFromR (RCommandChain *chain, const QStringList &current_searchpath);
 	
 	QString getFullName () const { return QString (); };
+	QString getBaseName () const { return QString (); };
 	QString makeChildName (const QString &short_child_name, bool) const { return short_child_name; };
 	/** reimplemented from RContainerObject: do nothing. The object-list has no meta data. */
 	void writeMetaData (RCommandChain *) {};
diff -Nuar rkward-0.5.3.orig/rkward/core/rownames.patch rkward-0.5.3/rkward/core/rownames.patch
--- rkward-0.5.3.orig/rkward/core/rownames.patch	2010-04-15 17:10:00.000000000 +0300
+++ rkward-0.5.3/rkward/core/rownames.patch	1970-01-01 02:00:00.000000000 +0200
@@ -1,101 +0,0 @@
-Index: rkvariable.h
-===================================================================
---- rkvariable.h	(revision 2808)
-+++ rkvariable.h	(working copy)
-@@ -189,7 +189,7 @@
- /** takes care of syncing the given range of cells */
- 	void cellsChanged (int from_row, int to_row);
- /** writes the given range of cells to the backend (regardless of whether syncing should be immediate) */
--	void writeData (int from_row, int to_row, RCommandChain *chain=0);
-+	virtual void writeData (int from_row, int to_row, RCommandChain *chain=0);
- 	void writeInvalidField (int row, RCommandChain *chain=0);
- /** writes the values labels to the backend */
- 	void writeValueLabels (RCommandChain *chain) const;
-Index: rkrownames.cpp
-===================================================================
---- rkrownames.cpp	(revision 0)
-+++ rkrownames.cpp	(revision 0)
-@@ -0,0 +1,39 @@
-+/***************************************************************************
-+                          rkrownames  -  description
-+                             -------------------
-+    begin                : Tue Mar 21 2010
-+    copyright            : (C) 2010 by Thomas Friedrichsmeier
-+    email                : tfry@users.sourceforge.net
-+ ***************************************************************************/
-+
-+/***************************************************************************
-+ *                                                                         *
-+ *   This program is free software; you can redistribute it and/or modify  *
-+ *   it under the terms of the GNU General Public License as published by  *
-+ *   the Free Software Foundation; either version 2 of the License, or     *
-+ *   (at your option) any later version.                                   *
-+ *                                                                         *
-+ ***************************************************************************/
-+
-+#include "rkrownames.h"
-+
-+#include "../debug.h"
-+
-+RKRowNames::RKRowNames (RContainerObject *parent) : RKVariable (parent, QString ()) {
-+	RK_TRACE (OBJECTS);
-+
-+	setDataType (RObject::DataCharacter);
-+}
-+
-+~RKRowNames::RKRowNames () {
-+	RK_TRACE (OBJECTS);
-+}
-+
-+QString RKRowNames::getFullName () const {
-+//	RK_TRACE (OBJECTS);
-+
-+	return ("row.names (" + parent->getFullName () + ")");
-+}
-+
-+/** Reimplemented to always try to write data as numbers, if possible */
-+	void writeData (int from_row, int to_row, RCommandChain *chain=0);
-Index: rkrownames.h
-===================================================================
---- rkrownames.h	(revision 0)
-+++ rkrownames.h	(revision 0)
-@@ -0,0 +1,39 @@
-+/***************************************************************************
-+                          rkrownames  -  description
-+                             -------------------
-+    begin                : Tue Mar 21 2010
-+    copyright            : (C) 2010 by Thomas Friedrichsmeier
-+    email                : tfry@users.sourceforge.net
-+ ***************************************************************************/
-+
-+/***************************************************************************
-+ *                                                                         *
-+ *   This program is free software; you can redistribute it and/or modify  *
-+ *   it under the terms of the GNU General Public License as published by  *
-+ *   the Free Software Foundation; either version 2 of the License, or     *
-+ *   (at your option) any later version.                                   *
-+ *                                                                         *
-+ ***************************************************************************/
-+
-+#ifndef RKROWNAMES_H
-+#define RKROWNAMES_H
-+
-+#include "rkvariable.h"
-+
-+/** This class represents the row names of a data frame that is open for editing.
-+This object is special in that it exists during editing, only. It is not represented in the RObjectList. */
-+class RKRowNames : public RKVariable {
-+public:
-+	RKRowNames (RContainerObject *parent);
-+	~RKRowNames ();
-+
-+	QString getFullName () const;
-+/** Reimplemented to return "row.names" */
-+	QString getBaseName () const { return QString ("row.names"); };
-+/** Reimplemented to do nothing. There is no metadata on the rownames. */
-+	void writeMetaData (RCommandChain *) {};
-+/** Reimplemented to always try to write data as numbers, if possible */
-+	void writeData (int from_row, int to_row, RCommandChain *chain=0);
-+};
-+
-+#endif
diff -Nuar rkward-0.5.3.orig/rkward/dataeditor/CMakeLists.txt rkward-0.5.3/rkward/dataeditor/CMakeLists.txt
--- rkward-0.5.3.orig/rkward/dataeditor/CMakeLists.txt	2008-01-21 20:58:24.000000000 +0200
+++ rkward-0.5.3/rkward/dataeditor/CMakeLists.txt	2010-06-16 22:02:28.758013000 +0300
@@ -11,7 +11,6 @@
    celleditor.cpp
    editlabelsdialog.cpp
    editformatdialog.cpp
-   rkeditordataframepart.cpp
    rkvareditmodel.cpp
    rktextmatrix.cpp
    )
diff -Nuar rkward-0.5.3.orig/rkward/dataeditor/rkeditordataframe.cpp rkward-0.5.3/rkward/dataeditor/rkeditordataframe.cpp
--- rkward-0.5.3.orig/rkward/dataeditor/rkeditordataframe.cpp	2009-04-06 22:18:27.000000000 +0300
+++ rkward-0.5.3/rkward/dataeditor/rkeditordataframe.cpp	2010-06-30 18:56:34.824492000 +0300
@@ -2,7 +2,7 @@
                           rkeditordataframe  -  description
                              -------------------
     begin                : Fri Aug 20 2004
-    copyright            : (C) 2004, 2006 by Thomas Friedrichsmeier
+    copyright            : (C) 2004, 2006, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -28,7 +28,7 @@
 #include "../core/robjectlist.h"
 #include "../core/renvironmentobject.h"
 #include "../core/rcontainerobject.h"
-#include "rkeditordataframepart.h"
+#include "../misc/rkdummypart.h"
 #include "../windows/rkworkplace.h"
 
 #include "../debug.h"
@@ -45,10 +45,11 @@
 	RK_ASSERT (!object->isPending ());
 	RKEditor::object = object;
 	RK_ASSERT (object->isDataFrame ());
+	setGlobalContextProperty ("current_object", object->getFullName());
 
 	RKVarEditDataFrameModel* model = new RKVarEditDataFrameModel (object, this);
 	initTable (model, object);
-	connect (model, SIGNAL (modelObjectDestroyed()), this, SLOT (deleteLater()));
+	connect (model, SIGNAL (modelObjectDestroyed()), this, SLOT (detachModel()));
 
 	waitForLoad ();
 }
@@ -63,8 +64,9 @@
 
 	RKVarEditDataFrameModel* model = new RKVarEditDataFrameModel (valid, RObjectList::getGlobalEnv (), open_chain, 5, this);
 
-	RKEditor::object = model->getObject ();;
+	RKEditor::object = model->getObject ();
 	RK_ASSERT (object->isDataFrame ());
+	setGlobalContextProperty ("current_object", object->getFullName());
 
 	initTable (model, object);
 	connect (model, SIGNAL (modelObjectDestroyed()), this, SLOT (deleteLater()));
@@ -75,7 +77,8 @@
 void RKEditorDataFrame::commonInit () {
 	RK_TRACE (EDITOR);
 
-	setPart (new RKEditorDataFramePart (this));
+	setPart (new RKDummyPart (this, this));
+	getPart ()->insertChildClient (this);
 	initializeActivationSignals ();
 
 	open_chain = RKGlobals::rInterface ()->startChain (0);
@@ -85,6 +88,14 @@
 	RK_TRACE (EDITOR);
 }
 
+void RKEditorDataFrame::detachModel () {
+	RK_TRACE (EDITOR);
+
+	dataview->setRKModel (0);
+	metaview->setRKModel (0);
+	deleteLater ();
+}
+
 void RKEditorDataFrame::flushChanges () {
 	RK_TRACE (EDITOR);
 	flushEdit ();
@@ -117,3 +128,5 @@
 #warning TODO: this interface should be moved to the model for good.
 	datamodel->restoreObject (object, 0);
 }
+
+#include "rkeditordataframe.moc"
diff -Nuar rkward-0.5.3.orig/rkward/dataeditor/rkeditordataframe.h rkward-0.5.3/rkward/dataeditor/rkeditordataframe.h
--- rkward-0.5.3.orig/rkward/dataeditor/rkeditordataframe.h	2008-01-21 20:58:24.000000000 +0200
+++ rkward-0.5.3/rkward/dataeditor/rkeditordataframe.h	2010-06-27 13:34:00.250942000 +0300
@@ -31,6 +31,7 @@
 @author Thomas Friedrichsmeier
 */
 class RKEditorDataFrame : public TwinTable, public RCommandReceiver {
+	Q_OBJECT
 public:
 /** constructor.
 @param object an existing R object
@@ -47,6 +48,8 @@
 
 /** Tells the editor to restore the given object in the R-workspace from its copy of the data */
 	void restoreObject (RObject *object);
+private slots:
+	void detachModel ();
 private:
 /// syncs the whole table.
 	void pushTable (RCommandChain *sync_chain);
diff -Nuar rkward-0.5.3.orig/rkward/dataeditor/rkeditordataframepart.cpp rkward-0.5.3/rkward/dataeditor/rkeditordataframepart.cpp
--- rkward-0.5.3.orig/rkward/dataeditor/rkeditordataframepart.cpp	2009-05-19 21:12:10.000000000 +0300
+++ rkward-0.5.3/rkward/dataeditor/rkeditordataframepart.cpp	1970-01-01 02:00:00.000000000 +0200
@@ -1,120 +0,0 @@
-/***************************************************************************
-                          rkeditordataframepart  -  description
-                             -------------------
-    begin                : Wed Sep 14 2005
-    copyright            : (C) 2005, 2006, 2007, 2009 by Thomas Friedrichsmeier
-    email                : tfry@users.sourceforge.net
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#include "rkeditordataframepart.h"
-
-#include <qclipboard.h>
-
-#include <kaction.h>
-#include <kactioncollection.h>
-#include <klocale.h>
-
-#include "rkeditordataframe.h"
-#include "../misc/rkstandardicons.h"
-#include "../rkward.h"
-#include "../debug.h"
-
-RKEditorDataFramePart::RKEditorDataFramePart (RKEditorDataFrame* editor) : KParts::Part () {
-	RK_TRACE (EDITOR);
-
-	setComponentData (KGlobal::mainComponent ());
-	RKEditorDataFramePart::editor = editor;
-	setWidget (editor);
-
-	setXMLFile ("rkeditordataframepart.rc");
-
-	initializeActions ();
-}
-
-RKEditorDataFramePart::~RKEditorDataFramePart () {
-	RK_TRACE (EDITOR);
-}
-
-void RKEditorDataFramePart::initializeActions () {
-	RK_TRACE (EDITOR);
-
-	editCut = actionCollection ()->addAction (KStandardAction::Cut, "cut", this, SLOT(slotEditCut()));
-	editor->editActions ()->addAction (editCut);
-	editCopy = actionCollection ()->addAction (KStandardAction::Copy, "copy", this, SLOT(slotEditCopy()));
-//	editor->editActions ()->addAction (editCopy);	// this is a read-only action, not an "edit" action
-	editPaste = actionCollection ()->addAction (KStandardAction::Paste, "paste", this, SLOT(slotEditPaste()));
-	editor->editActions ()->addAction (editPaste);
-
-	editPasteToTable = actionCollection ()->addAction ("paste_to_table", this, SLOT(slotEditPasteToTable()));
-	editPasteToTable->setText (i18n("Paste inside table"));
-	editPasteToTable->setIcon (RKStandardIcons::getIcon (RKStandardIcons::ActionPasteInsideTable));
-	editor->editActions ()->addAction (editPasteToTable);
-
-	editPasteToSelection = actionCollection ()->addAction ("paste_to_selection", this, SLOT(slotEditPasteToSelection()));
-	editPasteToSelection->setText (i18n("Paste inside selection"));
-	editPasteToSelection->setIcon (RKStandardIcons::getIcon (RKStandardIcons::ActionPasteInsideSelection));
-	editor->editActions ()->addAction (editPasteToSelection);
-
-	editCut->setStatusTip (i18n("Cuts the selected section and puts it to the clipboard"));
-	editCopy->setStatusTip (i18n("Copies the selected section to the clipboard"));
-	editPaste->setStatusTip (i18n("Pastes the clipboard contents to actual position"));
-	editPasteToTable->setStatusTip (i18n("Pastes the clipboard contents to actual position, but not beyond the table's boundaries"));
-	editPasteToSelection->setStatusTip (i18n("Pastes the clipboard contents to actual position, but not beyond the boundaries of the current selection"));
-}
-
-void RKEditorDataFramePart::slotEditCut () {
-	RK_TRACE (EDITOR);
-	
-	RKWardMainWindow::getMain ()->slotSetStatusBarText (i18n ("Cutting selection..."));
-	slotEditCopy ();
-	editor->clearSelected ();
-	RKWardMainWindow::getMain ()->slotSetStatusReady ();
-}
-
-void RKEditorDataFramePart::slotEditCopy() {
-	RK_TRACE (EDITOR);
-	
-	RKWardMainWindow::getMain ()->slotSetStatusBarText (i18n ("Copying selection to clipboard..."));
-	editor->copy ();
-	RKWardMainWindow::getMain ()->slotSetStatusReady ();
-}
-
-
-void RKEditorDataFramePart::slotEditPaste() {
-	RK_TRACE (EDITOR);
-	
-	doPaste (RKEditor::PasteEverywhere);
-}
-
-void RKEditorDataFramePart::slotEditPasteToTable() {
-	RK_TRACE (EDITOR);
-	
-	doPaste (RKEditor::PasteToTable);
-}
-
-void RKEditorDataFramePart::slotEditPasteToSelection() {
-	RK_TRACE (EDITOR);
-	
-	doPaste (RKEditor::PasteToSelection);
-}
-
-void RKEditorDataFramePart::doPaste (RKEditor::PasteMode mode) {
-	RK_TRACE (EDITOR);
-
-	RKWardMainWindow::getMain ()->slotSetStatusBarText (i18n ("Inserting clipboard contents..."));
-
-	editor->paste (mode);
-
-	RKWardMainWindow::getMain ()->slotSetStatusReady ();
-}
-
-#include "rkeditordataframepart.moc"
diff -Nuar rkward-0.5.3.orig/rkward/dataeditor/rkeditordataframepart.h rkward-0.5.3/rkward/dataeditor/rkeditordataframepart.h
--- rkward-0.5.3.orig/rkward/dataeditor/rkeditordataframepart.h	2008-01-21 20:58:24.000000000 +0200
+++ rkward-0.5.3/rkward/dataeditor/rkeditordataframepart.h	1970-01-01 02:00:00.000000000 +0200
@@ -1,69 +0,0 @@
-/***************************************************************************
-                          rkeditordataframepart  -  description
-                             -------------------
-    begin                : Wed Sep 14 2005
-    copyright            : (C) 2005, 2007 by Thomas Friedrichsmeier
-    email                : tfry@users.sourceforge.net
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#ifndef RKEDITORDATAFRAMEPART_H
-#define RKEDITORDATAFRAMEPART_H
-
-#include <kparts/part.h>
-
-#include "rkeditor.h"
-
-class RKEditorDataFrame;
-class KAction;
-
-/** This class provides a KPart interface to RKEditorDataFrame. Basically, it is responsible for creating the menu-entries the RKEditorDataFrame provides, and keeps the corresponding Actions. The reason to use this, is so the required menus/menu-items can be merged in on the fly.
-
-@author Thomas Friedrichsmeier
-*/
-class RKEditorDataFramePart : public KParts::Part {
-	Q_OBJECT
-protected:
-friend class RKEditorDataFrame;
-/** ctor. Protected, as this should only be created by an RKEditorDataFrame */
-	RKEditorDataFramePart (RKEditorDataFrame* editor);
-/** dtor */
-	~RKEditorDataFramePart ();
-public slots:
-/** put the marked cells into the clipboard and remove them from the table */
-	void slotEditCut();
-/** put the marked cells into the clipboard */
-	void slotEditCopy();
-/** paste the clipboard into the table, expanding the table as necessary */
-	void slotEditPaste();
-/** paste the clipboard into the table, but not beyond table boundaries */
-	void slotEditPasteToTable();
-/** paste the clipboard into the table, but not beyond selection boundaries	*/
-	void slotEditPasteToSelection();
-/** return a pointer to the underlying editor widget */
-	RKEditorDataFrame *getEditor () const { return editor; };
-private:
-	QAction* editCut;
-	QAction* editCopy;
-	QAction* editPaste;
-	QAction* editPasteToSelection;
-	QAction* editPasteToTable;
-
-/** we could always use static_cast<RKEditorDataFrame*> (widget ()) instead of keeping this pointer. This saves some typing, though */
-	RKEditorDataFrame *editor;
-
-	void initializeActions ();
-
-/** Does pasting (called from the respective slots) */
-	void doPaste (RKEditor::PasteMode mode);
-};
-
-#endif
diff -Nuar rkward-0.5.3.orig/rkward/dataeditor/rkeditordataframepart.rc rkward-0.5.3/rkward/dataeditor/rkeditordataframepart.rc
--- rkward-0.5.3.orig/rkward/dataeditor/rkeditordataframepart.rc	2009-10-06 19:20:51.000000000 +0300
+++ rkward-0.5.3/rkward/dataeditor/rkeditordataframepart.rc	2010-06-16 22:02:28.758013000 +0300
@@ -1,5 +1,5 @@
 <!DOCTYPE kpartgui>
-<kpartgui name="rkeditordataframepart" version="50">
+<kpartgui name="rkeditordataframepart" version="54">
 	<MenuBar>
 		<Menu name="edit"><text>&amp;Edit</text>
 			<Action name="cut"/>
@@ -8,12 +8,35 @@
 			<Action name="paste_to_selection"/>
 			<Action name="paste_to_table"/>
 			<Separator/>
-			<Merge/> 
+			<Action name="show_rownames"/>
+			<Action name="enable_editing"/>
 		</Menu>
-<!--		<Menu name="windows"><text>&amp;Windows</text>
-			<Action name="window_close"/>
-		</Menu>-->
 	</MenuBar>
+	<Menu name="top_header_menu">
+		<Action name="insert_col_left"/>
+		<Action name="delete_col"/>
+		<Separator/>
+		<Action name="show_rownames"/>
+		<Action name="enable_editing"/>
+	</Menu>
+	<Menu name="left_header_menu">
+		<Action name="insert_row_above"/>
+		<Action name="delete_row"/>
+		<Action name="delete_rows"/>
+		<Separator/>
+		<Action name="show_rownames"/>
+		<Action name="enable_editing"/>
+	</Menu>
+	<Menu name="general_context_menu">
+		<Action name="cut"/>
+		<Action name="copy"/>
+		<Action name="paste"/>
+		<Action name="paste_to_selection"/>
+		<Action name="paste_to_table"/>
+		<Separator/>
+		<Action name="show_rownames"/>
+		<Action name="enable_editing"/>
+	</Menu>
 	<ToolBar fullWidth="true" name="mdiToolBar">
 		<Action name="cut"/>
 		<Action name="copy"/>
diff -Nuar rkward-0.5.3.orig/rkward/dataeditor/rkvareditmodel.cpp rkward-0.5.3/rkward/dataeditor/rkvareditmodel.cpp
--- rkward-0.5.3.orig/rkward/dataeditor/rkvareditmodel.cpp	2010-03-17 10:26:20.000000000 +0200
+++ rkward-0.5.3/rkward/dataeditor/rkvareditmodel.cpp	2010-08-31 13:51:01.310263000 +0300
@@ -2,7 +2,7 @@
                           rkvareditmodel  -  description
                              -------------------
     begin                : Mon Nov 05 2007
-    copyright            : (C) 2007 by Thomas Friedrichsmeier
+    copyright            : (C) 2007, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -19,8 +19,11 @@
 
 #include <klocale.h>
 
+#include <QColor>
+
 #include "../core/rcontainerobject.h"
 #include "../core/rkmodificationtracker.h"
+#include "../core/rkrownames.h"
 #include "../rbackend/rinterface.h"
 #include "../rkglobals.h"
 
@@ -31,7 +34,10 @@
 
 	meta_model = 0;
 	trailing_rows = trailing_cols = 0;
+	var_col_offset = 0;
 	edit_blocks = 0;
+	rownames = 0;
+	header_locked = false;
 
 	addNotificationType (RObjectListener::ObjectRemoved);
 	addNotificationType (RObjectListener::MetaChanged);
@@ -73,7 +79,11 @@
 	RK_TRACE (EDITOR);
 
 	int index = objects.indexOf (static_cast<RKVariable*> (object));	// no check for isVariable needed. we only need to look up, if we have this object, and where.
-	if (index < 0) return;	// none of our buisiness
+	if (index < var_col_offset) {
+		if (index < 0) return;	// e.g. the data.frame object
+		// the rownames object should only be deleted, when the whole data.frame is gone)
+		RK_ASSERT (objects.size () <= var_col_offset);
+	}
 
 	beginRemoveColumns (QModelIndex (), index, index);
 	if (meta_model) meta_model->beginRemoveDataObject (index);
@@ -81,7 +91,7 @@
 	if (meta_model) meta_model->endRemoveDataObject ();
 	endRemoveColumns ();
 
-	if (objects.isEmpty ()) emit (modelDepleted ());	// editor may or may want to auto-destruct
+	if (objects.size () <= var_col_offset) emit (modelDepleted ());	// editor may or may want to auto-destruct
 }
 
 void RKVarEditModel::objectMetaChanged (RObject* changed) {
@@ -131,11 +141,12 @@
 	RK_ASSERT (lastrow >= row);
 
 	beginInsertRows (QModelIndex (), row, row+count-1);
+	doInsertRowsInBackend (row, count);
 	for (int i=0; i < objects.size (); ++i) {
 // TODO: this does not emit any data change notifications to other editors
 		objects[i]->insertRows (row, count);
 	}
-	doInsertRowsInBackend (row, count);
+#warning TODO: adjust dimensions of the data.frame!
 	endInsertRows ();
 
 	return true;
@@ -154,11 +165,11 @@
 	RK_ASSERT (lastrow >= row);
 
 	beginRemoveRows (QModelIndex (), row, lastrow);
+	doRemoveRowsInBackend (row, lastrow - row + 1);
 	for (int i=0; i < objects.size (); ++i) {
 // TODO: this does not emit any data change notifications to other editors
 		objects[i]->removeRows (row, lastrow);
 	}
-	doRemoveRowsInBackend (row, lastrow - row + 1);
 	endRemoveRows ();
 
 	return true;
@@ -207,6 +218,11 @@
 		return QVariant ();
 	}
 
+	if (col < var_col_offset) {
+		// TODO: make this look more like a normal header
+		if (role == Qt::ForegroundRole) return (Qt::blue);
+	}
+
 	// on a trailing row / col
 	if ((col >= objects.size ()) || (row >= objects[0]->getLength ())) {
 		if (role == Qt::BackgroundRole) return (Qt::gray);
@@ -225,7 +241,9 @@
 	if (role == Qt::EditRole) return var->getText (row, false);
 
 	RKVariable::Status status = var->cellStatus (row);
-	if ((role == Qt::BackgroundRole) && (status == RKVariable::ValueInvalid)) return (Qt::red);
+	if ((role == Qt::BackgroundRole)) {
+		if (status == RKVariable::ValueInvalid) return (Qt::red);
+	}
 	if ((role == Qt::ForegroundRole) && (status == RKVariable::ValueUnknown)) return (Qt::lightGray);
 	if (role == Qt::TextAlignmentRole) {
 		if (var->getAlignment () == RKVariable::AlignCellLeft) return ((int) Qt::AlignLeft | Qt::AlignVCenter);
@@ -248,6 +266,8 @@
 		return flags;
 	}
 
+	if ((col < var_col_offset) && header_locked) return flags;
+
 	if (!edit_blocks) flags |= Qt::ItemIsEditable | Qt::ItemIsEnabled;
 	if ((col < objects.size ()) && (row < objects[0]->getLength ())) flags |= Qt::ItemIsSelectable;
 
@@ -295,7 +315,11 @@
 		return objects[section]->getShortName ();
 	}
 
-	return QString::number (section + 1);
+	if (section < rownames->getLength ()) {
+		return rownames->getText (section);
+	}
+
+	return QVariant ();
 }
 
 RKTextMatrix RKVarEditModel::getTextMatrix (const QItemSelectionRange& range) const {
@@ -369,10 +393,11 @@
 	int tcol = 0;
 	for (int col = left; col <= right; ++col) {
 		RKVariable* var = objects[col];
-		QString* data = text.getColumn (tcol);
-		RK_ASSERT (data);
-		var->setCharacter (top, bottom, data);
-		delete [] data;		// hm, why doesn't RKVariable take ownership?
+		int trow = 0;
+		for (int row = top; row <= bottom; ++row) {
+			var->setText (row, text.getText (trow, tcol));
+			++trow;
+		}
 		++tcol;
 	}
 }
@@ -451,6 +476,11 @@
 		return QVariant ();
 	}
 
+	if (col < var_col_offset) {
+	  	if (role == Qt::BackgroundRole) return (Qt::lightGray);
+		return QVariant ();
+	}
+
 	// on a trailing col
 	if (col >= data_model->objects.size ()) {
 		if (role == Qt::BackgroundRole) return (Qt::gray);
@@ -488,6 +518,7 @@
 		return flags;
 	}
 
+	if (col < var_col_offset) return flags;
 	if (!data_model->edit_blocks) flags |= Qt::ItemIsEditable | Qt::ItemIsEnabled;
 	if ((col < data_model->objects.size ()) && (row < RowCount)) flags |= Qt::ItemIsSelectable;
 
@@ -505,6 +536,11 @@
 		return false;
 	}
 
+	if (col < var_col_offset) {
+		RK_ASSERT (false);
+		return false;
+	}
+
 	if (col >= data_model->objects.size ()) {		// trailing col
 		// somebody should add a column for us
 		data_model->doInsertColumns (data_model->objects.size (), 1);
@@ -623,11 +659,11 @@
 
 	for (int col = left; col <= right; ++col) {
 		RKVariable* var = data_model->objects[col];
-		var->setSyncing (false);
+		var->lockSyncing (true);
 		for (int row = top; row <= bottom; ++row) {
 			setData (createIndex (row, col), QString (), Qt::EditRole);
 		}
-		var->setSyncing (true);
+		var->lockSyncing (false);
 	}
 }
 
@@ -656,13 +692,12 @@
 	for (int col = left; col <= right; ++col) {
 		int trow = 0;
 		RKVariable* var = data_model->objects[col];
-		var->setSyncing (false);
+		var->lockSyncing (true);
 		for (int row = top; row <= bottom; ++row) {
 			setData (index (row, col), text.getText (trow, tcol), Qt::EditRole);
 			++trow;
 		}
-		var->syncDataToR ();
-		var->setSyncing (true);
+		var->lockSyncing (false);
 		++tcol;
 	}
 }
@@ -714,6 +749,9 @@
 		RK_ASSERT (obj->isVariable ());
 		addObject (i, static_cast<RKVariable*> (obj));
 	}
+	rownames = dataframe->rowNames ();
+	addObject (0, rownames);
+	getMetaModel ()->var_col_offset = var_col_offset = 1;
 }
 
 RKVarEditDataFrameModel::~RKVarEditDataFrameModel () {
@@ -731,6 +769,7 @@
 	}
 
 	if (column > trueCols ()) column = trueCols ();
+	if (column < var_col_offset) column = var_col_offset;
 	for (int col = column; col < (column + count); ++col) {
 		RObject *obj = dataframe->createPendingChild (dataframe->validizeName (QString ()), col);
 		RK_ASSERT (obj->isVariable ());
@@ -750,6 +789,11 @@
 		return false;
 	}
 
+	if (column < var_col_offset) {
+		RK_ASSERT (false);
+		return false;
+	}
+
 	while ((column + count) > objects.size ()) --count;
 	for (int i = column + count - 1; i >= column; --i) {	// we start at the end so that the index remains valid
 		RKGlobals::tracker ()->removeObject (objects[i]);
@@ -779,7 +823,7 @@
 	RK_TRACE (EDITOR);
 
 	if (object == dataframe) {
-		while (!objects.isEmpty ()) RKVarEditModel::objectRemoved (objects[0]);
+		while (!objects.isEmpty ()) RKVarEditModel::objectRemoved (objects.last());		// NOTE: The rownames object (index position 0) must always go away last!
 		stopListenForObject (dataframe);
 		dataframe = 0;
 	}
@@ -798,7 +842,7 @@
 		RObject* child = dataframe->findChildByIndex (index);
 		RK_ASSERT (child);
 
-		if (child->isVariable ()) addObject (index, static_cast<RKVariable*> (child));
+		if (child->isVariable ()) addObject (index + var_col_offset, static_cast<RKVariable*> (child));
 		else RK_ASSERT (false);
 	}
 }
@@ -808,14 +852,14 @@
 
 	if (parent == dataframe) {
 		RObject *child = dataframe->findChildByIndex (new_index);	// it's at the new position, already
-		RK_ASSERT (objects.size () > old_index);
-		RK_ASSERT (child == objects[old_index]);
+		RK_ASSERT (objects.size () > (old_index + var_col_offset));
+		RK_ASSERT (child == objects[old_index + var_col_offset]);
 		// if an object has changed position, there should be at least two objects left. Hence, the objectRemoved-call will never lead to editor destruction
-		RK_ASSERT (objects.size () >= 2);
+		RK_ASSERT (objects.size () >= (var_col_offset + 2));
 		objectRemoved (child);
 
 		RK_ASSERT (child->isVariable ());
-		addObject (new_index, static_cast<RKVariable*> (child));
+		addObject (new_index + var_col_offset, static_cast<RKVariable*> (child));
 	} else {
 		// even though we are listening for the child objects as well, we should see move notifications
 		// only for children of the parent.
@@ -839,8 +883,8 @@
 	RK_ASSERT (objects.size ());
 	RKVariable* child = objects[0];
 	QString na_vector = "=as.numeric (rep (NA, " + QString::number (child->getLength ()) + "))";
-	for (int col=0; col < objects.size (); ++col) {
-		if (col != 0) command.append (", ");
+	for (int col=var_col_offset; col < objects.size (); ++col) {
+		if (col > var_col_offset) command.append (", ");
 		command.append (objects[col]->getShortName () + na_vector);
 	}
 	command.append (")");
diff -Nuar rkward-0.5.3.orig/rkward/dataeditor/rkvareditmodel.h rkward-0.5.3/rkward/dataeditor/rkvareditmodel.h
--- rkward-0.5.3.orig/rkward/dataeditor/rkvareditmodel.h	2008-01-21 20:58:24.000000000 +0200
+++ rkward-0.5.3/rkward/dataeditor/rkvareditmodel.h	2010-06-15 23:29:46.398347000 +0300
@@ -2,7 +2,7 @@
                           rkvareditmodel  -  description
                              -------------------
     begin                : Mon Nov 05 2007
-    copyright            : (C) 2007 by Thomas Friedrichsmeier
+    copyright            : (C) 2007, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -29,6 +29,7 @@
 class RKVarEditMetaModel;
 class RCommandChain;
 class RKEditor;
+class RKRowNames;
 
 /** Base class for RKVarEditModel and RKVarEditMetaModel. Defines a common interface for copy and paste operations. Models might reimplement these functions for more efficiency.
 @author Thomas Friedrichsmeier */
@@ -43,6 +44,9 @@
 
 	virtual int trueRows () const = 0;
 	virtual int trueCols () const = 0;
+	int firstRealColumn () const { return var_col_offset; };
+
+	int var_col_offset;
 };
 
 /** This class represents a collection of RKVariables of uniform length (typically a data.frame) suitable for editing in a model/view editor such as QTableView. Probably it will only ever support editing a single RKVariable, though, as it is not possible to ensure uniform length outside of a data.frame. For a data.frame use RKVarEditDataFrameModel . Since the real data storage is in RKVariable, it is ok (and recommended) to create separate models for separate editors/viewers, even if the objects in question are the same. */
@@ -80,6 +84,7 @@
 
 	int trueCols () const { return objects.size (); };
 	int trueRows () const { return (objects.isEmpty () ? 0 : objects[0]->getLength ()); };
+	void lockHeader (bool lock) { header_locked = lock; };
 
 	virtual void restoreObject (RObject* object, RCommandChain* chain);
 
@@ -92,6 +97,7 @@
 protected:
 friend class RKVarEditMetaModel;
 	QList<RKVariable*> objects;
+	RKRowNames *rownames;
 
 	/** very simple convenience function to return the number of true cols + trailing cols */
 	int apparentCols () const { return (trueCols () + trailing_cols); };
@@ -111,6 +117,7 @@
 	int trailing_cols;
 
 	int edit_blocks;
+	bool header_locked;
 
 	RKVarEditMetaModel* meta_model;
 	RKEditor* myeditor;
diff -Nuar rkward-0.5.3.orig/rkward/dataeditor/twintable.cpp rkward-0.5.3/rkward/dataeditor/twintable.cpp
--- rkward-0.5.3.orig/rkward/dataeditor/twintable.cpp	2008-01-21 20:58:24.000000000 +0200
+++ rkward-0.5.3/rkward/dataeditor/twintable.cpp	2010-06-16 22:02:28.758013000 +0300
@@ -2,7 +2,7 @@
                           twintable.cpp  -  description
                              -------------------
     begin                : Tue Oct 29 2002
-    copyright            : (C) 2002, 2006, 2007 by Thomas Friedrichsmeier
+    copyright            : (C) 2002, 2006, 2007, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -18,6 +18,9 @@
 #include "twintable.h"
 
 #include <klocale.h>
+#include <kaction.h>
+#include <kactioncollection.h>
+#include <kxmlguifactory.h>
 
 #include <qvariant.h>
 #include <qsplitter.h>
@@ -30,10 +33,11 @@
 #include "rkvareditmodel.h"
 #include "../core/rcontainerobject.h"
 #include "../misc/rkstandardicons.h"
+#include "../rkward.h"
 
 #include "../debug.h"
 
-TwinTable::TwinTable (QWidget *parent) : RKEditor (parent), RObjectListener (RObjectListener::Other) {
+TwinTable::TwinTable (QWidget *parent) : RKEditor (parent), RObjectListener (RObjectListener::Other), KXMLGUIClient () {
 	RK_TRACE (EDITOR);
 
 	main_object = 0;
@@ -53,6 +57,7 @@
 	splitter->setStretchFactor (splitter->indexOf (dataview), 1);
 	dataview->verticalHeader ()->setResizeMode (QHeaderView::Fixed);
 	dataview->horizontalHeader ()->hide ();
+	dataview->setAlternatingRowColors (true);
 
 	layout->addWidget (splitter);
 
@@ -70,41 +75,13 @@
 	meta_header_anchor_section = -1;
 
 	// catch header context menu requests
-	connect (dataview, SIGNAL (contextMenuRequest(int,int,const QPoint&)), this, SLOT (dataHeaderContextMenu(int,int,const QPoint&)));
-	connect (metaview, SIGNAL (contextMenuRequest(int,int,const QPoint&)), this, SLOT (metaHeaderContextMenu(int,int,const QPoint&)));
-	
-	// which will be reacted upon by the following popup-menus:
-	top_header_menu = new QMenu (this);
-	action_insert_col_left = top_header_menu->addAction (RKStandardIcons::getIcon (RKStandardIcons::ActionInsertVar), QString (), this, SLOT (insertColumn()));
-	action_insert_col_right = top_header_menu->addAction (RKStandardIcons::getIcon (RKStandardIcons::ActionInsertVar), QString (), this, SLOT (insertColumn()));
-	action_delete_col = top_header_menu->addAction (RKStandardIcons::getIcon (RKStandardIcons::ActionDeleteVar), QString (), this, SLOT (deleteColumn()));
-
-	left_header_menu = new QMenu (this);
-	action_insert_row_above = left_header_menu->addAction (RKStandardIcons::getIcon (RKStandardIcons::ActionInsertRow), QString (), this, SLOT (insertRow()));
-	action_insert_row_below = left_header_menu->addAction (RKStandardIcons::getIcon (RKStandardIcons::ActionInsertRow), QString (), this, SLOT (insertRow()));
-	action_delete_row = left_header_menu->addAction (RKStandardIcons::getIcon (RKStandardIcons::ActionDeleteRow), QString (), this, SLOT (deleteRow()));
-	action_delete_rows = left_header_menu->addAction (RKStandardIcons::getIcon (RKStandardIcons::ActionDeleteRow), QString (), this, SLOT (deleteSelectedRows()));
+	connect (dataview, SIGNAL (contextMenuRequest(int,int,const QPoint&)), this, SLOT (contextMenu(int,int,const QPoint&)));
+	connect (metaview, SIGNAL (contextMenuRequest(int,int,const QPoint&)), this, SLOT (contextMenu(int,int,const QPoint&)));
+	context_menu_table = 0;
+	context_menu_row = context_menu_column = -2;
 
-	// add all actions to a group, so they can be enabled/disabled easily
-	edit_actions = new QActionGroup (this);
-	edit_actions->addAction (action_insert_col_left);
-	edit_actions->addAction (action_insert_col_right);
-	edit_actions->addAction (action_delete_col);
-	edit_actions->addAction (action_insert_row_above);
-	edit_actions->addAction (action_insert_row_below);
-	edit_actions->addAction (action_delete_row);
-	edit_actions->addAction (action_delete_rows);
-
-	action_enable_editing = new QAction (i18n ("Enable editing"), this);
-	action_enable_editing->setCheckable (true);
-	connect (action_enable_editing, SIGNAL (toggled(bool)), this, SLOT (enableEditing(bool)));
-
-// TODO this action should probably be part of a global context menu
-// ... and of course all actions should be moved from the rkeditordataframepart to this class
-	left_header_menu->addAction (action_enable_editing);
-	top_header_menu->addAction (action_enable_editing);
-
-	enableEditing (true);
+	setXMLFile ("rkeditordataframepart.rc");
+	initActions ();
 
 	setFocusPolicy (Qt::StrongFocus);
 }
@@ -117,6 +94,63 @@
 // TODO: are the models auto-destructed?
 }
 
+void TwinTable::initActions () {
+	RK_TRACE (EDITOR);
+
+	editCut = actionCollection ()->addAction (KStandardAction::Cut, "cut", this, SLOT(cut()));
+	editCut->setStatusTip (i18n("Cuts the selected section and puts it to the clipboard"));
+	editCopy = actionCollection ()->addAction (KStandardAction::Copy, "copy", this, SLOT(copy()));
+	editCopy->setStatusTip (i18n("Copies the selected section to the clipboard"));
+//	editor->editActions ()->addAction (editCopy);	// this is a read-only action, not an "edit" action
+	editPaste = actionCollection ()->addAction (KStandardAction::Paste, "paste", this, SLOT(paste()));
+	editPaste->setStatusTip (i18n("Pastes the clipboard contents to current position"));
+
+	editPasteToTable = actionCollection ()->addAction ("paste_to_table", this, SLOT(pasteToTable()));
+	editPasteToTable->setText (i18n("Paste inside table"));
+	editPasteToTable->setIcon (RKStandardIcons::getIcon (RKStandardIcons::ActionPasteInsideTable));
+	editPasteToTable->setStatusTip (i18n("Pastes the clipboard contents to current position, but not beyond the table's boundaries"));
+
+	editPasteToSelection = actionCollection ()->addAction ("paste_to_selection", this, SLOT(pasteToSelection()));
+	editPasteToSelection->setText (i18n("Paste inside selection"));
+	editPasteToSelection->setIcon (RKStandardIcons::getIcon (RKStandardIcons::ActionPasteInsideSelection));
+	editPasteToSelection->setStatusTip (i18n("Pastes the clipboard contents to current position, but not beyond the boundaries of the current selection"));
+
+	// header menus
+	action_insert_col_left = actionCollection ()->addAction ("insert_col_left", this, SLOT (insertColumn()));
+	action_insert_col_left->setIcon (RKStandardIcons::getIcon (RKStandardIcons::ActionInsertVar));
+	action_delete_col = actionCollection ()->addAction ("delete_col", this, SLOT (deleteColumn()));
+	action_delete_col->setIcon (RKStandardIcons::getIcon (RKStandardIcons::ActionDeleteVar));
+
+	action_insert_row_above = actionCollection ()->addAction ("insert_row_above", this, SLOT (insertRow()));
+	action_insert_row_above->setIcon (RKStandardIcons::getIcon (RKStandardIcons::ActionInsertRow));
+	action_delete_row = actionCollection ()->addAction ("delete_row", this, SLOT (deleteRow()));
+	action_delete_row->setIcon (RKStandardIcons::getIcon (RKStandardIcons::ActionDeleteRow));
+	action_delete_rows = actionCollection ()->addAction ("delete_rows", this, SLOT (deleteSelectedRows()));
+	action_delete_rows->setIcon (RKStandardIcons::getIcon (RKStandardIcons::ActionDeleteRow));
+
+	// global actions
+	action_enable_editing = actionCollection ()->addAction ("enable_editing", this, SLOT (enableEditing(bool)));
+	action_enable_editing->setText ("Enable editing");
+	action_enable_editing->setCheckable (true);
+	action_show_rownames = actionCollection ()->addAction ("show_rownames", this, SLOT (showRownames(bool)));
+	action_show_rownames->setText ("Show / Edit row names");
+	action_show_rownames->setCheckable (true);
+
+	// add all edit-actions to a group, so they can be enabled/disabled easily
+	edit_actions = new QActionGroup (this);
+	edit_actions->addAction (editCut);
+	edit_actions->addAction (editPaste);
+	edit_actions->addAction (editPasteToTable);
+	edit_actions->addAction (editPasteToSelection);
+	edit_actions->addAction (action_insert_col_left);
+	edit_actions->addAction (action_delete_col);
+	edit_actions->addAction (action_insert_row_above);
+	edit_actions->addAction (action_delete_row);
+	edit_actions->addAction (action_delete_rows);
+
+	enableEditing (true);
+}
+
 void TwinTable::initTable (RKVarEditModel* model, RObject* object) {
 	RK_TRACE (EDITOR);
 
@@ -131,6 +165,7 @@
 	metaview->setMinimumHeight (metaview->horizontalHeader ()->height ());
 	metaview->setMaximumHeight (metaview->rowHeight (0) * 5 + metaview->horizontalHeader ()->height () + 5);
 	dataview->verticalHeader ()->setFixedWidth (metaview->verticalHeader ()->width ());
+	showRownames (false);
 
 // init caption
 	addNotificationType (RObjectListener::MetaChanged);
@@ -175,118 +210,126 @@
 }
 
 // TODO: handle situation when several entire cols are selected!
-void TwinTable::metaHeaderContextMenu (int row, int col, const QPoint& pos) {
+void TwinTable::contextMenu (int row, int col, const QPoint& pos) {
 	RK_TRACE (EDITOR);
 
-	if (col >= 0) {
-		RK_ASSERT (row == -1);
-		RK_ASSERT (col <= datamodel->trueCols ());
+	RK_ASSERT (context_menu_table == 0);
+	context_menu_row = row;
+	context_menu_column = col;
+	QString container_name;
 
-		action_insert_col_left->setVisible (true);
-		action_insert_col_left->setText (i18n ("Insert new variable left"));	// TODO: show name
-		action_insert_col_left->setData (col);
-		action_insert_col_right->setVisible (col < datamodel->trueCols ());
-		action_insert_col_right->setText (i18n ("Insert new variable right"));	// TODO: show name
-		action_insert_col_right->setData (col+1);
-		action_delete_col->setVisible (col < datamodel->trueCols ());
-		action_delete_col->setText (i18n ("Delete this variable"));	// TODO: show name
-		action_delete_col->setData (col);
+	if (sender () == metaview) {
+		context_menu_table = metaview;
 
-		top_header_menu->popup (pos);
-	}
-}
+		if (row == -1) {	// header
+			action_insert_col_left->setEnabled (rw && (col >= datamodel->firstRealColumn ()));
+			action_insert_col_left->setText (i18n ("Insert new variable left"));	// TODO: show name
 
-void TwinTable::dataHeaderContextMenu (int row, int col, const QPoint& pos) {
-	RK_TRACE (EDITOR);
+			action_delete_col->setEnabled (rw && (col >= datamodel->firstRealColumn ()) && (col < datamodel->trueCols ()));
+			action_delete_col->setText (i18n ("Delete this variable"));	// TODO: show name
 
-	RK_ASSERT (col < 0);
-	if (row >= 0) {
-		RK_ASSERT (row <= datamodel->trueRows ());
+			container_name = "top_header_menu";
+		}
+	} else if (sender () == dataview) {
+		context_menu_table = dataview;
 
-		action_insert_row_above->setVisible (true);
-		action_insert_row_above->setText (i18n ("Insert new case above (at %1)", row + 1));
-		action_insert_row_above->setData (row);
-		action_insert_row_below->setVisible (row < datamodel->trueRows ());
-		action_insert_row_below->setText (i18n ("Insert new case below (at %1)", row + 2));
-		action_insert_row_below->setData (row + 1);
+		if (col == -1) {
+			if (row >= 0) {
+				RK_ASSERT (row <= datamodel->trueRows ());
+
+				action_insert_row_above->setText (i18n ("Insert new case above (at %1)", row + 1));
+
+				QItemSelectionRange sel = dataview->getSelectionBoundaries ();
+				if (sel.isValid () && rw) {
+					int top = sel.top ();
+					int bottom = sel.bottom ();
+					if (bottom >= datamodel->trueRows ()) bottom = datamodel->trueRows () - 1;
+
+					action_delete_rows->setEnabled (top > bottom);
+					if (top > bottom) bottom = top;
+					action_delete_rows->setText (i18n ("Delete marked rows (%1-%2)", (top+1), (bottom+1)));
+				} else {
+					action_delete_rows->setEnabled (false);
+				}
 
-		QItemSelectionRange sel = dataview->getSelectionBoundaries ();
-		if (sel.isValid ()) {
-			int top = sel.top ();
-			int bottom = sel.bottom ();
-			if (bottom >= datamodel->trueRows ()) bottom = datamodel->trueRows () - 1;
-			if (top > bottom) top = bottom;
+				action_delete_row->setEnabled (rw && (row < datamodel->trueRows ()));
+				action_delete_row->setText (i18n ("Delete this row (%1)", (row+1)));
 
-			action_delete_rows->setVisible (true);
-			action_delete_rows->setText (i18n ("Delete marked rows (%1-%2)", (top+1), (bottom+1)));
-		} else {
-			action_delete_rows->setVisible (false);
+				container_name = "left_header_menu";
+			}
 		}
+	} else {
+		RK_ASSERT (sender () == this);
+	}
+
+	if (container_name.isEmpty ()) {	// none of the headers
+		container_name = "general_context_menu";
+	}
 
-		action_delete_row->setVisible (row < datamodel->trueRows ());
-		action_delete_row->setText (i18n ("Delete this row (%1)", (row+1)));
-		action_delete_row->setData (row);
+	RK_ASSERT (factory ());
+	QMenu* menu = dynamic_cast<QMenu*> (factory ()->container (container_name, this));
 
-		left_header_menu->popup (pos);
+	if (menu) {
+		menu->exec (pos);
+	} else {
+		RK_ASSERT (false);	// but may happen, if ui.rc-file was not found
 	}
+
+	context_menu_table = 0;
+	context_menu_row = context_menu_column = -2;
 }
 
 void TwinTable::deleteColumn () {
 	RK_TRACE (EDITOR);
 	RK_ASSERT (rw);
 
-	QObject *s = sender ();
-	int col;
-	if (s == action_delete_col) col = action_delete_col->data ().toInt ();
-	else {
+	if (context_menu_table != metaview) {
 		RK_ASSERT (false);
 		return;
 	}
 
+	RK_ASSERT (context_menu_column >= datamodel->firstRealColumn ());
 	flushEdit ();
-
-	datamodel->removeColumns (col, 1);
+	datamodel->removeColumns (context_menu_column, 1);
 }
 
 void TwinTable::insertColumn () {
 	RK_TRACE (EDITOR);
 	RK_ASSERT (rw);
 
-	QObject *s = sender ();
-	int where;
-	if (s == action_insert_col_left) where = action_insert_col_left->data ().toInt ();
-	else if (s == action_insert_col_right) where = action_insert_col_right->data ().toInt ();
-	else {
+	if (context_menu_table != metaview) {
 		RK_ASSERT (false);
 		return;
 	}
 
+	RK_ASSERT (context_menu_column >= datamodel->firstRealColumn ());
 	flushEdit ();
-
-	datamodel->insertColumns (where, 1);
+	datamodel->insertColumns (context_menu_column, 1);
 }
 
 void TwinTable::deleteRow () {
 	RK_TRACE (EDITOR);
 	RK_ASSERT (rw);
 
-	QObject *s = sender ();
-	int where;
-	if (s == action_delete_row) where = action_delete_row->data ().toInt ();
-	else {
+	if (context_menu_table != dataview) {
 		RK_ASSERT (false);
 		return;
 	}
 
+	RK_ASSERT (context_menu_row > 0);
 	flushEdit ();
-
-	datamodel->removeRows (where, 1);
+	datamodel->removeRows (context_menu_row, 1);
 }
 
 void TwinTable::deleteSelectedRows () {
 	RK_TRACE (EDITOR);
 	RK_ASSERT (rw);
 
+	if (context_menu_table != dataview) {
+		RK_ASSERT (false);
+		return;
+	}
+
 	QItemSelectionRange sel = dataview->getSelectionBoundaries ();
 	if (sel.isValid ()) {
 		int top = sel.top ();
@@ -304,18 +347,14 @@
 	RK_TRACE (EDITOR);
 	RK_ASSERT (rw);
 
-	QObject *s = sender ();
-	int where;
-	if (s == action_insert_row_above) where = action_insert_row_above->data ().toInt ();
-	else if (s == action_insert_row_below) where = action_insert_row_below->data ().toInt ();
-	else {
+	if (context_menu_table != dataview) {
 		RK_ASSERT (false);
 		return;
 	}
 
+	RK_ASSERT (context_menu_row > 0);
 	flushEdit ();
-
-	datamodel->insertRows (where, 1);
+	datamodel->insertRows (context_menu_row, 1);
 }
 
 void TwinTable::copy () {
@@ -333,11 +372,31 @@
 	if (!rw) return;
 
 	flushEdit ();
-	
+
 	TwinTableMember *table = activeTable ();
 	if (!table) return;
 
+	RKWardMainWindow::getMain ()->slotSetStatusBarText (i18n ("Inserting clipboard contents..."));
 	table->paste (paste_mode);
+	RKWardMainWindow::getMain ()->slotSetStatusReady ();
+}
+
+void TwinTable::paste() {
+	RK_TRACE (EDITOR);
+	
+	paste (PasteEverywhere);
+}
+
+void TwinTable::pasteToTable() {
+	RK_TRACE (EDITOR);
+	
+	paste (PasteToTable);
+}
+
+void TwinTable::pasteToSelection() {
+	RK_TRACE (EDITOR);
+	
+	paste (PasteToSelection);
 }
 
 TwinTableMember *TwinTable::activeTable () {
@@ -363,6 +422,13 @@
 	table->blankSelected ();
 }
 
+void TwinTable::cut () {
+	RK_TRACE (EDITOR);
+
+	copy();
+	clearSelected ();
+}
+
 void TwinTable::flushEdit () {
 	RK_TRACE (EDITOR);
 
@@ -397,4 +463,13 @@
 	if (main_object) objectMetaChanged (main_object);	// update_caption;
 }
 
+void TwinTable::showRownames (bool show) {
+	RK_TRACE (EDITOR);
+	RK_ASSERT (show == action_show_rownames->isChecked ());
+
+	metaview->setColumnHidden (0, !show);
+	dataview->setColumnHidden (0, !show);
+	datamodel->lockHeader (!show);
+}
+
 #include "twintable.moc"
diff -Nuar rkward-0.5.3.orig/rkward/dataeditor/twintable.h rkward-0.5.3/rkward/dataeditor/twintable.h
--- rkward-0.5.3.orig/rkward/dataeditor/twintable.h	2008-01-21 20:58:24.000000000 +0200
+++ rkward-0.5.3/rkward/dataeditor/twintable.h	2010-06-16 22:02:28.758013000 +0300
@@ -2,7 +2,7 @@
                           twintable.h  -  description
                              -------------------
     begin                : Tue Oct 29 2002
-    copyright            : (C) 2002, 2006, 2007 by Thomas Friedrichsmeier
+    copyright            : (C) 2002, 2006, 2007, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -23,31 +23,28 @@
 #include <qstring.h>
 #include <QItemSelection>
 
+#include <kxmlguiclient.h>
+
 #include "../core/rkmodificationtracker.h"
 
 class TwinTableMember;
-class QMenu;
 class RKVarEditModel;
 class QActionGroup;
+class KAction;
 
 /**
   *@author Thomas Friedrichsmeier
   */
 
-class TwinTable : public RKEditor, public RObjectListener {
+class TwinTable : public RKEditor, public RObjectListener, public KXMLGUIClient {
 	Q_OBJECT
 public: 
 	TwinTable (QWidget *parent=0);
 	~TwinTable ();
 /** Pastes clipboard content to the current table */
 	void paste (RKEditor::PasteMode paste_mode);
-/** Copy selection in the current table to clipboard */
-	void copy ();
-/** Same as above, but flips the data (i.e. row <-> cols) */
-//	void pasteEncodedFlipped (QByteArray content);
 /** Clear the currently selected cells */
 	void clearSelected ();
-	QString getSelectedText ();
 
 /** Flushes pending edit-operations */
 	void flushEdit ();
@@ -58,23 +55,34 @@
 
 	QActionGroup* editActions () const { return edit_actions; };
 public slots:
-	void dataHeaderContextMenu (int row, int col, const QPoint& pos);
-	void metaHeaderContextMenu (int row, int col, const QPoint& pos);
-
 	void metaHeaderPressed (int section);
 	void metaHeaderEntered (int section);
 	void metaHeaderClicked (int section);
 
 	void enableEditing (bool on);
-private:
-/** PopupMenu shown when top header is right-clicked */
-	QMenu *top_header_menu;
-/** PopupMenu shown when top header is right-clicked */
-	QMenu *left_header_menu;
+	void showRownames (bool show);
 
+/** put the marked cells into the clipboard and remove them from the table */
+	void cut();
+/** Copy selection in the current table to clipboard */
+	void copy();
+/** paste the clipboard into the table, expanding the table as necessary */
+	void paste();
+/** paste the clipboard into the table, but not beyond table boundaries */
+	void pasteToTable();
+/** paste the clipboard into the table, but not beyond selection boundaries	*/
+	void pasteToSelection();
+private:
 	int meta_header_anchor_section;
 /** read-write */
 	bool rw;
+
+/** If currently in one of the context menus, this holds, which table the mouse was pressed over (or 0) */
+	TwinTableMember* context_menu_table;
+/** Only valid, if context_menu_table != 0. Row of current context menu event. -1 for header row. -2 for no cell. */
+	int context_menu_row;
+/** Only valid, if context_menu_table != 0. Column of current context menu event. -1 for header column. -2 for no cell. */
+	int context_menu_column;
 protected:	
 /** Returns the active Table (of the two members), 0 if no table active */
 	TwinTableMember *activeTable ();
@@ -82,22 +90,26 @@
 	TwinTableMember* metaview;
 	TwinTableMember* dataview;
 
-	QAction* action_insert_col_left;
-	QAction* action_insert_col_right;
-	QAction* action_delete_col;
-
-	QAction* action_insert_row_above;
-	QAction* action_insert_row_below;
-	QAction* action_delete_row;
-	QAction* action_delete_rows;
-
-	QAction* action_enable_editing;
+	KAction* action_insert_col_left;
+	KAction* action_delete_col;
+	KAction* action_insert_row_above;
+	KAction* action_delete_row;
+	KAction* action_delete_rows;
+	KAction* action_enable_editing;
+	KAction* action_show_rownames;
+	KAction* editCut;
+	KAction* editCopy;
+	KAction* editPaste;
+	KAction* editPasteToSelection;
+	KAction* editPasteToTable;
 
 	QActionGroup* edit_actions;
 
 /** receives object meta change notifications. This updates the caption */
 	void objectMetaChanged (RObject* changed);
 
+	void initActions ();
+
 	RObject* main_object;
 private slots:
 /** inserts a new column (NOTE the action connected to this signal carries the info, where the column is to be inserted) */
@@ -110,6 +122,8 @@
 	void deleteSelectedRows ();
 /** deletes the column at the current header_pos. Actually it does not really delete the column, but requests object-removal from the model, which will pass the request to RKModifcationTracker */
 	void deleteColumn ();
+/** handle context menu requests from the two members */
+	void contextMenu (int row, int col, const QPoint& pos);
 };
 
 #endif
diff -Nuar rkward-0.5.3.orig/rkward/dataeditor/twintablemember.cpp rkward-0.5.3/rkward/dataeditor/twintablemember.cpp
--- rkward-0.5.3.orig/rkward/dataeditor/twintablemember.cpp	2009-04-07 00:07:30.000000000 +0300
+++ rkward-0.5.3/rkward/dataeditor/twintablemember.cpp	2010-06-16 22:02:28.758013000 +0300
@@ -2,7 +2,7 @@
                           twintablemember.cpp  -  description
                              -------------------
     begin                : Tue Oct 29 2002
-    copyright            : (C) 2002, 2006, 2007, 2009 by Thomas Friedrichsmeier
+    copyright            : (C) 2002, 2006, 2007, 2009, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -39,9 +39,11 @@
 	setSelectionMode (QAbstractItemView::ContiguousSelection);
 
 	verticalHeader ()->setContextMenuPolicy (Qt::CustomContextMenu);
-	connect (verticalHeader (), SIGNAL (customContextMenuRequested(const QPoint&)), this, SLOT (headerContextMenuRequested(const QPoint&)));
+	connect (verticalHeader (), SIGNAL (customContextMenuRequested(const QPoint&)), this, SLOT (handleContextMenuRequest(const QPoint&)));
 	horizontalHeader ()->setContextMenuPolicy (Qt::CustomContextMenu);
-	connect (horizontalHeader (), SIGNAL (customContextMenuRequested(const QPoint&)), this, SLOT (headerContextMenuRequested(const QPoint&)));
+	connect (horizontalHeader (), SIGNAL (customContextMenuRequested(const QPoint&)), this, SLOT (handleContextMenuRequest(const QPoint&)));
+	setContextMenuPolicy (Qt::CustomContextMenu);
+	connect (this, SIGNAL (customContextMenuRequested(const QPoint&)), this, SLOT (handleContextMenuRequest(const QPoint&)));
 
 	updating_twin = false;
 }
@@ -164,12 +166,18 @@
 	QItemSelection sel = selectionModel ()->selection ();
 	if (sel.isEmpty ()){
 		QModelIndex current = currentIndex ();
-		if (!current.isValid ()) return (QItemSelectionRange ());
+		if ((!current.isValid ()) || isIndexHidden (current)) return (QItemSelectionRange ());
 
 		return (QItemSelectionRange (currentIndex (), currentIndex ()));
 	} else {
 		RK_ASSERT (sel.size () == 1);
-		return (sel[0]);
+
+		QItemSelectionRange range = sel[0];
+		while (isColumnHidden (range.left ())) {
+			// purge hidden leading columns from the range
+			range = QItemSelectionRange (mymodel->index (range.top (), range.left () + 1, rootIndex ()), range.bottomRight ());
+		}
+		return (range);
 	}
 }
 
@@ -206,7 +214,7 @@
 	updating_twin = false;
 }
 
-void TwinTableMember::headerContextMenuRequested (const QPoint& pos) {
+void TwinTableMember::handleContextMenuRequest (const QPoint& pos) {
 	RK_TRACE (EDITOR);
 
 	if (sender () == horizontalHeader ()) {
@@ -216,7 +224,14 @@
 		int row = verticalHeader ()->logicalIndexAt (pos);
 		if (row >= 0) emit (contextMenuRequest (row, -1, verticalHeader ()->mapToGlobal (pos)));
 	} else {
-		RK_ASSERT (false);
+		RK_ASSERT (sender () == this);
+
+		int col = columnAt (pos.x ());
+		int row = rowAt (pos.y ());
+		if ((row < 0) || (col < 0)) {
+			row = col = -2;	// to differentiate from the headers, above
+		}
+		emit (contextMenuRequest (row, col, mapToGlobal (pos)));
 	}
 }
 
diff -Nuar rkward-0.5.3.orig/rkward/dataeditor/twintablemember.h rkward-0.5.3/rkward/dataeditor/twintablemember.h
--- rkward-0.5.3.orig/rkward/dataeditor/twintablemember.h	2008-01-21 20:58:24.000000000 +0200
+++ rkward-0.5.3/rkward/dataeditor/twintablemember.h	2010-06-16 22:02:28.758013000 +0300
@@ -2,7 +2,7 @@
                           twintablemember.h  -  description
                              -------------------
     begin                : Tue Oct 29 2002
-    copyright            : (C) 2002, 2006, 2007 by Thomas Friedrichsmeier
+    copyright            : (C) 2002, 2006, 2007, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -108,7 +108,7 @@
 public slots:
 	void editorDone (QWidget* editor, RKItemDelegate::EditorDoneReason);
 protected slots:
-	void headerContextMenuRequested (const QPoint& pos);
+	void handleContextMenuRequest (const QPoint& pos);
 	void updateColWidth (int section, int old_w, int new_w);
 	void tableSelectionChanged (const QItemSelection& selected, const QItemSelection& deselected);
 };
diff -Nuar rkward-0.5.3.orig/rkward/dialogs/rkloadlibsdialog.cpp rkward-0.5.3/rkward/dialogs/rkloadlibsdialog.cpp
--- rkward-0.5.3.orig/rkward/dialogs/rkloadlibsdialog.cpp	2009-10-26 16:47:48.000000000 +0200
+++ rkward-0.5.3/rkward/dialogs/rkloadlibsdialog.cpp	2010-05-18 11:03:31.208911000 +0300
@@ -2,7 +2,7 @@
                           rkloadlibsdialog  -  description
                              -------------------
     begin                : Mon Sep 6 2004
-    copyright            : (C) 2004, 2006, 2007, 2008, 2009 by Thomas Friedrichsmeier
+    copyright            : (C) 2004, 2006, 2007, 2008, 2009, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -170,8 +170,12 @@
 	RK_TRACE (DIALOGS);
 
 	if (packages.isEmpty ()) return false;
-	QString command_string = "install.packages (pkgs=c (\"" + packages.join ("\", \"") + "\")" + ", lib=\"" + to_libloc + "\""; 
-	if (RKSettingsModuleRPackages::archivePackages ()) command_string += ", destdir=\"" + QDir (RKSettingsModuleGeneral::filesPath ()).filePath ("package_archive") + "\"";
+	QString command_string = "install.packages (pkgs=c (\"" + packages.join ("\", \"") + "\")" + ", lib=\"" + to_libloc + "\"";
+	QString downloaddir = QDir (RKSettingsModuleGeneral::filesPath ()).filePath ("package_archive");
+	if (RKSettingsModuleRPackages::archivePackages ()) {
+		QDir (RKSettingsModuleGeneral::filesPath ()).mkdir ("package_archive");
+		command_string += ", destdir=\"" + downloaddir + "\"";
+	}
 	if (install_dependencies) command_string += ", dependencies=TRUE";
 	command_string += ")\n";
 
@@ -189,7 +193,7 @@
 			RK_ASSERT (false);
 #else
 			KUser user;
-			stream << QString ("system (\"chown ") + user.loginName() + ' ' + QDir (RKSettingsModuleGeneral::filesPath ()).filePath ("package_archive") + "/*\")\n";
+			stream << QString ("system (\"chown ") + user.loginName() + ' ' + downloaddir + "/*\")\n";
 #endif
 		}
 		stream << "q ()\n";
diff -Nuar rkward-0.5.3.orig/rkward/main.cpp rkward-0.5.3/rkward/main.cpp
--- rkward-0.5.3.orig/rkward/main.cpp	2010-03-10 13:13:37.000000000 +0200
+++ rkward-0.5.3/rkward/main.cpp	2010-06-15 15:05:24.826215000 +0300
@@ -86,6 +86,7 @@
 	}
 	RKSettingsModuleDebug::debug_file->write (msg);
 	RKSettingsModuleDebug::debug_file->write ("\n");
+	RKSettingsModuleDebug::debug_file->flush ();
 }
 
 int main(int argc, char *argv[]) {
diff -Nuar rkward-0.5.3.orig/rkward/Messages.sh rkward-0.5.3/rkward/Messages.sh
--- rkward-0.5.3.orig/rkward/Messages.sh	2008-01-21 20:58:24.000000000 +0200
+++ rkward-0.5.3/rkward/Messages.sh	1970-01-01 02:00:00.000000000 +0200
@@ -1,4 +0,0 @@
-#! /usr/bin/env bash
-$PREPARETIPS > tips.cpp
-$XGETTEXT -ktranslate:1,1t -ktranslate:1c,2,2t *.cpp *.h -o $podir/rkward.pot
-rm -f tips.cpp
\ Dosya sonunda yenisatır yok.
diff -Nuar rkward-0.5.3.orig/rkward/misc/CMakeLists.txt rkward-0.5.3/rkward/misc/CMakeLists.txt
--- rkward-0.5.3.orig/rkward/misc/CMakeLists.txt	2010-03-15 21:33:36.000000000 +0200
+++ rkward-0.5.3/rkward/misc/CMakeLists.txt	2010-05-05 13:00:21.683323000 +0300
@@ -13,6 +13,7 @@
    rkprogresscontrol.cpp
    rksaveobjectchooser.cpp
    rkdummypart.cpp
+   rkjobsequence.cpp
    rkspecialactions.cpp
    rkstandardicons.cpp
    rkstandardactions.cpp
diff -Nuar rkward-0.5.3.orig/rkward/misc/rkdummypart.rc rkward-0.5.3/rkward/misc/rkdummypart.rc
--- rkward-0.5.3.orig/rkward/misc/rkdummypart.rc	2009-10-06 19:22:39.000000000 +0300
+++ rkward-0.5.3/rkward/misc/rkdummypart.rc	2010-06-29 18:39:12.255787000 +0300
@@ -1,4 +1,4 @@
 <!DOCTYPE kpartgui>
-<kpartgui name="rkward" version="50">
+<kpartgui name="rkward_dummypart" version="54">
 	<!-- Just an empty file to silence warnings -->
 </kpartgui>
\ Dosya sonunda yenisatır yok.
diff -Nuar rkward-0.5.3.orig/rkward/misc/rkjobsequence.cpp rkward-0.5.3/rkward/misc/rkjobsequence.cpp
--- rkward-0.5.3.orig/rkward/misc/rkjobsequence.cpp	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/rkward/misc/rkjobsequence.cpp	2010-09-06 19:43:50.614047000 +0300
@@ -0,0 +1,76 @@
+/***************************************************************************
+                          rkjobsequence  -  description
+                             -------------------
+    begin                : Tue May 04
+    copyright            : (C) 2010 by Thomas Friedrichsmeier
+    email                : tfry@users.sourceforge.net
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#include "rkjobsequence.h"
+
+#include "../debug.h"
+
+RKJobSequence::RKJobSequence () : QObject () {
+	RK_TRACE (MISC);
+}
+
+RKJobSequence::~RKJobSequence () {
+	RK_TRACE (MISC);
+}
+
+void RKJobSequence::addJob (KJob* job) {
+	RK_TRACE (MISC);
+
+	outstanding_jobs.append (job);
+	connect (job, SIGNAL (result(KJob*)), this, SLOT(jobDone(KJob*)));
+}
+
+bool RKJobSequence::hadError () const {
+	RK_TRACE (MISC);
+
+	return (!_errors.isEmpty ());
+}
+
+QStringList RKJobSequence::errors () const {
+	RK_TRACE (MISC);
+
+	return (_errors);
+}
+
+void RKJobSequence::start () {
+	RK_TRACE (MISC);
+
+	nextJob ();
+}
+
+void RKJobSequence::nextJob () {
+	RK_TRACE (MISC);
+
+	if (outstanding_jobs.isEmpty ()) {
+		emit (finished (this));
+		deleteLater ();
+		return;
+	}
+
+	outstanding_jobs.first ()->start ();
+}
+
+void RKJobSequence::jobDone (KJob* job) {
+	RK_TRACE (MISC);
+
+	outstanding_jobs.removeAll (job);
+	if (job->error ()) {
+		_errors.append (job->errorString ());
+	}
+	nextJob ();
+}
+
+#include "rkjobsequence.moc"
diff -Nuar rkward-0.5.3.orig/rkward/misc/rkjobsequence.h rkward-0.5.3/rkward/misc/rkjobsequence.h
--- rkward-0.5.3.orig/rkward/misc/rkjobsequence.h	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/rkward/misc/rkjobsequence.h	2010-05-05 13:00:21.683323000 +0300
@@ -0,0 +1,47 @@
+/***************************************************************************
+                          rkjobsequence  -  description
+                             -------------------
+    begin                : Tue May 04
+    copyright            : (C) 2010 by Thomas Friedrichsmeier
+    email                : tfry@users.sourceforge.net
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#ifndef RKJOBSEQUENCE_H
+#define RKJOBSEQUENCE_H
+
+#include <QStringList>
+
+#include <kjob.h>
+
+/** Simple class to queue up a sequnce of KJob that will be executed one after the other */
+class RKJobSequence : public QObject {
+	Q_OBJECT
+public:
+	RKJobSequence ();
+	~RKJobSequence ();
+
+	void addJob (KJob* job);
+	bool hadError () const;
+	QStringList errors () const;
+	void start ();
+private slots:
+	void jobDone (KJob* job);
+signals:
+	void finished (RKJobSequence *seq);
+private:
+	void nextJob ();
+
+	QList<KJob*> outstanding_jobs;
+	QStringList _errors;
+};
+
+#endif
\ Dosya sonunda yenisatır yok.
diff -Nuar rkward-0.5.3.orig/rkward/misc/rkobjectlistview.cpp rkward-0.5.3/rkward/misc/rkobjectlistview.cpp
--- rkward-0.5.3.orig/rkward/misc/rkobjectlistview.cpp	2008-01-21 20:58:24.000000000 +0200
+++ rkward-0.5.3/rkward/misc/rkobjectlistview.cpp	2010-07-01 20:57:48.822814000 +0300
@@ -2,7 +2,7 @@
                           rkobjectlistview  -  description
                              -------------------
     begin                : Wed Sep 1 2004
-    copyright            : (C) 2004, 2006, 2007 by Thomas Friedrichsmeier
+    copyright            : (C) 2004, 2006, 2007, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -62,6 +62,19 @@
 	}
 }
 
+void RKObjectListView::setRootObject (RObject *root) {
+	RK_TRACE (APP);
+
+	if (!root) return;
+	QModelIndex index = settings->mapFromSource (RKGlobals::tracker ()->indexFor (root));
+	if (index.isValid ()) {
+		setRootIndex (index);
+		resizeColumnToContents (0);
+	} else {
+		RK_ASSERT (false);
+	}
+}
+
 RObject* RKObjectListView::objectAtIndex (const QModelIndex& index) const {
 	RK_TRACE (APP);
 
@@ -115,7 +128,7 @@
 
 	QModelIndex genv = settings->mapFromSource (RKGlobals::tracker ()->indexFor (RObjectList::getGlobalEnv ()));
 	QModelIndex olist = settings->mapFromSource (RKGlobals::tracker ()->indexFor (RObjectList::getObjectList ()));
-	setExpanded (olist, true);
+	setRootIndex (olist);
 	setExpanded (genv, true);
 	setMinimumHeight (rowHeight (genv) * 5);
 	resetWidths ();
diff -Nuar rkward-0.5.3.orig/rkward/misc/rkobjectlistview.h rkward-0.5.3/rkward/misc/rkobjectlistview.h
--- rkward-0.5.3.orig/rkward/misc/rkobjectlistview.h	2008-01-21 20:58:24.000000000 +0200
+++ rkward-0.5.3/rkward/misc/rkobjectlistview.h	2010-07-01 20:57:48.822814000 +0300
@@ -2,7 +2,7 @@
                           rkobjectlistview  -  description
                              -------------------
     begin                : Wed Sep 1 2004
-    copyright            : (C) 2004, 2006, 2007 by Thomas Friedrichsmeier
+    copyright            : (C) 2004, 2006, 2007, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -53,6 +53,7 @@
 
 /** Scrolls so that the item representing object becomes visible, and makes it current */
 	void setObjectCurrent (RObject *object, bool only_if_none_current=false);
+	void setRootObject (RObject *root);
 
 	RObject::ObjectList selectedObjects () const;
 
diff -Nuar rkward-0.5.3.orig/rkward/misc/rkprogresscontrol.cpp rkward-0.5.3/rkward/misc/rkprogresscontrol.cpp
--- rkward-0.5.3.orig/rkward/misc/rkprogresscontrol.cpp	2009-06-09 22:50:41.000000000 +0300
+++ rkward-0.5.3/rkward/misc/rkprogresscontrol.cpp	2010-06-29 13:28:23.782811000 +0300
@@ -2,7 +2,7 @@
                           rkprogresscontol  -  description
                              -------------------
     begin                : Sun Sep 10 2006
-    copyright            : (C) 2006, 2007, 2008, 2009 by Thomas Friedrichsmeier
+    copyright            : (C) 2006, 2007, 2008, 2009, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -237,7 +237,8 @@
 		output_box->setStretchFactor (output_text, 10);
 	}
 	setDetailsWidget (output_box);
-	connect (this, SIGNAL(aboutToShowDetails()), this, SLOT(scrollDown()));
+	// it's important to use a queued connection, here. Otherwise, if the details widget gets shown due to error output, scrollDown() would only scroll to the position directly *above* the new output.
+	connect (this, SIGNAL(aboutToShowDetails()), this, SLOT(scrollDown()), Qt::QueuedConnection);
 
 	KDialog::ButtonCodes button_codes = KDialog::Cancel;
 	if (mode_flags & RKProgressControl::OutputSwitchable) button_codes |= KDialog::Details;
@@ -287,9 +288,6 @@
 void RKProgressControlDialog::scrollDown () {
 	RK_TRACE (MISC);
 
-	// oh what an ugly hack... (to cope with changing slider position just when the details widget becomes visible
-	if (!output_text->isVisible ()) QTimer::singleShot (0, this, SLOT(scrollDown()));
-
 	QScrollBar *bar = output_text->verticalScrollBar ();
 	if (bar) bar->setValue (bar->maximum ());
 }
diff -Nuar rkward-0.5.3.orig/rkward/misc/rksaveobjectchooser.cpp rkward-0.5.3/rkward/misc/rksaveobjectchooser.cpp
--- rkward-0.5.3.orig/rkward/misc/rksaveobjectchooser.cpp	2009-06-24 23:34:44.000000000 +0300
+++ rkward-0.5.3/rkward/misc/rksaveobjectchooser.cpp	2010-06-30 18:55:09.963788000 +0300
@@ -2,7 +2,7 @@
                           rksaveobjectchooser  -  description
                              -------------------
     begin                : Mon Nov 27 2006
-    copyright            : (C) 2006, 2007, 2009 by Thomas Friedrichsmeier
+    copyright            : (C) 2006, 2007, 2009, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -21,69 +21,163 @@
 #include <qcheckbox.h>
 #include <qlabel.h>
 #include <QVBoxLayout>
+#include <QPushButton>
+#include <QTimer>
 
 #include <klocale.h>
+#include <kdialog.h>
+#include <kvbox.h>
 
 #include "../core/robjectlist.h"
 #include "../core/renvironmentobject.h"
+#include "../misc/rkobjectlistview.h"
 
 #include "../debug.h"
 
-RKSaveObjectChooser::RKSaveObjectChooser (QWidget *parent, const QString &initial, const QString &prompt) : QWidget (parent) {
+RKSaveObjectChooser::RKSaveObjectChooser (QWidget *parent, const QString &initial) : QWidget (parent), RObjectListener (RObjectListener::Other) {
 	RK_TRACE (MISC);
 
-	prev_ok = true;
 	object_exists = false;
+	addNotificationType (RObjectListener::ObjectRemoved);
+	addNotificationType (RObjectListener::ChildAdded);
+	root_object = 0;
+	current_object = 0;
 
 	QVBoxLayout *layout = new QVBoxLayout (this);
 	layout->setContentsMargins (0, 0, 0, 0);
 
-	QLabel *label = new QLabel (prompt.isNull () ? i18n ("Object name to save to") : prompt, this);
-	layout->addWidget (label);
+	QHBoxLayout *hlayout = new QHBoxLayout ();
+	root_label = new QLabel (this);
+	hlayout->addWidget (root_label);
+	hlayout->addStretch ();
+	root_button = new QPushButton (i18n ("Change"), this);
+	connect (root_button, SIGNAL (clicked()), this, SLOT (selectRootObject()));
+	hlayout->addWidget (root_button);
+	layout->addLayout (hlayout);
 
 	name_edit = new QLineEdit (this);
 	name_edit->setText (initial);
-	connect (name_edit, SIGNAL (textChanged (const QString &)), this, SLOT (nameEditChanged (const QString &)));
+	connect (name_edit, SIGNAL (textChanged (const QString &)), this, SLOT (updateState()));
 	layout->addWidget (name_edit);
 
 	overwrite_confirm = new QCheckBox (this);
-	connect (overwrite_confirm, SIGNAL (stateChanged (int)), this, SLOT (overwriteConfirmChanged (int)));
+	connect (overwrite_confirm, SIGNAL (stateChanged (int)), this, SLOT (updateState()));
 	layout->addWidget (overwrite_confirm);
 
-	nameEditChanged (QString ());	// initialize
+	// initialize
+	setRootObject (0);
 }
 
 RKSaveObjectChooser::~RKSaveObjectChooser () {
 	RK_TRACE (MISC);
+
+	if (current_object) stopListenForObject (current_object);
+	stopListenForObject (root_object);
 }
 
-void RKSaveObjectChooser::setObjectName (const QString &name) {
+void RKSaveObjectChooser::setRootObject (RObject* new_root) {
 	RK_TRACE (MISC);
 
-	name_edit->setText (name);
-	nameEditChanged (name);
+	if (root_object && (new_root == root_object)) {
+		return;
+	}
+
+	if (root_object) stopListenForObject (root_object);
+	if (!new_root) new_root = RObjectList::getGlobalEnv ();
+	else if (!new_root->isInGlobalEnv ()) new_root = RObjectList::getGlobalEnv ();
+	else if (!new_root->isContainer ()) new_root = RObjectList::getGlobalEnv ();
+	root_object = new_root;
+	listenForObject (root_object);
+
+	root_label->setText (i18n ("Parent object: %1", root_object->getShortName ()));
+
+	updateState ();
+}
+
+void RKSaveObjectChooser::selectRootObject () {
+	RK_TRACE (MISC);
+
+	// TODO: not very pretty, yet
+	KDialog *dialog = new KDialog (this);
+	dialog->setButtons (KDialog::Ok|KDialog::Cancel);
+	dialog->setCaption (i18n ("Select parent object"));
+	dialog->setModal (true);
+	KVBox *page = new KVBox (dialog);
+	dialog->setMainWidget (page);
+
+	RKObjectListView* list_view = new RKObjectListView (page);
+	list_view->setSelectionMode (QAbstractItemView::SingleSelection);
+	list_view->getSettings ()->setSetting (RKObjectListViewSettings::ShowObjectsAllEnvironments, false);
+	list_view->initialize ();
+	list_view->setObjectCurrent (root_object);
+	connect (list_view, SIGNAL (doubleClicked (const QModelIndex&)), dialog, SLOT (accept()));
+
+	dialog->exec ();
+
+	if (dialog->result () == QDialog::Accepted) {
+		RObject::ObjectList sel = list_view->selectedObjects ();
+		if (sel.isEmpty ()) setRootObject (0);
+		else {
+			RK_ASSERT (sel.size () == 1);
+			setRootObject (sel[0]);
+		}
+	}
+
+	delete dialog;
 }
 
-QString RKSaveObjectChooser::validizedSelectedObjectName () {
+void RKSaveObjectChooser::objectRemoved (RObject* removed) {
 	RK_TRACE (MISC);
 
-	return (RObjectList::getGlobalEnv ()->validizeName (name_edit->text (), false));
+	if (removed == root_object) {
+		setRootObject (0);
+	} else if (removed == current_object) {
+		stopListenForObject (removed);
+		current_full_name.clear ();	// hack to achieve proper emittance of change signal
+		QTimer::singleShot (0, this, SLOT (updateState()));
+	} else {
+		RK_ASSERT (false);
+	}
+}
+
+void RKSaveObjectChooser::childAdded (int, RObject* parent) {
+	RK_TRACE (MISC);
+
+	if (parent == root_object) {
+		updateState ();
+	} else {
+		// unusual, but ok
+		RK_ASSERT (parent == current_object);
+	}
+}
+
+void RKSaveObjectChooser::setBaseName (const QString &name) {
+	RK_TRACE (MISC);
+
+	name_edit->setText (name);
+	updateState ();
 }
 
 bool RKSaveObjectChooser::isOk () const {
 	RK_TRACE (MISC);
 
-	return ((!object_exists) || (overwrite_confirm->isChecked ()));
+	if (name_edit->text ().isEmpty ()) return false;
+	return ((!object_exists) || overwrite_confirm->isChecked ());
 }
 
-void RKSaveObjectChooser::nameEditChanged (const QString &) {
+void RKSaveObjectChooser::updateState () {
 	RK_TRACE (MISC);
+	RK_ASSERT (root_object && root_object->isContainer ());
 
-	RObject *object = RObjectList::getGlobalEnv ()->findObject (validizedSelectedObjectName ());
-	if (object) {
+	QString new_name = static_cast<RContainerObject*> (root_object)->validizeName (name_edit->text (), false);
+	if (current_object) stopListenForObject (current_object);
+	current_object = root_object->findObject (new_name);
+	new_name = root_object->makeChildName (new_name);	// make it the full name
+	if (current_object) {
 		object_exists = true;
 		overwrite_confirm->setText (i18n ("Overwrite? (The given object name already exists)"));
 		overwrite_confirm->setEnabled (true);
+		listenForObject (current_object);
 	} else {
 		object_exists = false;
 		overwrite_confirm->setText (i18n ("Overwrite?"));
@@ -91,17 +185,10 @@
 		overwrite_confirm->setChecked (false);
 	}
 
-	if (isOk () != prev_ok) {
-		prev_ok = isOk ();
-		emit (okStatusChanged (isOk ()));
+	if ((new_name != current_full_name) || (sender () == overwrite_confirm)) {
+		current_full_name = new_name;
+		emit (changed (isOk ()));
 	}
-	emit (changed ());
-}
-
-void RKSaveObjectChooser::overwriteConfirmChanged (int) {
-	RK_TRACE (MISC);
-
-	nameEditChanged (QString ());
 }
 
 void RKSaveObjectChooser::setBackgroundColor (const QColor &color) {
@@ -112,4 +199,8 @@
 	name_edit->setPalette (palette);
 }
 
+QString RKSaveObjectChooser::currentBaseName () const {
+	return name_edit->text ();
+}
+
 #include "rksaveobjectchooser.moc"
diff -Nuar rkward-0.5.3.orig/rkward/misc/rksaveobjectchooser.h rkward-0.5.3/rkward/misc/rksaveobjectchooser.h
--- rkward-0.5.3.orig/rkward/misc/rksaveobjectchooser.h	2008-01-21 20:58:24.000000000 +0200
+++ rkward-0.5.3/rkward/misc/rksaveobjectchooser.h	2010-06-27 15:02:13.037392000 +0300
@@ -19,33 +19,46 @@
 #define RKSAVEOBJECTCHOOSER_H
 
 #include <qwidget.h>
+#include "../core/rkmodificationtracker.h"
 
 class QLineEdit;
 class QCheckBox;
+class QPushButton;
+class QLabel;
 
 /** Simple helper widget to select an R symbol name to write something to. */
-class RKSaveObjectChooser : public QWidget {
+class RKSaveObjectChooser : public QWidget, public RObjectListener {
 	Q_OBJECT
 public:
-	RKSaveObjectChooser (QWidget *parent, const QString &initial, const QString &prompt = QString::null);
+	RKSaveObjectChooser (QWidget *parent, const QString &initial);
 	~RKSaveObjectChooser ();
 
-	QString validizedSelectedObjectName ();
+	QString currentFullName () const { return current_full_name; };
+	QString currentBaseName () const;
 	bool isOk () const;
-	void setObjectName (const QString &name);
+	void setBaseName (const QString &name);
 	void setBackgroundColor (const QColor &color);
-public slots:
-	void nameEditChanged (const QString &);
-	void overwriteConfirmChanged (int);
+	RObject* rootObject () const { return root_object; };
+	void setRootObject (RObject* new_root);
+private slots:
+	void updateState ();
+	void selectRootObject ();
 signals:
-	void okStatusChanged (bool);
-	void changed ();
+	void changed (bool);
+protected:
+	void objectRemoved (RObject* removed);
+	void childAdded (int index, RObject* parent);
 private:
 	bool object_exists;
-	bool prev_ok;
 
+	RObject *current_object;
+	RObject *root_object;
+	QLabel *root_label;
+	QPushButton *root_button;
 	QLineEdit *name_edit;
 	QCheckBox *overwrite_confirm;
+
+	QString current_full_name;
 };
 
 #endif
diff -Nuar rkward-0.5.3.orig/rkward/misc/rkstandardicons.cpp rkward-0.5.3/rkward/misc/rkstandardicons.cpp
--- rkward-0.5.3.orig/rkward/misc/rkstandardicons.cpp	2009-08-05 22:56:28.000000000 +0300
+++ rkward-0.5.3/rkward/misc/rkstandardicons.cpp	2010-09-06 13:46:53.362697000 +0300
@@ -2,7 +2,7 @@
                           rkstandardicons  -  description
                              -------------------
     begin                : Wed Oct 24 2007
-    copyright            : (C) 2007, 2009 by Thomas Friedrichsmeier
+    copyright            : (C) 2007, 2009, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -45,8 +45,8 @@
 
 	icons[ActionConfigurePackages] = KIcon ("utilities-file-archiver");
 
-	icons[ActionDeleteRow] = KIcon ("no");
-	icons[ActionInsertRow] = KIcon ("edit-add");
+	icons[ActionDeleteRow] = KIcon ("edit-delete");
+	icons[ActionInsertRow] = KIcon ("list-add");
 	icons[ActionDeleteVar] = icons[ActionDeleteRow];
 	icons[ActionInsertVar] = icons[ActionInsertRow];
 	icons[ActionPasteInsideTable] = QIcon (rkward_icon_base + "paste_inside_table.png");
@@ -57,9 +57,20 @@
 
 	icons[ActionMoveLeft] = KIcon ("go-previous");
 	icons[ActionMoveRight] = KIcon ("go-next");
+	icons[ActionMoveFirst] = KIcon ("go-first");
+	icons[ActionMoveLast] = KIcon ("go-last");
 	icons[ActionMoveUp] = KIcon ("go-up");
 	icons[ActionMoveDown] = KIcon ("go-down");
 
+	icons[ActionDocumentInfo] = KIcon ("documentinfo.png");
+	icons[ActionFlagGreen] = KIcon ("flag-green.png");
+	icons[ActionSnapshot] = KIcon ("list-add.png");
+	icons[ActionListPlots] = KIcon ("view-preview.png");
+	icons[ActionRemovePlot] = KIcon ("list-remove.png");
+	icons[ActionWindowDuplicate] = KIcon ("window-duplicate.png");
+
+	icons[ActionClear] = KIcon ("edit-clear.png");
+
 	icons[ActionDetachWindow] = KIcon ("view-fullscreen");
 	icons[ActionAttachWindow] = KIcon ("view-restore");
 
diff -Nuar rkward-0.5.3.orig/rkward/misc/rkstandardicons.h rkward-0.5.3/rkward/misc/rkstandardicons.h
--- rkward-0.5.3.orig/rkward/misc/rkstandardicons.h	2009-08-05 22:55:43.000000000 +0300
+++ rkward-0.5.3/rkward/misc/rkstandardicons.h	2010-09-06 13:46:53.362697000 +0300
@@ -2,7 +2,7 @@
                           rkstandardicons  -  description
                              -------------------
     begin                : Wed Oct 24 2007
-    copyright            : (C) 2007, 2009 by Thomas Friedrichsmeier
+    copyright            : (C) 2007, 2009, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -57,9 +57,20 @@
 
 		ActionMoveLeft,
 		ActionMoveRight,
+		ActionMoveFirst,
+		ActionMoveLast,
 		ActionMoveUp,
 		ActionMoveDown,
 
+		ActionDocumentInfo,
+		ActionFlagGreen,
+		ActionSnapshot,
+		ActionListPlots,
+		ActionRemovePlot,
+		ActionWindowDuplicate,
+
+		ActionClear,
+
 		ActionDetachWindow,
 		ActionAttachWindow,
 
diff -Nuar rkward-0.5.3.orig/rkward/misc/rkxmlguisyncer.cpp rkward-0.5.3/rkward/misc/rkxmlguisyncer.cpp
--- rkward-0.5.3.orig/rkward/misc/rkxmlguisyncer.cpp	2009-08-06 18:23:24.000000000 +0300
+++ rkward-0.5.3/rkward/misc/rkxmlguisyncer.cpp	2010-06-14 19:31:10.401510000 +0300
@@ -127,6 +127,10 @@
 		}
 		for (int i = 0; i < clients.size (); ++i) {
 			factory->addClient (clients[i]);
+			if (clients[i]->xmlFile ().isEmpty ()) {
+				// somehow config-based settings get lost above, so re-read them, now.
+				clients[i]->actionCollection ()->readSettings();
+			}
 		}
 		RK_DO (qDebug ("done rebuilding factory"), MISC, DL_DEBUG);
 	}
diff -Nuar rkward-0.5.3.orig/rkward/pages/rkward_shortcuts.rkh rkward-0.5.3/rkward/pages/rkward_shortcuts.rkh
--- rkward-0.5.3.orig/rkward/pages/rkward_shortcuts.rkh	2010-03-23 13:10:16.000000000 +0200
+++ rkward-0.5.3/rkward/pages/rkward_shortcuts.rkh	2010-07-15 21:29:07.760989000 +0300
@@ -4,9 +4,9 @@
 	<summary>
 	You can control RKWard in many situations without using a mouse device, using only the keyboard.
 
-	Most shortcuts are configurable, using Settings->Configure Shortcuts. For technical reasons, only the shortcuts of those components will be listed that are eactive
+	Most shortcuts are configurable, using Settings->Configure Shortcuts. For technical reasons, only the shortcuts of those components will be listed that are active
 	at that time. Hence, for example, if you want to edit the shortcuts for the data editor, first open a data editor, then select Settings->Configure Shortcuts.
-	Most shorcuts for the script editor are managed separately using Settings->Configure Editor->Shortcuts.
+	Most shortcuts for the script editor are managed separately using Settings->Configure Editor->Shortcuts.
 
 	On most systems, you can also configure shortcuts by right-clicking on the respective menu item.
 	</summary>
diff -Nuar rkward-0.5.3.orig/rkward/plugin/rkcomponent.cpp rkward-0.5.3/rkward/plugin/rkcomponent.cpp
--- rkward-0.5.3.orig/rkward/plugin/rkcomponent.cpp	2010-02-21 13:23:42.000000000 +0200
+++ rkward-0.5.3/rkward/plugin/rkcomponent.cpp	2010-06-20 20:51:06.951699000 +0300
@@ -294,6 +294,8 @@
 	if (parentComponent ()) {
 		parentComponent ()->changed ();
 	}
+
+	emit (componentChanged (this));
 }
 
 void RKComponent::removeFromParent () {
diff -Nuar rkward-0.5.3.orig/rkward/plugin/rkcomponent.h rkward-0.5.3/rkward/plugin/rkcomponent.h
--- rkward-0.5.3.orig/rkward/plugin/rkcomponent.h	2010-02-19 20:08:55.000000000 +0200
+++ rkward-0.5.3/rkward/plugin/rkcomponent.h	2010-06-20 20:51:06.951699000 +0300
@@ -181,6 +181,9 @@
 protected slots:
 /** if a child component self-destructs, it should remove itself from its parent *before* destructing. Don't use in a regular destructor. Call only if the child dies unexpectedly */
 	void removeFromParent ();
+signals:
+/** emitted from changed() */
+	void componentChanged (RKComponent* component);
 protected:
 	RKComponentPropertyBool *visibility_property;
 	RKComponentPropertyBool *enabledness_property;
diff -Nuar rkward-0.5.3.orig/rkward/plugin/rkpluginsaveobject.cpp rkward-0.5.3/rkward/plugin/rkpluginsaveobject.cpp
--- rkward-0.5.3.orig/rkward/plugin/rkpluginsaveobject.cpp	2009-06-28 23:22:54.000000000 +0300
+++ rkward-0.5.3/rkward/plugin/rkpluginsaveobject.cpp	2010-06-27 15:02:13.037392000 +0300
@@ -2,7 +2,7 @@
                           rkpluginsaveobject  -  description
                              -------------------
     begin                : Tue Jan 30 2007
-    copyright            : (C) 2007 by Thomas Friedrichsmeier
+    copyright            : (C) 2007, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -18,6 +18,7 @@
 #include "rkpluginsaveobject.h"
 
 #include <QVBoxLayout>
+#include <QGroupBox>
 
 #include <klocale.h>
 
@@ -29,55 +30,92 @@
 RKPluginSaveObject::RKPluginSaveObject (const QDomElement &element, RKComponent *parent_component, QWidget *parent_widget) : RKComponent (parent_component, parent_widget) {
 	RK_TRACE (PLUGIN);
 
-	// get xml-helper
+	// read settings
 	XMLHelper *xml = XMLHelper::getStaticHelper ();
 
-	// create and add property
-	addChild ("selection", selection = new RKComponentPropertyBase (this, xml->getBoolAttribute (element, "required", true, DL_INFO)));
-	connect (selection, SIGNAL (valueChanged (RKComponentPropertyBase *)), this, SLOT (selectionChanged (RKComponentPropertyBase *)));
+	bool checkable = xml->getBoolAttribute (element, "checkable", false, DL_INFO);
+	bool checked = xml->getBoolAttribute (element, "checked", false, DL_INFO);
+	bool required = xml->getBoolAttribute (element, "required", true, DL_INFO);
+	QString label = xml->getStringAttribute (element, "label", i18n ("Save to:"), DL_INFO);
+	QString initial = xml->getStringAttribute (element, "initial", i18n ("my.data"), DL_INFO);
+
+	// create and add properties
+	addChild ("selection", selection = new RKComponentPropertyBase (this, required));
+	connect (selection, SIGNAL (valueChanged (RKComponentPropertyBase *)), this, SLOT (externalChange ()));
+	selection->setInternal (true);	// the two separate properties "parent" and "objectname" are used for (re-)storing.
+	addChild ("parent", parent = new RKComponentPropertyRObjects (this, false));
+	connect (parent, SIGNAL (valueChanged (RKComponentPropertyBase *)), this, SLOT (externalChange ()));
+	addChild ("objectname", objectname = new RKComponentPropertyBase (this, false));
+	connect (objectname, SIGNAL (valueChanged (RKComponentPropertyBase *)), this, SLOT (externalChange ()));
+	addChild ("active", active = new RKComponentPropertyBool (this, false, false, "1", "0"));
+	connect (active, SIGNAL (valueChanged (RKComponentPropertyBase *)), this, SLOT (externalChange ()));
+	if (!checkable) active->setInternal (true);
+
+	// create GUI
+	groupbox = new QGroupBox (label, this);
+	groupbox->setCheckable (checkable);
+	if (checkable) groupbox->setChecked (checked);
+	connect (groupbox, SIGNAL (toggled(bool)), this, SLOT (internalChange ()));
+
+	selector = new RKSaveObjectChooser (groupbox, initial);
+	connect (selector, SIGNAL (changed (bool)), SLOT (internalChange ()));
 
 	QVBoxLayout *vbox = new QVBoxLayout (this);
 	vbox->setContentsMargins (0, 0, 0, 0);
 
-	selector = new RKSaveObjectChooser (this, xml->getStringAttribute (element, "initial", i18n ("my.data"), DL_INFO), xml->getStringAttribute (element, "label", i18n ("Save to:"), DL_INFO));
-	connect (selector, SIGNAL (changed ()), SLOT (selectionChanged ()));
-	connect (selector, SIGNAL (okStatusChanged (bool)), SLOT (selectionChanged (bool)));
+	QVBoxLayout *vbox_b = new QVBoxLayout (groupbox);
+	vbox_b->setContentsMargins (0, 0, 0, 0);
+	vbox_b->addWidget (selector);
 
-	vbox->addWidget (selector);
+	vbox->addWidget (groupbox);
 
 	// initialize
+	setRequired (required);
 	updating = false;
-	selectionChanged ();
+	internalChange ();
 }
 
 RKPluginSaveObject::~RKPluginSaveObject () {
 	RK_TRACE (PLUGIN);
 }
 
-void RKPluginSaveObject::selectionChanged (RKComponentPropertyBase *) {
+void RKPluginSaveObject::update () {
 	RK_TRACE (PLUGIN);
 
-	if (updating) return;
-	updating = true;
-
-	selector->setObjectName (selection->value ());
-
-	updating = false;
 	if (isSatisfied ()) selector->setBackgroundColor (QColor (255, 255, 255));
 	else selector->setBackgroundColor (QColor (255, 0, 0));
 	changed ();
 }
 
-void RKPluginSaveObject::selectionChanged () {
+void RKPluginSaveObject::externalChange () {
 	RK_TRACE (PLUGIN);
 
-	selection->setValue (selector->validizedSelectedObjectName ());
+	if (updating) return;
+
+	// NOTE: the selection-property is read-only!
+	selector->setBaseName (objectname->value ());
+	selector->setRootObject (parent->objectValue ());
+	if (groupbox->isCheckable ()) {
+		groupbox->setChecked (active->boolValue ());
+	}
+
+	// call internalChange, now, in case one or more setings could not be applied
+	internalChange ();
 }
 
-void RKPluginSaveObject::selectionChanged (bool) {
+void RKPluginSaveObject::internalChange () {
 	RK_TRACE (PLUGIN);
 
-	selectionChanged ();
+	if (updating) return;
+	updating = true;
+
+	selection->setValue (selector->currentFullName ());
+	objectname->setValue (selector->currentBaseName ());
+	parent->setObjectValue (selector->rootObject ());
+	active->setBoolValue ((!groupbox->isCheckable()) || groupbox->isChecked());
+
+	updating = false;
+	update ();
 }
 
 bool RKPluginSaveObject::isValid () {
@@ -86,4 +124,10 @@
 	return (RKComponent::isValid () && selector->isOk ());
 }
 
+QString RKPluginSaveObject::value (const QString& modifier) {
+//	RK_TRACE (PLUGIN);
+
+	return (selection->value (modifier));
+}
+
 #include "rkpluginsaveobject.moc"
diff -Nuar rkward-0.5.3.orig/rkward/plugin/rkpluginsaveobject.h rkward-0.5.3/rkward/plugin/rkpluginsaveobject.h
--- rkward-0.5.3.orig/rkward/plugin/rkpluginsaveobject.h	2009-06-28 23:22:53.000000000 +0300
+++ rkward-0.5.3/rkward/plugin/rkpluginsaveobject.h	2010-06-27 15:02:13.037392000 +0300
@@ -2,7 +2,7 @@
                           rkpluginsaveobject  -  description
                              -------------------
     begin                : Tue Jan 30 2007
-    copyright            : (C) 2007 by Thomas Friedrichsmeier
+    copyright            : (C) 2007, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -24,6 +24,7 @@
 
 class RKSaveObjectChooser;
 class QDomElement;
+class QGroupBox;
 
 /** RKComponent to select an R object name to save something to
 
@@ -36,17 +37,23 @@
 	RKPluginSaveObject (const QDomElement &element, RKComponent *parent_component, QWidget *parent_widget);
 	~RKPluginSaveObject ();
 
-	RKComponentPropertyBase *selection;
-	QString value (const QString &modifier) { return (selection->value (modifier)); };
+	QString value (const QString &modifier);
 	int type () { return ComponentSaveObject; };
 	bool isValid ();
 public slots:
-	void selectionChanged ();
-	void selectionChanged (bool);
-	void selectionChanged (RKComponentPropertyBase *);
+	void externalChange ();
+	void internalChange ();
 private:
 	RKSaveObjectChooser *selector;
+	void update ();
 	bool updating;
+
+	QGroupBox* groupbox;
+
+	RKComponentPropertyBase *selection;
+	RKComponentPropertyBase *objectname;
+	RKComponentPropertyRObjects *parent;
+	RKComponentPropertyBool *active;
 };
 
 #endif
diff -Nuar rkward-0.5.3.orig/rkward/plugin/rkstandardcomponent.cpp rkward-0.5.3/rkward/plugin/rkstandardcomponent.cpp
--- rkward-0.5.3.orig/rkward/plugin/rkstandardcomponent.cpp	2010-03-22 15:37:31.000000000 +0200
+++ rkward-0.5.3/rkward/plugin/rkstandardcomponent.cpp	2010-07-05 14:25:18.579202000 +0300
@@ -34,8 +34,11 @@
 #include "../scriptbackends/phpbackend.h"
 #include "../scriptbackends/qtscriptbackend.h"
 #include "../scriptbackends/simplebackend.h"
+#include "../scriptbackends/rkcomponentscripting.h"
 #include "../misc/xmlhelper.h"
 #include "../settings/rksettingsmoduleplugins.h"
+#include "../windows/rkmdiwindow.h"
+#include "../windows/rkworkplace.h"
 
 // component widgets
 #include "rkvarselector.h"
@@ -64,6 +67,7 @@
 	RKStandardComponent::handle = handle;
 	command_chain = 0;
 	backend = 0;
+	scripting = 0;
 	gui = 0;
 	wizard = 0;
 	created = false;
@@ -71,6 +75,12 @@
 	addChild ("code", code = new RKComponentPropertyCode (this, true));		// do not change this name!
 	code->setInternal (true);
 
+	RKComponentPropertyBase *current_object_property = new RKComponentPropertyBase (this, false);
+	current_object_property->setInternal (true);
+	RKMDIWindow *w = RKWorkplace::mainWorkplace ()->activeWindow (RKMDIWindow::AnyWindowState);
+	if (w) current_object_property->setValue (w->globalContextProperty ("current_object"));
+	addChild ("current_object", current_object_property);
+
 	// open the main description file for parsing
 	XMLHelper* xml = XMLHelper::getStaticHelper ();
 	QDomElement doc_element = xml->openXMLFile (filename, DL_ERROR);
@@ -171,6 +181,15 @@
 	deleteLater ();
 }
 
+RKComponentScriptingProxy* RKStandardComponent::scriptingProxy () {
+	RK_TRACE (PLUGIN);
+
+	if (!scripting) {
+		scripting = new RKComponentScriptingProxy (this);
+	}
+	return scripting;
+}
+
 void RKStandardComponent::hide () {
 	RK_TRACE (PLUGIN);
 
@@ -640,6 +659,13 @@
 			} else {
 				xml->displayError (&e, QString ("Could not embed component '%1'. Not found").arg (component_id), DL_ERROR);
 			}
+		} else if (e.tagName () == "scriptable") {
+			widget = new RKComponent (component (), parent_widget);
+			QVBoxLayout *layout = new QVBoxLayout (widget);
+			layout->setContentsMargins (0, 0, 0, 0);
+			KVBox *box = new KVBox (widget);
+			layout->addWidget (box);
+			component ()->scriptingProxy ()->addScriptableWidget (id, widget);
 		} else {
 			xml->displayError (&e, QString ("Invalid tagname '%1'").arg (e.tagName ()), DL_ERROR);
 		}
@@ -704,6 +730,13 @@
 		convert->setRequireTrue (xml->getBoolAttribute (*it, "require_true", false, DL_INFO));
 		component ()->addChild (id, convert);
 	}
+
+	QDomElement e = xml->getChildElement (element, "script", DL_INFO);
+	if (!e.isNull ()) {
+		QString file = xml->getStringAttribute (e, "file", QString (), DL_INFO);
+		QString inline_command = e.text ();
+		component ()->scriptingProxy ()->initialize (file, inline_command);
+	}
 }
 
 void RKComponentBuilder::addConnection (const QString &client_id, const QString &client_property, const QString &governor_id, const QString &governor_property, bool reconcile, const QDomElement &origin) {
diff -Nuar rkward-0.5.3.orig/rkward/plugin/rkstandardcomponent.h rkward-0.5.3/rkward/plugin/rkstandardcomponent.h
--- rkward-0.5.3.orig/rkward/plugin/rkstandardcomponent.h	2010-02-19 20:21:02.000000000 +0200
+++ rkward-0.5.3/rkward/plugin/rkstandardcomponent.h	2010-06-20 20:51:06.951699000 +0300
@@ -23,6 +23,7 @@
 #include <qdom.h>
 #include <QList>
 
+class RKComponentScriptingProxy;
 class RKStandardComponentGUI;
 class RCommandChain;
 class RKComponentHandle;
@@ -79,6 +80,9 @@
 	ComponentStatus recursiveStatus ();
 
 	RCommandChain *commandChain () const { return command_chain; };
+
+/** Return the GUI-scripting handler (creating it, if needed) */
+	RKComponentScriptingProxy* scriptingProxy ();
 public slots:
 /** this gets called by the script-backend, when it's done. Might enable the
 	submit button or destruct the plugin. */
@@ -102,6 +106,7 @@
 	QString filename;
 	bool have_help;	// TODO: replace by filename, once we use the help more
 	ScriptBackend *backend;
+	RKComponentScriptingProxy* scripting;
 	RKStandardComponentGUI *gui;
 	RKComponentHandle *handle;
 	RKStandardComponentStack *wizard;
diff -Nuar rkward-0.5.3.orig/rkward/plugin/rkvarselector.cpp rkward-0.5.3/rkward/plugin/rkvarselector.cpp
--- rkward-0.5.3.orig/rkward/plugin/rkvarselector.cpp	2010-03-22 14:56:50.000000000 +0200
+++ rkward-0.5.3/rkward/plugin/rkvarselector.cpp	2010-07-01 20:57:48.822814000 +0300
@@ -2,7 +2,7 @@
                           rkvarselector.cpp  -  description
                              -------------------
     begin                : Thu Nov 7 2002
-    copyright            : (C) 2002, 2006, 2009 by Thomas Friedrichsmeier
+    copyright            : (C) 2002, 2006, 2009, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -33,6 +33,9 @@
 // TODO: read filter settings
 	addChild ("selected", selected = new RKComponentPropertyRObjects (this, false));
 	selected->setInternal (true);
+	addChild ("root", root = new RKComponentPropertyRObjects (this, false));
+	connect (root, SIGNAL (valueChanged(RKComponentPropertyBase*)), this, SLOT (rootChanged()));
+	root->setInternal (true);
 
 	QVBoxLayout *vbox = new QVBoxLayout (this);
 	vbox->setContentsMargins (0, 0, 0, 0);
@@ -47,12 +50,21 @@
 	vbox->addWidget (list_view);
 	list_view->getSettings ()->setSetting (RKObjectListViewSettings::ShowObjectsAllEnvironments, false);
 	list_view->initialize ();
+	rootChanged ();
 }
 
 RKVarSelector::~RKVarSelector () {
 	RK_TRACE (PLUGIN);
 }
 
+void RKVarSelector::rootChanged () {
+	RK_TRACE (PLUGIN);
+
+	RObject* object = root->objectValue ();
+	if (!object) object = RObjectList::getObjectList ();
+	list_view->setRootObject (object);
+}
+
 void RKVarSelector::objectSelectionChanged () {
 	RK_TRACE (PLUGIN);
 
diff -Nuar rkward-0.5.3.orig/rkward/plugin/rkvarselector.h rkward-0.5.3/rkward/plugin/rkvarselector.h
--- rkward-0.5.3.orig/rkward/plugin/rkvarselector.h	2010-03-22 14:47:03.000000000 +0200
+++ rkward-0.5.3/rkward/plugin/rkvarselector.h	2010-07-01 20:57:48.822814000 +0300
@@ -2,7 +2,7 @@
                           rkvarselector.h  -  description
                              -------------------
     begin                : Thu Nov 7 2002
-    copyright            : (C) 2002, 2006 by Thomas Friedrichsmeier
+    copyright            : (C) 2002, 2006, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -24,27 +24,27 @@
 class RKObjectListView;
 class QDomElement;
 
-/** This is an especially important RK-plugin-widget. It provides a list of variables
-(derived from the document's table), that can be selected for statistical analysis.
+/** This is an especially important RK-plugin-widget. It provides a list of variables, that
+can be selected for statistical analysis.
 It's major counterpart is the RKVarSlot-class, which "takes" variables selected from
-this list. Most of the time, you'll only have a single VarSelector in a GUI, but
-you can have more than one, e.g. for serving conceptionally different VarSlots.
+this list. Most of the time, you'll only have a single RKVarSelector in a GUI, but
+you can have more than one, e.g. for serving conceptionally different RKVarSlots.
 
 @author Thomas Friedrichsmeier
-  */
-
-
+*/
 class RKVarSelector : public RKComponent {
 	Q_OBJECT
 public: 
 	RKVarSelector (const QDomElement &element, RKComponent *parent_component, QWidget *parent_widget);
 	~RKVarSelector ();
 	int type () { return ComponentVarSelector; };
-public slots:
+private slots:
 	void objectSelectionChanged ();
+	void rootChanged ();
 private:
 	RKObjectListView *list_view;
 	RKComponentPropertyRObjects *selected;
+	RKComponentPropertyRObjects *root;
 };
 
 #endif
diff -Nuar rkward-0.5.3.orig/rkward/plugins/00saveload/import/import_csv.js rkward-0.5.3/rkward/plugins/00saveload/import/import_csv.js
--- rkward-0.5.3.orig/rkward/plugins/00saveload/import/import_csv.js	2010-02-21 15:27:01.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/00saveload/import/import_csv.js	2010-06-27 15:02:13.037392000 +0300
@@ -16,7 +16,7 @@
 		tableOptions = "";
 	}
 // Other method is to use read.table and show all the options - more transparent
-	echo ('imported <<- read.' + quick + ' (file="' + getValue("file") + '"' + tableOptions + ', '); // doing row names (what a pity...)
+	echo ('imported <- read.' + quick + ' (file="' + getValue("file") + '"' + tableOptions + ', '); // doing row names (what a pity...)
 	if (getValue("rowname")!="NULL") {
 		echo ("row.names = ");
 		if (getValue("rowname")=="rowcol") echo (getValue("nomrow") + ",");
@@ -30,14 +30,14 @@
 	echo (' na.strings = "' + getValue("na") + '", nrows = ' + getValue("nrows") + ', skip = ' + getValue("skip") + ', check.names = ' + getValue("checkname") + ', strip.white = ' + getValue("stripwhite") + ', blank.lines.skip = ' + getValue("blanklinesskip") + getValue("allow_escapes") + getValue("flush") + getValue("strings_as_factors") + ')\n');
 	echo ('\n');
 	echo ('# copy from the local environment to globalenv()\n');
-	echo ('assign("' + getValue("name") + '", imported, envir=globalenv())\n');
+	echo ('.GlobalEnv$' + getValue("name") + ' <- imported\n');
 	if (getValue ("doedit")) {
 		echo ('\n');
-		echo ('rk.edit (' + getValue ("name") + ')\n');
+		echo ('rk.edit (.GlobalEnv$' + getValue ("name") + ')\n');
 	}
 }
 
 function printout () {
-	makeHeaderCode ("Import text / csv data", new Array("File" ,  getValue ("file"), "Import as" ,  getValue ("name")));
+	makeHeaderCode ("Import text / csv data", new Array("File" ,  getValue ("file"), "Import as", getValue ("name")));
 }
 
diff -Nuar rkward-0.5.3.orig/rkward/plugins/00saveload/import/import_spss.js rkward-0.5.3/rkward/plugins/00saveload/import/import_spss.js
--- rkward-0.5.3.orig/rkward/plugins/00saveload/import/import_spss.js	2010-02-21 21:18:16.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/00saveload/import/import_spss.js	2010-06-27 15:02:13.037392000 +0300
@@ -59,13 +59,13 @@
 		echo ('}\n');
 	}
 	echo ('\n');
-	echo (object + ' <<- data		# assign to globalenv()\n');
+	echo ('.GlobalEnv$' + object + ' <- data		# assign to globalenv()\n');
 	if (getValue ("doedit") && data_frame) {
-		echo ('rk.edit (' + object + ')\n');
+		echo ('rk.edit (.GlobalEnv$' + object + ')\n');
 	}
 }
 
 function printout () {
-	makeHeaderCode ("Import SPSS data", new Array("File",  getValue ("file"), "Import as",  getValue ("saveto")));
+	makeHeaderCode ("Import SPSS data", new Array("File",  getValue ("file"), "Import as", getValue ("saveto")));
 }
 
diff -Nuar rkward-0.5.3.orig/rkward/plugins/00saveload/import/import_stata.js rkward-0.5.3/rkward/plugins/00saveload/import/import_stata.js
--- rkward-0.5.3.orig/rkward/plugins/00saveload/import/import_stata.js	2010-02-25 23:03:16.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/00saveload/import/import_stata.js	2010-06-27 15:02:13.037392000 +0300
@@ -44,9 +44,9 @@
 	echo ('        }\n');
 	echo ('}\n');
 	echo ('\n');
-	echo (object + ' <<- data		# assign to globalenv()\n');
+	echo ('.GlobalEnv$' + object + ' <- data		# assign to globalenv()\n');
 	if (getValue ("doedit") ) {
-		echo ('rk.edit (' + object + ')\n');
+		echo ('rk.edit (.GlobalEnv$' + object + ')\n');
 	}
 }
 
diff -Nuar rkward-0.5.3.orig/rkward/plugins/00saveload/import/load_data.js rkward-0.5.3/rkward/plugins/00saveload/import/load_data.js
--- rkward-0.5.3.orig/rkward/plugins/00saveload/import/load_data.js	2010-02-21 21:22:50.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/00saveload/import/load_data.js	2010-06-27 15:02:13.037392000 +0300
@@ -3,15 +3,15 @@
 
 function calculate () {
 	var other_env = false;
-	if (getValue ("other_env")) {
+	if (getValue ("envir.active")) {
 		other_env = true;
-		envir = getValue ("envir");
+		envir = ".GlobalEnv$" + getValue ("envir");
 	} else {
 		envir = "globalenv()";
 	}
 
 	if (other_env) {
-		echo ('assign ("' + envir + ', new.env (parent=globalenv()), envir=globalenv())\n');
+		echo (envir + ' <- new.env (parent=globalenv())\n');
 	}
 	echo ('load (file="' + getValue("file") + '", envir=' + envir + ')\n');
 }
diff -Nuar rkward-0.5.3.orig/rkward/plugins/00saveload/import/load_data.xml rkward-0.5.3/rkward/plugins/00saveload/import/load_data.xml
--- rkward-0.5.3.orig/rkward/plugins/00saveload/import/load_data.xml	2010-02-21 21:22:03.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/00saveload/import/load_data.xml	2010-06-27 15:02:13.037392000 +0300
@@ -3,17 +3,13 @@
 	<code file="load_data.js"/>
 	<help file="load_data.rkh"/>
 	<logic>
-		<convert id="use_globalenv" mode="equals" sources="other_env.state" standard="0"/>
-		<connect client="globalenv_warning.visible" governor="use_globalenv"/>
-
-		<connect client="envir.enabled" governor="other_env.state"/>
-		<connect client="otherenv_warning.visible" governor="other_env.state"/>
+		<connect client="globalenv_warning.visible" governor="envir.active.not"/>
+		<connect client="otherenv_warning.visible" governor="envir.active"/>
 	</logic>
 	<dialog label="Load an R data file">
 		<browser size="small" id="file" label="R data file to load" filter="*.RData" />
 		<text id="globalenv_warning" type="warning">WARNING: This may overwrite existing objects in .GlobalEnv. Be sure to save your workspace, first.</text>
-		<checkbox id="other_env" label="Save to specified environment" value="1" value_unchecked="0"/>
-		<saveobject id="envir" label="Environment to save to" initial="my.env"/>
+		<saveobject id="envir" label="Save to environment" initial="my.env" checkable="true"/>
 		<text id="otherenv_warning" type="warning">WARNING: If the environment already exists, all objects inside it will be lost.</text>
 	</dialog>
 </document>
diff -Nuar rkward-0.5.3.orig/rkward/plugins/analysis/irt/dichotomous/par_est_2pl.js rkward-0.5.3/rkward/plugins/analysis/irt/dichotomous/par_est_2pl.js
--- rkward-0.5.3.orig/rkward/plugins/analysis/irt/dichotomous/par_est_2pl.js	2010-03-03 12:11:54.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/analysis/irt/dichotomous/par_est_2pl.js	2010-06-27 15:02:13.037392000 +0300
@@ -47,7 +47,7 @@
 
 function printout () {
 	// check whether parameter estimations should be kept in the global enviroment
-	var save         = getValue("chk_save");
+	var save         = getValue("save_name.active");
 	var save_name    = getValue("save_name");
 
 	echo ('rk.header ("2PL parameter estimation")\n');
@@ -59,6 +59,6 @@
 	// check if results are to be saved:
 	if (save && save_name) {
 		echo ('# keep results in current workspace\n');
-		echo (save_name + ' <<- estimates.2pl\n');
+		echo ('.GlobalEnv$' + save_name + ' <- estimates.2pl\n');
 	}
 }
diff -Nuar rkward-0.5.3.orig/rkward/plugins/analysis/irt/dichotomous/par_est_2pl.xml rkward-0.5.3/rkward/plugins/analysis/irt/dichotomous/par_est_2pl.xml
--- rkward-0.5.3.orig/rkward/plugins/analysis/irt/dichotomous/par_est_2pl.xml	2009-12-10 10:29:02.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/analysis/irt/dichotomous/par_est_2pl.xml	2010-06-27 15:02:13.037392000 +0300
@@ -8,9 +8,6 @@
 
     <connect client="startval_mtx.enabled" governor="sv_matrix" />
     <connect client="startval_mtx.required" governor="sv_matrix" />
-
-    <connect client="save_name.enabled"  governor="chk_save.state" />
-    <connect client="save_name.required" governor="chk_save.state" />
   </logic>
 
   <dialog label="IRT parameter estimation: Two parameter logistic model">
@@ -21,10 +18,7 @@
           <column>
             <varslot type="numeric" id="x" classes="data.frame matrix" source="vars" required="true" label="Matrix of manifest variables:"/>
             <stretch />
-	    <frame id="frame_save">
-	      <checkbox id="chk_save" label="Keep results in current workspace" value="save" checked="true"/>
-	      <saveobject id="save_name" initial="estimates.2pl"/>
-	    </frame>
+            <saveobject id="save_name" checkable="true" checked="true" label="Save results in workspace" initial="estimates.2pl"/>
           </column>
         </row>
       </tab>
diff -Nuar rkward-0.5.3.orig/rkward/plugins/analysis/irt/dichotomous/par_est_3pl.js rkward-0.5.3/rkward/plugins/analysis/irt/dichotomous/par_est_3pl.js
--- rkward-0.5.3.orig/rkward/plugins/analysis/irt/dichotomous/par_est_3pl.js	2010-03-03 12:11:54.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/analysis/irt/dichotomous/par_est_3pl.js	2010-06-27 15:02:13.037392000 +0300
@@ -53,7 +53,7 @@
 
 function printout () {
 	// check whether parameter estimations should be kept in the global enviroment
-	var save = getValue("chk_save");
+	var save = getValue("save_name.active");
 	var save_name = getValue("save_name");
 
 	echo ('rk.header ("3PL parameter estimation")\n');
@@ -65,6 +65,6 @@
 	// check if results are to be saved:
 	if (save && save_name) {
 		echo ('# keep results in current workspace\n');
-		echo (save_name + ' <<- estimates.3pl\n');
+		echo ('.GlobalEnv$' + save_name + ' <- estimates.3pl\n');
 	}
 }
diff -Nuar rkward-0.5.3.orig/rkward/plugins/analysis/irt/dichotomous/par_est_3pl.xml rkward-0.5.3/rkward/plugins/analysis/irt/dichotomous/par_est_3pl.xml
--- rkward-0.5.3.orig/rkward/plugins/analysis/irt/dichotomous/par_est_3pl.xml	2010-03-03 12:11:54.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/analysis/irt/dichotomous/par_est_3pl.xml	2010-06-27 15:02:13.037392000 +0300
@@ -10,9 +10,6 @@
     <connect client="optimeth.enabled" governor="optim_used" />
     <connect client="startval_mtx.enabled" governor="sv_matrix" />
     <connect client="startval_mtx.required" governor="sv_matrix" />
-
-    <connect client="save_name.enabled"  governor="chk_save.state" />
-    <connect client="save_name.required" governor="chk_save.state" />
   </logic>
 
   <dialog label="IRT parameter estimation: Birnbaum three parameter model">
@@ -23,10 +20,7 @@
           <column>
             <varslot type="numeric" id="x" classes="data.frame matrix" source="vars" required="true" label="Matrix of manifest variables:"/>
             <stretch />
-	    <frame id="frame_save">
-	      <checkbox id="chk_save" label="Keep results in current workspace" value="save" checked="true"/>
-	      <saveobject id="save_name" initial="estimates.3pl"/>
-	    </frame>
+            <saveobject id="save_name" checkable="true" checked="true" label="Save results in workspace" initial="estimates.3pl"/>
           </column>
         </row>
       </tab>
diff -Nuar rkward-0.5.3.orig/rkward/plugins/analysis/irt/dichotomous/par_est_lltm.js rkward-0.5.3/rkward/plugins/analysis/irt/dichotomous/par_est_lltm.js
--- rkward-0.5.3.orig/rkward/plugins/analysis/irt/dichotomous/par_est_lltm.js	2010-03-03 12:11:54.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/analysis/irt/dichotomous/par_est_lltm.js	2010-06-27 15:02:13.037392000 +0300
@@ -28,7 +28,7 @@
 
 function printout () {
 	// check whether parameter estimations should be kept in the global enviroment
-	var save = getValue("chk_save");
+	var save = getValue("save_name.active");
 	var save_name = getValue("save_name");
 
 	echo ('rk.header ("LLTM  parameter estimation")\n');
@@ -41,6 +41,6 @@
 	// check if results are to be saved:
 	if (save && save_name) {
 		echo ('# keep results in current workspace\n');
-		echo (save_name + ' <<- estimates.lltm\n');
+		echo ('.GlobalEnv$' + save_name + ' <- estimates.lltm\n');
 	}
 }
diff -Nuar rkward-0.5.3.orig/rkward/plugins/analysis/irt/dichotomous/par_est_lltm.xml rkward-0.5.3/rkward/plugins/analysis/irt/dichotomous/par_est_lltm.xml
--- rkward-0.5.3.orig/rkward/plugins/analysis/irt/dichotomous/par_est_lltm.xml	2010-03-03 12:11:54.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/analysis/irt/dichotomous/par_est_lltm.xml	2010-06-27 15:02:13.037392000 +0300
@@ -14,9 +14,6 @@
     <connect client="design_mtx.required" governor="design_matrix" />
     <connect client="etastart_vec.enabled" governor="eta_vector" />
     <connect client="etastart_vec.required" governor="eta_vector" />
-
-    <connect client="save_name.enabled"  governor="chk_save.state" />
-    <connect client="save_name.required" governor="chk_save.state" />
   </logic>
 
   <dialog label="IRT parameter estimation: Linear logistic test model">
@@ -33,10 +30,7 @@
               <option label="Compute group contrasts" value="contrasts" />
             </radio>
             <varslot type="numeric" id="group_vec" source="vars" label="Use this group vector:"/>
-	    <frame id="frame_save">
-	      <checkbox id="chk_save" label="Keep results in current workspace" value="save" checked="true"/>
-	      <saveobject id="save_name" initial="estimates.lltm"/>
-	    </frame>
+            <saveobject id="save_name" checkable="true" checked="true" label="Save results in workspace" initial="estimates.lltm"/>
           </column>
         </row>
       </tab>
diff -Nuar rkward-0.5.3.orig/rkward/plugins/analysis/irt/dichotomous/par_est_rasch.js rkward-0.5.3/rkward/plugins/analysis/irt/dichotomous/par_est_rasch.js
--- rkward-0.5.3.orig/rkward/plugins/analysis/irt/dichotomous/par_est_rasch.js	2010-03-03 12:11:54.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/analysis/irt/dichotomous/par_est_rasch.js	2010-06-27 15:02:13.037392000 +0300
@@ -42,7 +42,7 @@
 
 function printout () {
 	// check whether parameter estimations should be kept in the global enviroment
-	var save      = getValue("chk_save");
+	var save      = getValue("save_name.active");
 	var save_name = getValue("save_name");
 	var irtparam  = getValue("irtparam");
 
@@ -55,6 +55,6 @@
 	// check if results are to be saved:
 	if (save && save_name) {
 		echo ('# keep results in current workspace\n');
-		echo (save_name + ' <<- estimates.rasch\n');
+		echo ('.GlobalEnv$' + save_name + ' <- estimates.rasch\n');
 	}
 }
diff -Nuar rkward-0.5.3.orig/rkward/plugins/analysis/irt/dichotomous/par_est_rasch.xml rkward-0.5.3/rkward/plugins/analysis/irt/dichotomous/par_est_rasch.xml
--- rkward-0.5.3.orig/rkward/plugins/analysis/irt/dichotomous/par_est_rasch.xml	2010-03-03 12:11:54.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/analysis/irt/dichotomous/par_est_rasch.xml	2010-06-27 15:02:13.037392000 +0300
@@ -8,9 +8,6 @@
 
     <connect client="startval_mtx.enabled" governor="sv_matrix" />
     <connect client="startval_mtx.required" governor="sv_matrix" />
-
-    <connect client="save_name.enabled"  governor="chk_save.state" />
-    <connect client="save_name.required" governor="chk_save.state" />
   </logic>
 
   <dialog label="IRT parameter estimation: Rasch model">
@@ -21,10 +18,7 @@
           <column>
             <varslot type="numeric" id="x" classes="data.frame matrix" source="vars" required="true" label="Matrix of manifest variables:"/>
             <stretch />
-	    <frame id="frame_save">
-	      <checkbox id="chk_save" label="Keep results in current workspace" value="save" checked="true"/>
-	      <saveobject id="save_name" initial="estimates.rasch"/>
-	    </frame>
+            <saveobject id="save_name" checkable="true" checked="true" label="Save results in workspace" initial="estimates.rasch"/>
           </column>
         </row>
       </tab>
diff -Nuar rkward-0.5.3.orig/rkward/plugins/analysis/irt/polytomous/par_est_gpcm.js rkward-0.5.3/rkward/plugins/analysis/irt/polytomous/par_est_gpcm.js
--- rkward-0.5.3.orig/rkward/plugins/analysis/irt/polytomous/par_est_gpcm.js	2010-03-03 12:11:51.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/analysis/irt/polytomous/par_est_gpcm.js	2010-06-27 15:02:13.037392000 +0300
@@ -62,7 +62,7 @@
 
 function printout () {
 	// check whether parameter estimations should be kept in the global enviroment
-	var save = getValue("chk_save");
+	var save = getValue("save_name.active");
 	var save_name = getValue("save_name");
 
 	echo ('rk.header ("GPCM parameter estimation")\n');
@@ -74,6 +74,6 @@
 // check if results are to be saved:
 	if (save && save_name) {
 		echo ('# keep results in current workspace\n');
-		echo (save_name + ' <<- estimates.gpcm\n');
+		echo ('.GlobalEnv$' + save_name + ' <- estimates.gpcm\n');
 	}
 }
diff -Nuar rkward-0.5.3.orig/rkward/plugins/analysis/irt/polytomous/par_est_gpcm.xml rkward-0.5.3/rkward/plugins/analysis/irt/polytomous/par_est_gpcm.xml
--- rkward-0.5.3.orig/rkward/plugins/analysis/irt/polytomous/par_est_gpcm.xml	2010-03-03 12:11:51.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/analysis/irt/polytomous/par_est_gpcm.xml	2010-06-27 15:02:13.037392000 +0300
@@ -12,9 +12,6 @@
     <connect client="optimeth.enabled" governor="optim_used" />
     <connect client="startval_lst.enabled" governor="sv_matrix" />
     <connect client="startval_lst.required" governor="sv_matrix" />
-
-    <connect client="save_name.enabled"  governor="chk_save.state" />
-    <connect client="save_name.required" governor="chk_save.state" />
   </logic>
 
   <dialog label="IRT parameter estimation: Generalized partial credit model">
@@ -29,10 +26,7 @@
 	      <varslot type="numeric" id="inp_items" source="vars" multi="true" min_vars="2" label="List of items:" />
             </frame>
             <stretch />
-	    <frame id="frame_save">
-	      <checkbox id="chk_save" label="Keep results in current workspace" value="save" checked="true"/>
-	      <saveobject id="save_name" initial="estimates.gpcm"/>
-	    </frame>
+            <saveobject id="save_name" checkable="true" checked="true" label="Save results in workspace" initial="estimates.gpcm"/>
           </column>
         </row>
       </tab>
diff -Nuar rkward-0.5.3.orig/rkward/plugins/analysis/irt/polytomous/par_est_grm.js rkward-0.5.3/rkward/plugins/analysis/irt/polytomous/par_est_grm.js
--- rkward-0.5.3.orig/rkward/plugins/analysis/irt/polytomous/par_est_grm.js	2010-03-03 12:11:51.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/analysis/irt/polytomous/par_est_grm.js	2010-06-27 15:02:13.037392000 +0300
@@ -47,7 +47,7 @@
 
 function printout () {
 	// check whether parameter estimations should be kept in the global enviroment
-	var save         = getValue("chk_save");
+	var save         = getValue("save_name.active");
 	var save_name    = getValue("save_name");
 
 	echo ('rk.header ("GRM parameter estimation")\n');
@@ -59,6 +59,6 @@
 	// check if results are to be saved:
 	if (save && save_name) {
 		echo ('# keep results in current workspace\n');
-		echo (save_name + ' <<- estimates.grm\n');
+		echo ('.GlobalEnv$' + save_name + ' <- estimates.grm\n');
 	}
 }
diff -Nuar rkward-0.5.3.orig/rkward/plugins/analysis/irt/polytomous/par_est_grm.xml rkward-0.5.3/rkward/plugins/analysis/irt/polytomous/par_est_grm.xml
--- rkward-0.5.3.orig/rkward/plugins/analysis/irt/polytomous/par_est_grm.xml	2010-03-03 12:11:51.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/analysis/irt/polytomous/par_est_grm.xml	2010-06-27 15:02:13.037392000 +0300
@@ -8,9 +8,6 @@
 
     <connect client="startval_lst.enabled" governor="sv_matrix" />
     <connect client="startval_lst.required" governor="sv_matrix" />
-
-    <connect client="save_name.enabled"  governor="chk_save.state" />
-    <connect client="save_name.required" governor="chk_save.state" />
   </logic>
 
   <dialog label="IRT parameter estimation: Graded response model">
@@ -21,10 +18,7 @@
           <column>
             <varslot type="numeric" id="x" classes="data.frame matrix" source="vars" required="true" label="Matrix of manifest variables:"/>
             <stretch />
-	    <frame id="frame_save">
-	      <checkbox id="chk_save" label="Keep results in current workspace" value="save" checked="true"/>
-	      <saveobject id="save_name" initial="estimates.grm"/>
-	    </frame>
+            <saveobject id="save_name" checkable="true" checked="true" label="Save results in workspace" initial="estimates.grm"/>
           </column>
         </row>
       </tab>
diff -Nuar rkward-0.5.3.orig/rkward/plugins/analysis/irt/polytomous/par_est_lpcm.js rkward-0.5.3/rkward/plugins/analysis/irt/polytomous/par_est_lpcm.js
--- rkward-0.5.3.orig/rkward/plugins/analysis/irt/polytomous/par_est_lpcm.js	2010-03-03 12:11:51.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/analysis/irt/polytomous/par_est_lpcm.js	2010-06-27 15:02:13.037392000 +0300
@@ -28,7 +28,7 @@
 
 function printout () {
 	// check whether parameter estimations should be kept in the global enviroment
-	var save         = getValue("chk_save");
+	var save         = getValue("save_name.active");
 	var save_name    = getValue("save_name");
 
 	echo ('rk.header ("LPCM  parameter estimation")\n');
@@ -41,6 +41,6 @@
 	// check if results are to be saved:
 	if (save && save_name) {
 		echo ('# keep results in current workspace\n');
-		echo (save_name + ' <<- estimates.lpcm\n');
+		echo ('.GlobalEnv$' + save_name + ' <- estimates.lpcm\n');
 	}
 }
diff -Nuar rkward-0.5.3.orig/rkward/plugins/analysis/irt/polytomous/par_est_lpcm.xml rkward-0.5.3/rkward/plugins/analysis/irt/polytomous/par_est_lpcm.xml
--- rkward-0.5.3.orig/rkward/plugins/analysis/irt/polytomous/par_est_lpcm.xml	2010-03-03 12:11:51.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/analysis/irt/polytomous/par_est_lpcm.xml	2010-06-27 15:02:13.037392000 +0300
@@ -14,9 +14,6 @@
     <connect client="design_mtx.required" governor="design_matrix" />
     <connect client="etastart_vec.enabled" governor="eta_vector" />
     <connect client="etastart_vec.required" governor="eta_vector" />
-
-    <connect client="save_name.enabled"  governor="chk_save.state" />
-    <connect client="save_name.required" governor="chk_save.state" />
   </logic>
 
   <dialog label="IRT parameter estimation: Linear partial credit model">
@@ -33,10 +30,7 @@
               <option label="Compute group contrasts" value="contrasts" />
             </radio>
             <varslot type="numeric" id="group_vec" source="vars" label="Use this group vector:"/>
-	    <frame id="frame_save">
-	      <checkbox id="chk_save" label="Keep results in current workspace" value="save" checked="true"/>
-	      <saveobject id="save_name" initial="estimates.lpcm"/>
-	    </frame>
+            <saveobject id="save_name" checkable="true" checked="true" label="Save results in workspace" initial="estimates.lpcm"/>
           </column>
         </row>
       </tab>
diff -Nuar rkward-0.5.3.orig/rkward/plugins/analysis/irt/polytomous/par_est_lrsm.js rkward-0.5.3/rkward/plugins/analysis/irt/polytomous/par_est_lrsm.js
--- rkward-0.5.3.orig/rkward/plugins/analysis/irt/polytomous/par_est_lrsm.js	2010-03-03 12:11:51.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/analysis/irt/polytomous/par_est_lrsm.js	2010-06-27 15:02:13.037392000 +0300
@@ -28,7 +28,7 @@
 
 function printout () {
 	// check whether parameter estimations should be kept in the global enviroment
-	var save         = getValue("chk_save");
+	var save         = getValue("save_name.active");
 	var save_name    = getValue("save_name");
 
 	echo ('rk.header ("LRSM  parameter estimation")\n');
@@ -41,6 +41,6 @@
 // check if results are to be saved:
 	if (save && save_name) {
 		echo ('# keep results in current workspace\n');
-		echo (save_name + ' <<- estimates.lrsm\n');
+		echo ('.GlobalEnv$' + save_name + ' <- estimates.lrsm\n');
 	}
 }
diff -Nuar rkward-0.5.3.orig/rkward/plugins/analysis/irt/polytomous/par_est_lrsm.xml rkward-0.5.3/rkward/plugins/analysis/irt/polytomous/par_est_lrsm.xml
--- rkward-0.5.3.orig/rkward/plugins/analysis/irt/polytomous/par_est_lrsm.xml	2010-03-03 12:11:51.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/analysis/irt/polytomous/par_est_lrsm.xml	2010-06-27 15:02:13.037392000 +0300
@@ -33,10 +33,7 @@
               <option label="Compute group contrasts" value="contrasts" />
             </radio>
             <varslot type="numeric" id="group_vec" source="vars" label="Use this group vector:"/>
-	    <frame id="frame_save">
-	      <checkbox id="chk_save" label="Keep results in current workspace" value="save" checked="true"/>
-	      <saveobject id="save_name" initial="estimates.lrsm"/>
-	    </frame>
+            <saveobject id="save_name" checkable="true" checked="true" label="Save results in workspace" initial="estimates.lrsm"/>
           </column>
         </row>
       </tab>
diff -Nuar rkward-0.5.3.orig/rkward/plugins/analysis/irt/polytomous/par_est_pcm.js rkward-0.5.3/rkward/plugins/analysis/irt/polytomous/par_est_pcm.js
--- rkward-0.5.3.orig/rkward/plugins/analysis/irt/polytomous/par_est_pcm.js	2010-03-03 12:11:51.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/analysis/irt/polytomous/par_est_pcm.js	2010-06-27 15:02:13.037392000 +0300
@@ -23,7 +23,7 @@
 
 function printout () {
 	// check whether parameter estimations should be kept in the global enviroment
-	var save         = getValue("chk_save");
+	var save         = getValue("save_name.active");
 	var save_name    = getValue("save_name");
 
 	echo ('rk.header ("PCM  parameter estimation")\n');
@@ -36,6 +36,6 @@
 // check if results are to be saved:
 	if (save && save_name) {
 		echo ('# keep results in current workspace\n');
-		echo (save_name + ' <<- estimates.pcm\n');
+		echo ('.GlobalEnv$' + save_name + ' <- estimates.pcm\n');
 	}
 }
diff -Nuar rkward-0.5.3.orig/rkward/plugins/analysis/irt/polytomous/par_est_pcm.xml rkward-0.5.3/rkward/plugins/analysis/irt/polytomous/par_est_pcm.xml
--- rkward-0.5.3.orig/rkward/plugins/analysis/irt/polytomous/par_est_pcm.xml	2010-03-03 12:11:51.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/analysis/irt/polytomous/par_est_pcm.xml	2010-06-27 15:02:13.037392000 +0300
@@ -24,10 +24,7 @@
           <column>
             <varslot type="numeric" id="x" classes="data.frame matrix" source="vars" required="true" label="Matrix of manifest variables:"/>
             <stretch />
-	    <frame id="frame_save">
-	      <checkbox id="chk_save" label="Keep results in current workspace" value="save" checked="true"/>
-	      <saveobject id="save_name" initial="estimates.pcm"/>
-	    </frame>
+            <saveobject id="save_name" checkable="true" checked="true" label="Save results in workspace" initial="estimates.pcm"/>
           </column>
         </row>
       </tab>
diff -Nuar rkward-0.5.3.orig/rkward/plugins/analysis/irt/polytomous/par_est_rsm.js rkward-0.5.3/rkward/plugins/analysis/irt/polytomous/par_est_rsm.js
--- rkward-0.5.3.orig/rkward/plugins/analysis/irt/polytomous/par_est_rsm.js	2010-03-03 12:11:51.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/analysis/irt/polytomous/par_est_rsm.js	2010-06-27 15:02:13.037392000 +0300
@@ -23,7 +23,7 @@
 
 function printout () {
 	// check whether parameter estimations should be kept in the global enviroment
-	var save         = getValue("chk_save");
+	var save         = getValue("save_name.active");
 	var save_name    = getValue("save_name");
 
 	echo ('rk.header ("RSM  parameter estimation")\n');
@@ -36,6 +36,6 @@
 // check if results are to be saved:
 	if (save && save_name) {
 		echo ('# keep results in current workspace\n');
-		echo (save_name + ' <<- estimates.rsm\n');
+		echo ('.GlobalEnv$' + save_name + ' <- estimates.rsm\n');
 	}
 }
diff -Nuar rkward-0.5.3.orig/rkward/plugins/analysis/irt/polytomous/par_est_rsm.xml rkward-0.5.3/rkward/plugins/analysis/irt/polytomous/par_est_rsm.xml
--- rkward-0.5.3.orig/rkward/plugins/analysis/irt/polytomous/par_est_rsm.xml	2010-03-03 12:11:51.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/analysis/irt/polytomous/par_est_rsm.xml	2010-06-27 15:02:13.037392000 +0300
@@ -24,10 +24,7 @@
           <column>
             <varslot type="numeric" id="x" classes="data.frame matrix" source="vars" required="true" label="Matrix of manifest variables:"/>
             <stretch />
-	    <frame id="frame_save">
-	      <checkbox id="chk_save" label="Keep results in current workspace" value="save" checked="true"/>
-	      <saveobject id="save_name" initial="estimates.rsm"/>
-	    </frame>
+            <saveobject id="save_name" checkable="true" checked="true" label="Save results in workspace" initial="estimates.rsm"/>
           </column>
         </row>
       </tab>
diff -Nuar rkward-0.5.3.orig/rkward/plugins/analysis/irt/tests/eRm_waldtest.js rkward-0.5.3/rkward/plugins/analysis/irt/tests/eRm_waldtest.js
--- rkward-0.5.3.orig/rkward/plugins/analysis/irt/tests/eRm_waldtest.js	2010-03-03 12:11:51.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/analysis/irt/tests/eRm_waldtest.js	2010-08-06 18:06:45.667225000 +0300
@@ -7,15 +7,21 @@
 	// let's read all values into php variables for the sake of readable code
 	var rad_splitcr    = getValue("rad_splitcr");
 	var splitvector    = getValue("splitvector");
+	var optimizer      = getValue("drop_optimizer");
 
+	if (optimizer != "nlm") echo('.GlobalEnv$fitctrl <- \"'+optimizer+'\"\n');
 	echo ('waldtest.res <- Waldtest(' + getValue("x"));
 		// check if any advanced control options must be inserted
-		if (rad_splitcr == "mean") echo(", splitcr=\"mean\"") ;
-		if (rad_splitcr == "vector" && splitvector) echo(", splitcr="+splitvector) ;
+		if (rad_splitcr == "mean") echo(", splitcr=\"mean\"");
+		if (rad_splitcr == "vector" && splitvector) echo(", splitcr="+splitvector);
 	echo (')\n');
+	if (optimizer != "nlm") echo('rm(fitctrl, envir=.GlobalEnv)\n');
 }
 
 function printout () {
 	echo ('rk.header ("Wald test (' + getValue("x") + ')")\n');
-	echo ('rk.print (waldtest.res)\n');
+	echo ('rk.print ("Call:")\n');
+	echo ('rk.print.literal (deparse(waldtest.res$call, width.cutoff=500))\n');
+	echo ('rk.header ("Wald test on item level (z-values):", level=4)\n');
+	echo ('rk.print(waldtest.res$coef.table)\n');
 }
diff -Nuar rkward-0.5.3.orig/rkward/plugins/analysis/irt/tests/eRm_waldtest.xml rkward-0.5.3/rkward/plugins/analysis/irt/tests/eRm_waldtest.xml
--- rkward-0.5.3.orig/rkward/plugins/analysis/irt/tests/eRm_waldtest.xml	2010-03-03 12:11:51.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/analysis/irt/tests/eRm_waldtest.xml	2010-08-06 18:06:45.667225000 +0300
@@ -7,25 +7,39 @@
     <convert id="split_vec"  mode="equals" sources="rad_splitcr.string" standard="vector" />
 
     <connect client="splitvector.enabled" governor="split_vec" />
+    <connect client="vars2.enabled" governor="split_vec" />
     <connect client="splitvector.required" governor="split_vec" />
   </logic>
 
   <dialog label="Wald test">
     <tabbook>
-      <tab id="tab_var_options" label="Data">
+      <tab id="tab_var_data" label="Data">
         <row id="row_vars">
           <varselector id="vars" />
           <column>
             <varslot type="numeric" id="x" classes="Rm" source="vars" required="true" label="Chose fitted model to test:"/>
             <text>Only objects of class Rm are valid!</text>
             <stretch />
+          </column>
+        </row>
+      </tab>
+      <tab id="tab_var_options" label="Options">
+        <row id="row_vars">
+          <varselector id="vars2" />
+	  <column>
             <radio id="rad_splitcr" label="Split criterion for subject raw scores">
               <option label="Median" value="median" checked="true" />
               <option label="Mean" value="mean" />
               <option label="Use dichotomous vector to define groups" value="vector" />
             </radio>
-            <varslot type="numeric" id="splitvector" source="vars" label="Select grouping vector:"/>
-          </column>
+            <varslot type="numeric" id="splitvector" source="vars2" label="Select grouping vector:"/>
+            <frame id="optimizer" label="Optimizer">
+            <dropdown  id="drop_optimizer" label="Used optimizer:">
+	      <option label="nlm()" value="nlm" checked="true" />
+	      <option label="optim()" value="optim" />
+	    </dropdown>
+	    </frame>
+	  </column>
         </row>
       </tab>
     </tabbook>
diff -Nuar rkward-0.5.3.orig/rkward/plugins/analysis/irt/tests/ltm_gof_rasch.js rkward-0.5.3/rkward/plugins/analysis/irt/tests/ltm_gof_rasch.js
--- rkward-0.5.3.orig/rkward/plugins/analysis/irt/tests/ltm_gof_rasch.js	2010-03-03 12:11:51.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/analysis/irt/tests/ltm_gof_rasch.js	2010-08-06 18:06:45.667225000 +0300
@@ -15,5 +15,10 @@
 
 function printout () {
 	echo ('rk.header ("Goodness of Fit for Rasch Models (' + getValue("x") + ')")\n');
-	echo ('rk.print (GoFRasch.res)\n');
+	echo ('rk.print ("Call:")\n');
+	echo ('rk.print.literal (deparse(GoFRasch.res$call, width.cutoff=500))\n');
+	echo ('rk.header ("Parametric Bootstrap test:", level=4)\n');
+	echo ('rk.print (paste("Chi-squared statistic:", round(GoFRasch.res$Tobs, digits=3)))\n');
+	echo ('rk.print (paste("Bootstrap samples:", GoFRasch.res$B))\n');
+	echo ('rk.print (paste("p-value:", GoFRasch.res$p.value))\n');
 }
diff -Nuar rkward-0.5.3.orig/rkward/plugins/analysis/irt/tests/ltm_item_fit.js rkward-0.5.3/rkward/plugins/analysis/irt/tests/ltm_item_fit.js
--- rkward-0.5.3.orig/rkward/plugins/analysis/irt/tests/ltm_item_fit.js	2010-03-03 12:11:51.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/analysis/irt/tests/ltm_item_fit.js	2010-08-06 18:06:45.667225000 +0300
@@ -30,6 +30,15 @@
 }
 
 function printout () {
+  	var rad_pvalue      = getValue("rad_pvalue");
+
 	echo ('rk.header ("Item-fit statistics (' + getValue("x") + ')")\n');
-	echo ('rk.print (itemfit.res)\n');
+	echo ('rk.print ("Call:")\n');
+	echo ('rk.print.literal (deparse(itemfit.res$call, width.cutoff=500))\n');
+	echo ('rk.print ("Alternative: Items do not fit the model")\n');
+	echo ('rk.print (paste("Ability Categories:", itemfit.res$G))\n');
+	if (rad_pvalue == "montecarlo")
+	    echo ('rk.print (paste("Monte Carlo samples:", itemfit.res$B))\n');
+	echo ('rk.header ("Item-Fit Statistics and P-values:", level=4)\n');
+	echo ('rk.print(cbind("X^2"=round(itemfit.res$Tobs, digits=3), "Pr (&gt;X^2)"=format(round(itemfit.res$p.values, digits=3), nsmall=3)))\n');
 }
diff -Nuar rkward-0.5.3.orig/rkward/plugins/analysis/irt/tests/ltm_person_fit.js rkward-0.5.3/rkward/plugins/analysis/irt/tests/ltm_person_fit.js
--- rkward-0.5.3.orig/rkward/plugins/analysis/irt/tests/ltm_person_fit.js	2010-03-03 12:11:51.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/analysis/irt/tests/ltm_person_fit.js	2010-08-06 18:06:45.667225000 +0300
@@ -32,5 +32,8 @@
 
 function printout () {
 	echo ('rk.header ("Person-fit statistics (' + getValue("x") + ')")\n');
-	echo ('rk.print (personfit.res)\n');
+	echo ('rk.print ("Call:")\n');
+	echo ('rk.print.literal (deparse(personfit.res$call, width.cutoff=500))\n');
+	echo ('rk.header ("Response patterns, person-fit statistics (L0, Lz) and probabilities for each response pattern (Pr):", level=4)\n');
+	echo ('rk.print(cbind(format(personfit.res$resp.patterns, nsmall=0), round(personfit.res$Tobs, digits=3), "Pr (&lt;Lz)"=round(c(personfit.res$p.values), digits=3)))\n');
 }
diff -Nuar rkward-0.5.3.orig/rkward/plugins/analysis/irt/tests/ltm_unidimensional.js rkward-0.5.3/rkward/plugins/analysis/irt/tests/ltm_unidimensional.js
--- rkward-0.5.3.orig/rkward/plugins/analysis/irt/tests/ltm_unidimensional.js	2010-03-03 12:11:51.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/analysis/irt/tests/ltm_unidimensional.js	2010-08-06 18:06:45.667225000 +0300
@@ -14,14 +14,23 @@
 }
 
 function printout () {
-	var save         = getValue("chk_save");
+	var save         = getValue("save_name.active");
 	var save_name    = getValue("save_name");
 
 	echo ('rk.header ("Unidimensionality check (' + getValue("x") + ')")\n');
-	echo ('rk.print (unidim.res)\n');
+	echo ('rk.print ("Call:")\n');
+	echo ('rk.print.literal (deparse(unidim.res$call, width.cutoff=500))\n');
+	echo ('rk.header ("Matrix of tertachoric correlations:", level=4)\n');
+	echo ('rk.print (unidim.res$Rho)\n');
+	echo ('rk.header ("Unidimensionality Check using Modified Parallel Analysis:", level=4)\n');
+	echo ('rk.print ("Alternative hypothesis: <em>The second eigenvalue of the observed data is substantially larger than the second eigenvalue of data under the assumed IRT model</em>")\n');
+	echo ('rk.print (paste("Second eigenvalue in the observed data:", round(unidim.res$Tobs[2], digits=3)))\n');
+	echo ('rk.print (paste("Average of second eigenvalues in Monte Carlo samples:", round(mean(unidim.res$T.boot[,2]), digits=3)))\n');
+	echo ('rk.print (paste("Monte Carlo samples:", dim(unidim.res$T.boot)[1]))\n');
+	echo ('rk.print (paste("p-value:", round(unidim.res$p.value, digits=3)))\n');
 	// check if results are to be saved:
 	if (save && save_name) {
 		echo ('# keep results in current workspace\n');
-		echo (save_name + ' <<- unidim.res\n');
+		echo ('.GlobalEnv$' + save_name + ' <- unidim.res\n');
 	}
 }
diff -Nuar rkward-0.5.3.orig/rkward/plugins/analysis/irt/tests/ltm_unidimensional.xml rkward-0.5.3/rkward/plugins/analysis/irt/tests/ltm_unidimensional.xml
--- rkward-0.5.3.orig/rkward/plugins/analysis/irt/tests/ltm_unidimensional.xml	2010-03-03 12:11:51.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/analysis/irt/tests/ltm_unidimensional.xml	2010-06-27 15:02:13.037392000 +0300
@@ -20,10 +20,7 @@
             <frame id="frame_options" label="Monte Carlo options">
               <spinbox id="spin_samples" label="Number of samples:" type="integer" initial="100" min="1" size="small" />
             </frame>
-	    <frame id="frame_save">
-	      <checkbox id="chk_save" label="Keep results in current workspace" value="save" checked="true"/>
-	      <saveobject id="save_name" initial="unidim.res"/>
-	    </frame>
+            <saveobject id="save_name" checkable="true" checked="true" label="Save results in workspace" initial="unidim.res"/>
           </column>
         </row>
       </tab>
diff -Nuar rkward-0.5.3.orig/rkward/plugins/analysis/time_series/hp_filter.js rkward-0.5.3/rkward/plugins/analysis/time_series/hp_filter.js
--- rkward-0.5.3.orig/rkward/plugins/analysis/time_series/hp_filter.js	2010-03-02 22:44:55.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/analysis/time_series/hp_filter.js	2010-06-27 15:02:13.037392000 +0300
@@ -7,7 +7,7 @@
 	}
 
 	echo ('rk.header ("Hodrick-Prescott Filter", parameters=list("Lambda", ' +  lambda + '))\n');
-	echo ('x <- get("' + getValue("x") + '", envir=globalenv())\n');
+	echo ('x <- ' + getValue("x") + '\n');
 	echo ('lambda <- ' +  lambda + "\n");
 	echo ('\n');
 	echo ('if (any (is.na (x))) stop ("Missing values cannot be handled")\n');
@@ -19,11 +19,11 @@
 	echo ('	trend <- ts(trend,start(x),frequency=frequency(x))\n');
 	echo ('	cycle <- ts(cycle,start(x),frequency=frequency(x))\n');
 	echo ('}\n');
-	if (getValue("create_trend") == 1) {
-		echo ('assign("' + getValue("trend_name") + '", trend, envir=globalenv())\n');
+	if (getValue("trend_name.active")) {
+		echo ('.GlobalEnv$' + getValue("trend_name") + ' <- trend\n');
 	}
-	if (getValue("create_cycle") == 1) {
-		echo ('assign("' + getValue("cycle_name") + '", cycle, envir=globalenv())\n');
+	if (getValue("cycle_name.active")) {
+		echo ('.GlobalEnv$' + getValue("cycle_name") + ' <- cycle\n');
 	}
 
 	var upcol = "";
@@ -39,20 +39,20 @@
 
 	var uplty = "";
 	if (getValue("series_lty") != "" & getValue("trend_lty") != "") {
-		uplty = ", lty=c(\"" + getValue("series_lty") + "\", \"" + getValue("trend_lty") + "\")";
+		uplty = ", lty=c(" + quote (getValue("series_lty")) + ", " + quote (getValue("trend_lty")) + ")";
 	} else if (getValue("series_lty") != "") {
-		uplty = ", lty=c(\"" + getValue("series_lty") + "\", \"solid\")";
+		uplty = ", lty=c(" + quote (getValue("series_lty")) + ", \"solid\")";
 	} else if (getValue("trend_lty") != "") {
-		uplty = ", lty=c(\"solid\", \"" + getValue("trend_lty") + "\")";
+		uplty = ", lty=c(\"solid\", " + quote (getValue("trend_lty")) + ")";
 	} else {
 		uplty = "";
 	}
 
 	var uplab = "";
 	if (getValue("uplab.text") == "") {
-		uplab = "\"" + getValue("x") + ", Trend\"";
+		uplab = quote (getValue("x") + ", Trend");
 	} else if (getValue("uplabisquote") == 1) {
-		uplab = "\"" + getValue("uplab") + "\"";
+		uplab = quote (getValue("uplab"));
 	} else {
 		uplab = getValue("uplab");
 	}
@@ -69,7 +69,7 @@
 		if (getValue("downlab.text") == "") {
 			downlab = "\"Cycle\"";
 		} else if (getValue("downlabisquote") == 1) {
-			downlab = "\"" + getValue("downlab") + "\"";
+			downlab = quote (getValue("downlab"));
 		} else {
 			downlab = getValue("downlab");
 		}
diff -Nuar rkward-0.5.3.orig/rkward/plugins/analysis/time_series/hp_filter.xml rkward-0.5.3/rkward/plugins/analysis/time_series/hp_filter.xml
--- rkward-0.5.3.orig/rkward/plugins/analysis/time_series/hp_filter.xml	2010-03-02 22:35:14.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/analysis/time_series/hp_filter.xml	2010-06-27 15:02:13.037392000 +0300
@@ -5,10 +5,6 @@
 	<logic>
 		<connect client="lambda.enabled" governor="custom.state.not"/>
 		<connect client="clambda.enabled" governor="custom.state"/>
-		<connect client="trend_name.enabled" governor="create_trend.state"/>
-		<connect client="trend_name.required" governor="trend_name.enabled"/>
-		<connect client="cycle_name.enabled" governor="create_cycle.state"/>
-		<connect client="cycle_name.required" governor="cycle_name.enabled"/>
 		<connect client="cycle_frame.enabled" governor="plot_cycle.state"/>
 		<connect client="cycle_col.color.enabled" governor="plot_cycle.state"/>
 		<connect client="downlab.enabled" governor="plot_cycle.state"/>
@@ -48,14 +44,8 @@
 						</row>
 						<row>
 							<frame label="Output series" id="output_frame">
-								<row>
-									<checkbox id="create_trend" label="Trend" value="1" value_unchecked="0" checked="true"/>
-									<saveobject id="trend_name" initial="hptrend"/>
-								</row>
-								<row>
-									<checkbox id="create_cycle" label="Cycle" value="1" value_unchecked="0"/>
-									<saveobject id="cycle_name" initial="hpcycle"/>
-								</row>
+								<saveobject id="trend_name" label="Save trend" checkable="true" checked="true" initial="hptrend"/>
+								<saveobject id="cycle_name" label="Save cycle" checkable="true" initial="hpcycle"/>
 							</frame>
 						</row>
 					</column>
diff -Nuar rkward-0.5.3.orig/rkward/plugins/analysis/wilcoxon/wilcoxon_exact_test.rkh rkward-0.5.3/rkward/plugins/analysis/wilcoxon/wilcoxon_exact_test.rkh
--- rkward-0.5.3.orig/rkward/plugins/analysis/wilcoxon/wilcoxon_exact_test.rkh	2009-08-22 23:24:51.000000000 +0300
+++ rkward-0.5.3/rkward/plugins/analysis/wilcoxon/wilcoxon_exact_test.rkh	2010-07-19 01:49:07.114643000 +0300
@@ -1,8 +1,8 @@
 <!DOCTYPE rkhelp>
 <document>
 	<summary>
-		This test differs from <link href="rkward://component/wilcoxon_test"/> in that it uses a different algorithm and supports the exact test even for tied samples.
+		This test differs from <link href="rkward://component/wilcoxon_test"/> in that it uses a different algorithm and supports the exact test even for tied samples. Please note: The package 'exactRankTests' which was previously used in RKWard is no longer under development. Thus the function wilcox_test from the 'coin' package will be used.
 
-		For details of the implementation see <link href="rkward://rhelp/wilcox.exact.test"/>. For documentation of the dialog settings, see <link href="rkward://component/wilcoxon_test"/>.
+		For details of the implementation see <link href="rkward://rhelp/wilcox_test"/>. For documentation of the dialog settings, see <link href="rkward://component/wilcoxon_test"/>.
 	</summary>
 </document>
diff -Nuar rkward-0.5.3.orig/rkward/plugins/data/generate_random.js rkward-0.5.3/rkward/plugins/data/generate_random.js
--- rkward-0.5.3.orig/rkward/plugins/data/generate_random.js	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/data/generate_random.js	2010-06-30 18:56:34.824492000 +0300
@@ -0,0 +1,9 @@
+function calculate () {
+	if (getValue ("length.enabled.numeric")) {
+		length = getValue ("length");
+	} else {	// this happens when the saveto.parent is a data.frame, only.
+		length = "dim (" + getValue ("saveto.parent") + ")[1]";
+	}
+
+	echo (".GlobalEnv$" + getValue ("saveto") + " <- rnorm (" + length + ", mean=" + getValue ("mean") + ", sd=" + getValue ("sd") + ")\n");
+}
diff -Nuar rkward-0.5.3.orig/rkward/plugins/data/generate_random.xml rkward-0.5.3/rkward/plugins/data/generate_random.xml
--- rkward-0.5.3.orig/rkward/plugins/data/generate_random.xml	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/data/generate_random.xml	2010-06-30 18:56:34.824492000 +0300
@@ -0,0 +1,25 @@
+<!DOCTYPE rkplugin>
+<document>
+	<code file="generate_random.js"/>
+	<logic>
+		<connect governor="current_object" client="saveto.parent"/>
+		<script><![CDATA[
+			// the top-level block is called only once
+			gui.addChangeCommand ("saveto.parent", "parentChanged ()");
+
+			// this function is called on every change of the saveto's parent
+			parentChanged = function () {
+				parent_object = makeRObject (gui.getValue ("saveto.parent"));
+				gui.setValue ("length.enabled", !parent_object.isDataFrame ());
+			}
+			]]></script>
+	</logic>
+	<dialog label="Generate random data">
+		<text id="text">Well, this could be extended to other distributions in the same dialog. For now, it's normal distribution.</text>
+		<spinbox default_precision="2" type="real" initial="0" id="mean" label="mu (mean)"/>
+		<spinbox default_precision="2" type="real" min="0" initial="1" id="sd" label="sigma (standard deviation)"/>
+		<frame/>
+		<spinbox type="integer" initial="10" id="length" label="Length of generated sequence"/>
+		<saveobject id="saveto" label="Save as" initial="random"/>
+	</dialog>
+</document>
diff -Nuar rkward-0.5.3.orig/rkward/plugins/data/sort2.xml rkward-0.5.3/rkward/plugins/data/sort2.xml
--- rkward-0.5.3.orig/rkward/plugins/data/sort2.xml	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/data/sort2.xml	2010-07-01 23:02:59.977136000 +0300
@@ -0,0 +1,65 @@
+<!DOCTYPE rkplugin>
+<document>
+	<code file="sort.js"/>
+	<logic>
+		<connect governor="current_object" client="object.available"/>
+		<connect governor="object.available" client="sortby_selector.root"/>
+		<convert id="isok" mode="equals" sources="notice.text" standard="" require_true="true"/>
+		<convert id="no_current_object" mode="equals" sources="current_object" standard=""/>
+		<connect governor="no_current_object" client="object_select.visible"/>
+
+		<convert id="saveto_other_object" mode="equals" sources="saveto_select.string" standard="other"/>
+		<connect governor="saveto_other_object" client="saveto.enabled"/>
+		<connect governor="saveto_other_object" client="saveto.required"/>
+		<script><![CDATA[
+			// the top-level block is called only once
+			gui.addChangeCommand ("object.available", "objectChanged ()");
+
+			// this function is called on every change of the saveto's parent
+			objectChanged = function () {
+				object = makeRObject (gui.getValue ("object.available"));
+				gui.setValue ("sortby_frame.enabled", object.isDataFrame ());
+				gui.setValue ("sortby.required", object.isDataFrame ());
+
+				if (!(object.dimensions().length == 1 || object.isDataFrame())) {
+					// Not very elegant, but...
+					gui.setValue ("notice.text", "This type of object is not supported in this plugin");
+				} else {
+					gui.setValue ("notice.text", "");
+				}
+			}
+			]]></script>
+	</logic>
+	<dialog label="Sort data (Variant 2)">
+		<frame id="object_select">
+			<row>
+				<varselector label="Select the object to be sorted" id="selector"/>
+				<column>
+					<varslot id="object" source="selector" required="true"/>
+					<text id="notice" type="warning"></text>
+					<stretch/>
+				</column>
+			</row>
+		</frame>
+		<row>
+			<frame id="sortby_frame">
+				<varselector label="Sort by" id="sortby_selector"/>
+				<varslot source="sortby_selector" id="sortby" required="true"/>
+			</frame>
+			<column>
+				<radio id="order" label="Order">
+					<option label="Ascending" value="" checked="true"/>
+					<option label="Descending" value=", decreasing=TRUE"/>
+				</radio>
+				<stretch/>
+			</column>
+		</row>
+		<row>
+			<radio id="saveto_select" label="Save to">
+				<option label="Same object" value="same" checked="true"/>
+				<option label="Another object" value="other"/>
+			</radio>
+			<saveobject id="saveto" label="Object to save to" initial="sorted"/>
+		</row>
+	</dialog>
+</document>
diff -Nuar rkward-0.5.3.orig/rkward/plugins/data/sort.js rkward-0.5.3/rkward/plugins/data/sort.js
--- rkward-0.5.3.orig/rkward/plugins/data/sort.js	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/data/sort.js	2010-07-01 20:57:48.822814000 +0300
@@ -0,0 +1,11 @@
+function calculate () {
+	var object = getValue ("object");
+	var is_data_frame = getValue ("sortby_frame.enabled");
+
+	var saveto = object;
+	if (getValue ("saveto_select") == "other") saveto = getValue ("saveto");
+
+	echo (".GlobalEnv$" + saveto + " <- " + object + "[order (" + getValue ("sortby") + getValue ("order") + ")");
+	if (is_data_frame) echo (",");
+	echo ("]\n");
+}
diff -Nuar rkward-0.5.3.orig/rkward/plugins/data/sort.xml rkward-0.5.3/rkward/plugins/data/sort.xml
--- rkward-0.5.3.orig/rkward/plugins/data/sort.xml	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/data/sort.xml	2010-07-01 20:57:48.822814000 +0300
@@ -0,0 +1,63 @@
+<!DOCTYPE rkplugin>
+<document>
+	<code file="sort.js"/>
+	<logic>
+		<connect governor="current_object" client="object.available"/>
+		<connect governor="object.available" client="sortby_selector.root"/>
+		<convert id="isok" mode="equals" sources="notice.text" standard="" require_true="true"/>
+
+		<convert id="saveto_other_object" mode="equals" sources="saveto_select.string" standard="other"/>
+		<connect governor="saveto_other_object" client="saveto.enabled"/>
+		<connect governor="saveto_other_object" client="saveto.required"/>
+		<script><![CDATA[
+			// the top-level block is called only once
+			gui.addChangeCommand ("object.available", "objectChanged ()");
+
+			// this function is called on every change of the saveto's parent
+			objectChanged = function () {
+				object = makeRObject (gui.getValue ("object.available"));
+				gui.setValue ("sortby_frame.enabled", object.isDataFrame ());
+				gui.setValue ("sortby.required", object.isDataFrame ());
+
+				if (!(object.dimensions().length == 1 || object.isDataFrame())) {
+					// Not very elegant, but...
+					gui.setValue ("notice.text", "This type of object is not supported in this plugin");
+				} else {
+					gui.setValue ("notice.text", "");
+				}
+			}
+			]]></script>
+	</logic>
+	<dialog label="Sort data">
+		<frame>
+			<row>
+				<varselector label="Select the object to be sorted" id="selector"/>
+				<column>
+					<varslot id="object" source="selector" required="true"/>
+					<text id="notice" type="warning"></text>
+					<stretch/>
+				</column>
+			</row>
+		</frame>
+		<row>
+			<frame id="sortby_frame">
+				<varselector label="Sort by" id="sortby_selector"/>
+				<varslot source="sortby_selector" id="sortby" required="true"/>
+			</frame>
+			<column>
+				<radio id="order" label="Order">
+					<option label="Ascending" value="" checked="true"/>
+					<option label="Descending" value=", decreasing=TRUE"/>
+				</radio>
+				<stretch/>
+			</column>
+		</row>
+		<row>
+			<radio id="saveto_select" label="Save to">
+				<option label="Same object" value="same" checked="true"/>
+				<option label="Another object" value="other"/>
+			</radio>
+			<saveobject id="saveto" label="Object to save to" initial="sorted"/>
+		</row>
+	</dialog>
+</document>
diff -Nuar rkward-0.5.3.orig/rkward/plugins/distributions/tests/ad_test.js rkward-0.5.3/rkward/plugins/distributions/tests/ad_test.js
--- rkward-0.5.3.orig/rkward/plugins/distributions/tests/ad_test.js	2010-03-03 12:52:29.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/distributions/tests/ad_test.js	2010-07-19 01:24:35.903621000 +0300
@@ -3,7 +3,7 @@
 }
 
 function calculate () {
-	var vars = "substitute (" + trim (getValue ("x")).replace ("\n", "), substitute (") + ")";
+	var vars = "substitute (" + trim (getValue ("x")).replace (/\n/g, "), substitute (") + ")";
 
 	echo ('vars <- list (' + vars + ')\n');
 	echo ('results <- data.frame (\'Variable Name\'=rep (NA, length (vars)), check.names=FALSE)\n');
diff -Nuar rkward-0.5.3.orig/rkward/plugins/distributions/tests/cvm_test.js rkward-0.5.3/rkward/plugins/distributions/tests/cvm_test.js
--- rkward-0.5.3.orig/rkward/plugins/distributions/tests/cvm_test.js	2010-03-03 12:52:58.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/distributions/tests/cvm_test.js	2010-07-19 01:24:35.903621000 +0300
@@ -3,7 +3,7 @@
 }
 
 function calculate () {
-	var vars = "substitute (" + trim (getValue ("x")).replace ("\n", "), substitute (") + ")";
+	var vars = "substitute (" + trim (getValue ("x")).replace (/\n/g, "), substitute (") + ")";
 
 	echo ('vars <- list (' + vars + ')\n');
 	echo ('results <- data.frame (\'Variable Name\'=rep (NA, length (vars)), check.names=FALSE)\n');
diff -Nuar rkward-0.5.3.orig/rkward/plugins/distributions/tests/jb_test.js rkward-0.5.3/rkward/plugins/distributions/tests/jb_test.js
--- rkward-0.5.3.orig/rkward/plugins/distributions/tests/jb_test.js	2010-03-03 14:03:01.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/distributions/tests/jb_test.js	2010-07-19 01:24:35.903621000 +0300
@@ -3,7 +3,7 @@
 }
 
 function calculate () {
-	var vars = "substitute (" + trim (getValue ("x")).replace ("\n", "), substitute (") + ")";
+	var vars = "substitute (" + trim (getValue ("x")).replace (/\n/g, "), substitute (") + ")";
 
 	echo ('vars <- list (' + vars + ')\n');
 	echo ('results <- data.frame (\'Variable Name\'=rep (NA, length (vars)), check.names=FALSE)\n');
diff -Nuar rkward-0.5.3.orig/rkward/plugins/distributions/tests/lillie_test.js rkward-0.5.3/rkward/plugins/distributions/tests/lillie_test.js
--- rkward-0.5.3.orig/rkward/plugins/distributions/tests/lillie_test.js	2010-03-03 12:53:39.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/distributions/tests/lillie_test.js	2010-07-19 01:24:35.903621000 +0300
@@ -3,7 +3,7 @@
 }
 
 function calculate () {
-	var vars = "substitute (" + trim (getValue ("x")).replace ("\n", "), substitute (") + ")";
+	var vars = "substitute (" + trim (getValue ("x")).replace (/\n/g, "), substitute (") + ")";
 
 	echo ('vars <- list (' + vars + ')\n');
 	echo ('results <- data.frame (\'Variable Name\'=rep (NA, length (vars)), check.names=FALSE)\n');
diff -Nuar rkward-0.5.3.orig/rkward/plugins/distributions/tests/pearson_test.js rkward-0.5.3/rkward/plugins/distributions/tests/pearson_test.js
--- rkward-0.5.3.orig/rkward/plugins/distributions/tests/pearson_test.js	2010-03-03 12:54:03.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/distributions/tests/pearson_test.js	2010-07-19 01:24:35.903621000 +0300
@@ -3,7 +3,7 @@
 }
 
 function calculate () {
-	var vars = "substitute (" + trim (getValue ("x")).replace ("\n", "), substitute (") + ")";
+	var vars = "substitute (" + trim (getValue ("x")).replace (/\n/g, "), substitute (") + ")";
 	var adjust = getValue ("adjust");
 
 
diff -Nuar rkward-0.5.3.orig/rkward/plugins/distributions/tests/sf_test.js rkward-0.5.3/rkward/plugins/distributions/tests/sf_test.js
--- rkward-0.5.3.orig/rkward/plugins/distributions/tests/sf_test.js	2010-03-03 12:54:24.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/distributions/tests/sf_test.js	2010-07-19 01:24:35.903621000 +0300
@@ -3,7 +3,7 @@
 }
 
 function calculate () {
-	var vars = "substitute (" + trim (getValue ("x")).replace ("\n", "), substitute (") + ")";
+	var vars = "substitute (" + trim (getValue ("x")).replace (/\n/g, "), substitute (") + ")";
 
 	echo ('vars <- list (' + vars + ')\n');
 	echo ('results <- data.frame (\'Variable Name\'=rep (NA, length (vars)), check.names=FALSE)\n');
diff -Nuar rkward-0.5.3.orig/rkward/plugins/distributions/tests/shapiro_test.js rkward-0.5.3/rkward/plugins/distributions/tests/shapiro_test.js
--- rkward-0.5.3.orig/rkward/plugins/distributions/tests/shapiro_test.js	2010-03-03 12:54:37.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/distributions/tests/shapiro_test.js	2010-07-19 01:24:35.903621000 +0300
@@ -1,5 +1,5 @@
 function calculate () {
-	var vars = "substitute (" + trim (getValue ("x")).replace ("\n", "), substitute (") + ")";
+	var vars = "substitute (" + trim (getValue ("x")).replace (/\n/g, "), substitute (") + ")";
 
 	echo ('vars <- list (' + vars + ')\n');
 	echo ('results <- data.frame (\'Variable Name\'=rep (NA, length (vars)), check.names=FALSE)\n');
diff -Nuar rkward-0.5.3.orig/rkward/plugins/plots/box_plot.js rkward-0.5.3/rkward/plugins/plots/box_plot.js
--- rkward-0.5.3.orig/rkward/plugins/plots/box_plot.js	2010-02-11 11:33:57.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/plots/box_plot.js	2010-08-31 13:52:48.935544000 +0300
@@ -40,21 +40,21 @@
 	}
 	echo ('try (boxplot (data_list, notch = ' + getValue ("notch") + ', outline = ' + getValue("outline") + ', horizontal = ' + getValue("orientation") + getValue ("plotoptions.code.printout") + ')) #actuall boxplot function\n');
 	if ((mean == "TRUE") && (horizontal == "TRUE")) {
-		echo ('	try (points(1:length(data_list) ~ apply(data.frame(' + xvarsstring + '),2,mean,na.rm = TRUE),pch=' + pch_mean + ', cex = ' + getValue ("cex_sd_mean") + getValue ("sd_mean_color.code.printout") + ')) #calculates the mean for all data and adds a point at the corresponding position\n');
+		echo ('	try (points(1:length(data_list) ~ sapply(data_list,mean,na.rm = TRUE),pch=' + pch_mean + ', cex = ' + getValue ("cex_sd_mean") + getValue ("sd_mean_color.code.printout") + ')) #calculates the mean for all data and adds a point at the corresponding position\n');
 	}
 	if ((mean == "TRUE") && (horizontal == "FALSE")) {
-		echo ('	try (points(apply(data.frame(' + xvarsstring + '),2,mean,na.rm = TRUE),pch=' + pch_mean + ', cex = ' + getValue ("cex_sd_mean") + getValue ("sd_mean_color.code.printout") + ')) #calculates the mean for all data and adds a point at the corresponding position\n');
+		echo ('	try (points(sapply(data_list,mean,na.rm = TRUE),pch=' + pch_mean + ', cex = ' + getValue ("cex_sd_mean") + getValue ("sd_mean_color.code.printout") + ')) #calculates the mean for all data and adds a point at the corresponding position\n');
 	}
 
 	if ((sd == "TRUE") && (horizontal == "FALSE")) {
-		echo ('	sd_low <- (apply(data.frame(' + xvarsstring + '),2,mean,na.rm = TRUE)) - (apply(data.frame(' + xvarsstring + '),2,sd,na.rm = TRUE))\n');
-		echo ('	sd_high <- (apply(data.frame(' + xvarsstring + '),2,mean,na.rm = TRUE)) + (apply(data.frame(' + xvarsstring + '),2,sd,na.rm = TRUE))\n');
+		echo ('	sd_low <- (sapply(data_list,mean,na.rm = TRUE)) - (sapply(data_list,sd,na.rm = TRUE))\n');
+		echo ('	sd_high <- (sapply(data_list,mean,na.rm = TRUE)) + (sapply(data_list,sd,na.rm = TRUE))\n');
 		echo ('	points(sd_low,pch=' + pch_sd_low + ', cex = ' + getValue ("cex_sd_mean") + getValue ("sd_mean_color.code.printout") + ')\n');
 		echo ('	points(sd_high,pch=' + pch_sd_high + ', cex = ' + getValue ("cex_sd_mean") + getValue ("sd_mean_color.code.printout") + ')\n');
 	}
 	if ((sd == "TRUE") && (horizontal == "TRUE")) {
-		echo ('	sd_low <- (apply(data.frame(' + xvarsstring + '),2,mean,na.rm = TRUE)) - (apply(data.frame(' + xvarsstring + '),2,sd,na.rm = TRUE))\n');
-		echo ('	sd_high <- (apply(data.frame(' + xvarsstring + '),2,mean,na.rm = TRUE)) + (apply(data.frame(' + xvarsstring + '),2,sd,na.rm = TRUE))\n');
+		echo ('	sd_low <- (sapply(data_list,mean,na.rm = TRUE)) - (sapply(data_list,sd,na.rm = TRUE))\n');
+		echo ('	sd_high <- (sapply(data_list,mean,na.rm = TRUE)) + (sapply(data_list,sd,na.rm = TRUE))\n');
 		echo ('	points(1:length(data_list) ~ sd_low,pch=' + pch_sd_low + ', cex = ' + getValue ("cex_sd_mean") + getValue ("sd_mean_color.code.printout") + ')\n');
 		echo ('	points(1:length(data_list) ~ sd_high,pch=' + pch_sd_high + ', cex = ' + getValue ("cex_sd_mean") + getValue ("sd_mean_color.code.printout") + ')\n');
 	}
diff -Nuar rkward-0.5.3.orig/rkward/plugins/plots/plot_options.js2 rkward-0.5.3/rkward/plugins/plots/plot_options.js2
--- rkward-0.5.3.orig/rkward/plugins/plots/plot_options.js2	2009-12-07 12:15:29.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/plots/plot_options.js2	1970-01-01 02:00:00.000000000 +0200
@@ -1,149 +0,0 @@
-/* ------- This file generated by php2js from PHP code. --------
-Please check this file by hand, and remove this notice, afterwards.
-Messages:
-Warning: please check correctness of conversion of '=>' in arrays by hand
-Note: Control statement without braces. This is bad style.
-Note: Control statement without braces. This is bad style.
-Note: Control statement without braces. This is bad style.
-Note: Control statement without braces. This is bad style.
-Note: Control statement without braces. This is bad style.
-Note: Control statement without braces. This is bad style.
-Note: Control statement without braces. This is bad style.
-Note: Control statement without braces. This is bad style.
-Note: Control statement without braces. This is bad style.
-Note: Control statement without braces. This is bad style.
-
----------------------------- */
-
-// globals
-var undefined;
-
-function prepareLabel (labelname) {
-	var quoted = (getValue (labelname + "isquote") == "1");
-	var label = getValue (labelname);
-	if (label == "") {
-		label = getValue ("default_" + labelname);
-		quoted = true;
-	}
-	if ((label != "") && (quoted)) label = "\"" + label.replace ('"', '\\"') + "\"";
-	if (label != "") label = ", " + labelname + "=" + label;
-
-	return label;
-}
-
-
-function calculate () {
-	if (getValue ("grid_enable") == "true") {
-		echo (getValue ("grid_options.code.printout"));
-	}
-}
-
-function printout () {
-	var log = "";
-	var xaxt = "";
-	var yaxt = "";
-	var xlim = "";
-	var ylim = "";
-	var xlab = "";
-	var ylab = "";
-	var main = "";
-	var sub = "";
-	var xvars = "";
-	var xvar = "";
-	var yvars = "";
-	var yvar = "";
-	var xminvalue = "";
-	var xmaxvalue = "";
-	var yminvalue = "";
-	var ymaxvalue = "";
-	var type = "";
-	var col = "";
-	var asp = "";
-	var options = "";
-
-	xvars = getValue ("xvar").split ("\n");
-	if (xvars.length > 1) {
-		xvar = "c (" + join (", ", xvars) + ")";
-	} else {
-		xvar = xvars[0];
-	}
-	yvars = getValue ("yvar").split ("\n");
-	if (yvars.length > 1) {
-		yvar = "c (" + join (", ", yvars) + ")";
-	} else {
-		yvar = yvars[0];
-	}
-
-	if (yvar == "") {
-		yvar = "1:length (" + xvar +")";
-	} else if (xvar == "") {	// don't replace both at the same time, even if both are empty
-		xvar = "1:length (" + yvar +")";
-	}
-
-	// X axis
-	xaxt = getValue ("xaxt");
-	if (xaxt != "") {
-		xaxt = ", xaxt=\"" + xaxt + "\"";
-	}
-	log += getValue ("xlog");
-
-	xlab = prepareLabel ("xlab");
-	xminvalue = getValue ("xminvalue");
-	xmaxvalue = getValue ("xmaxvalue");
-	if ((xminvalue != "") || (xmaxvalue != "")) {
-		xlim = ", xlim=c (";
-		if ((xminvalue == "") && (xvar != "")) xlim += "min (" + xvar + ")";
-		else xlim += xminvalue;
-		xlim += ", ";
-		if ((xmaxvalue == "") && (xvar != "")) xlim += "max (" + xvar + ")";
-		else xlim += xmaxvalue;
-		xlim += ")";
-	}
-
-
-	// same for Y axis
-	yaxt = getValue ("yaxt");
-	if (yaxt != "") {
-		yaxt = ", yaxt=\"" + yaxt + "\"";
-	}
-	log += getValue ("ylog");
-
-	ylab = prepareLabel ("ylab");
-	yminvalue = getValue ("yminvalue");
-	ymaxvalue = getValue ("ymaxvalue");
-	if ((yminvalue != "") || (ymaxvalue != "")) {
-		ylim = ", ylim=c (";
-		if ((yminvalue == "") && (yvar != "")) ylim += "min (" + yvar + ")";
-		else ylim += yminvalue;
-		ylim += ", ";
-		if ((ymaxvalue == "") && (yvar != "")) ylim += "max (" + yvar + ")";
-		else ylim += ymaxvalue;
-		ylim += ")";
-	}
-
-
-	// final touches
-	if (log != "") log = ", log=\"" + log + "\"";
-
-	type = getValue ("pointtype");
-	if (type == "") type = getValue ("default_pointtype");
-	if (type != "") type = ", type=\"" + type + "\"";
-
-	//color of points / lines
-	col = getValue ("pointcolor.code.printout");
-
-	// main and subtitle to the plot
-	main = prepareLabel ("main");
-	sub = prepareLabel ("sub");
-
-	//define the aspect y/x of the plot
-	asp = getValue ("asp");
-	if (asp != 0) asp = ", asp=" + asp;
-	else asp = "";
-
-	// make option string
-	options = type + col + xaxt + yaxt + log + xlim + ylim + xlab + ylab + main + sub + asp;
-
-	echo (options);
-}
-
diff -Nuar rkward-0.5.3.orig/rkward/plugins/svncopy.sh rkward-0.5.3/rkward/plugins/svncopy.sh
--- rkward-0.5.3.orig/rkward/plugins/svncopy.sh	2009-12-07 12:13:41.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/svncopy.sh	1970-01-01 02:00:00.000000000 +0200
@@ -1,3 +0,0 @@
-#!/bin/bash
-jsfile=`echo $1 | sed 's/php$/js/g'`
-svn copy $1 $jsfile
diff -Nuar rkward-0.5.3.orig/rkward/plugins/testing/test1.js rkward-0.5.3/rkward/plugins/testing/test1.js
--- rkward-0.5.3.orig/rkward/plugins/testing/test1.js	2009-12-17 10:31:25.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/testing/test1.js	2010-06-20 20:51:06.951699000 +0300
@@ -1,14 +1,11 @@
 function preprocess () {
 	printIndented ("\t\t", "This is\n\t\a\ntest");
-	printIndented ("---", getValue ("embedded.code.preprocess"));
 }
 
 function calculate () {
 	echo ('model = glm (' + getValue ("model") + ', data=' + getValue ("model.table") + ')\n');
 	echo ('labels = ' + getValue ("model.labels") + '\n');
 	echo ('result = anova (model)\n');
-
-	printIndented ("---", getValue ("embedded.code.calculate"));
 }
 
 function printout () {
diff -Nuar rkward-0.5.3.orig/rkward/plugins/testing/test1.xml rkward-0.5.3/rkward/plugins/testing/test1.xml
--- rkward-0.5.3.orig/rkward/plugins/testing/test1.xml	2009-09-30 18:30:13.000000000 +0300
+++ rkward-0.5.3/rkward/plugins/testing/test1.xml	2010-06-30 18:56:34.824492000 +0300
@@ -2,9 +2,30 @@
 
 <document>
 	<code file="test1.js"/>
-	
-	<dialog label="Testing QtScript code generation">
-		<text>
+
+	<logic>
+		<script><![CDATA[
+			call_num = 0;
+			gui.setValue ("text.text", "Select a dependent variable!");
+
+			f = Kross.module('forms');
+			label = f.createWidget(scripty, 'QLabel', 'Label', {});
+			label.setText ('<b>This label was created by the script. Be sure to read the label above, too.</b>');
+
+			gui.addChangeCommand ("x.available", "updateText ()");
+			updateText = function () {
+				call_num += 1;
+				obj = makeRObject (gui.getValue ("x.available"));
+				text = "So, you think it's '" + obj.objectname + "'?\n";
+				text += "That has length " + obj.dimensions() + " and classes " + obj.classes() + "!\n";
+				text += "Updates of this text so far: " + call_num;
+				gui.setValue ("text.text", text);
+			}
+			]]></script>
+	</logic>
+
+	<dialog label="Testing Kross/QtScript code generation">
+		<text id="text">
 			This plugin is bogus! Do not use!
 		</text>
 		<tabbook>
@@ -18,13 +39,11 @@
 						<varslot type="numeric" id="y" source="vars" required="true" multi="true" label="fixed factors"/>
 					</column>
 				</row>
+				<scriptable id="scripty"/>
 			</tab>
 			<tab label="Model">
 				<formula id="model" fixed_factors="y" dependent="x" label="Now chose the model"/>
 			</tab>
-			<tab>
-				<embed id="embedded" component="rkward::qtscript_test2"/>
-			</tab>
 		</tabbook>
 	</dialog>
 
diff -Nuar rkward-0.5.3.orig/rkward/plugins/under_development.pluginmap rkward-0.5.3/rkward/plugins/under_development.pluginmap
--- rkward-0.5.3.orig/rkward/plugins/under_development.pluginmap	2009-10-26 16:57:34.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/under_development.pluginmap	2010-07-01 23:02:59.977136000 +0300
@@ -3,10 +3,15 @@
 <document base_prefix="" namespace="rkward">
 	<components>
 		<component type="standard" id="simple_anova" file="simple_anova/description.xml" label="Simple Anova" />
-		<component type="standard" id="qtscript_test1" file="testing/test1.xml" label="QtScript Test 1" />
-		<component type="standard" id="qtscript_test2" file="testing/test2.xml" label="QtScript Test 2" />
 		<component type="standard" id="sieve_plot" file="plots/sieve_plot.xml" label="Extended Sieve Plot" />
+		<component type="standard" id="generate_random" file="data/generate_random.xml" label="Generate random data" />
+		<component type="standard" id="sort_data" file="data/sort.xml" label="Sort data" />
+		<component type="standard" id="sort_data2" file="data/sort2.xml" label="Sort data (Variant 2)" />
 
+<!-- These are purely for testing: -->
+		<component type="standard" id="qtscript_test1" file="testing/test1.xml" label="QtScript Test 1" />
+		<component type="standard" id="qtscript_test2" file="testing/test2.xml" label="QtScript Test 2" />
+<!-- End -->
 	</components>
 
 	<hierarchy>
@@ -18,6 +23,11 @@
 			<menu id="export" label="Export" index="5">
 			</menu>
 		</menu>
+		<menu id="data" label="Data" index="3">
+			<entry component="generate_random"/>
+			<entry component="sort_data"/>
+			<entry component="sort_data2"/>
+		</menu>
 		<menu id="analysis" label="Analysis" index="4">
 			<entry component="simple_anova" index="9"/>
 			<entry component="qtscript_test1" index="1"/>
diff -Nuar rkward-0.5.3.orig/rkward/plugins/uni1.2/code.js rkward-0.5.3/rkward/plugins/uni1.2/code.js
--- rkward-0.5.3.orig/rkward/plugins/uni1.2/code.js	2010-02-25 23:36:23.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/uni1.2/code.js	2010-06-27 15:02:13.037392000 +0300
@@ -78,9 +78,9 @@
 	}
 	echo ('}\n');
 	echo ('\n');
-	if (getValue ("result") == "1") {
+	if (getValue ("saveas.active")) {
 		echo ('# store results\n');
-		echo ('\'' + getValue ("nom") + '\' <- results\n');
+		echo ('.GlobalEnv$' + getValue ("saveas") + ' <- results\n');
 	}
 }
 
diff -Nuar rkward-0.5.3.orig/rkward/plugins/uni1.2/description.xml rkward-0.5.3/rkward/plugins/uni1.2/description.xml
--- rkward-0.5.3.orig/rkward/plugins/uni1.2/description.xml	2010-02-25 23:30:15.000000000 +0200
+++ rkward-0.5.3/rkward/plugins/uni1.2/description.xml	2010-06-27 15:02:13.037392000 +0300
@@ -17,7 +17,6 @@
 
 		<connect client="tol.enabled" governor="huber.state" />
 		<connect client="initmu.enabled" governor="huber.state" />
-		<connect client="nom.enabled" governor="result.state" />
 	</logic>
 	<dialog label="Basic statistics" >
 		<tabbook>
@@ -110,8 +109,7 @@
 			</tab>
 			<tab id="option" label="Options" >
 				<checkbox value_unchecked="0" checked="true" value="1" id="narm" label="Omit missing values" />
-				<checkbox checked="false" value="1" id="result" label="Store results" />
-				<saveobject intial="rk.univariate" id="nom" label="Name of the result" />
+				<saveobject intial="rk.univariate" id="saveas" checkable="true" label="Store results" />
 				<stretch/>
 			</tab>
 		</tabbook>
diff -Nuar rkward-0.5.3.orig/rkward/rbackend/FindR.cmake rkward-0.5.3/rkward/rbackend/FindR.cmake
--- rkward-0.5.3.orig/rkward/rbackend/FindR.cmake	2009-06-24 15:26:52.000000000 +0300
+++ rkward-0.5.3/rkward/rbackend/FindR.cmake	2010-07-19 15:31:46.764460000 +0300
@@ -32,15 +32,15 @@
 
 MESSAGE(STATUS "Looking for R include files")
 IF(NOT R_INCLUDEDIR)
-	IF(WIN32)	# This version of the test will not work with R < 2.9.0, but the other version (in the else part) will not work on windows (and on windows the paths are generally standard, anyway).
+	IF(WIN32 OR APPLE)	# This version of the test will not work with R < 2.9.0, but the other version (in the else part) will not work on windows or apple (but we do not really need to support ancient versions of R, there).
 		EXECUTE_PROCESS(
 			COMMAND ${R_EXECUTABLE} "--slave" "--no-save" "-e" "cat(R.home('include'))"
 			OUTPUT_VARIABLE R_INCLUDEDIR)
-	ELSE(WIN32)
+	ELSE(WIN32 OR APPLE)
 		EXECUTE_PROCESS(
 			COMMAND ${R_EXECUTABLE} CMD sh -c "echo -n $R_INCLUDE_DIR"
 			OUTPUT_VARIABLE R_INCLUDEDIR)
-	ENDIF(WIN32)
+	ENDIF(WIN32 OR APPLE)
 ELSE(NOT R_INCLUDEDIR)
 	MESSAGE(STATUS "Location specified by user")
 ENDIF(NOT R_INCLUDEDIR)
@@ -94,12 +94,12 @@
 ELSE(NOT LIBR_LAPACK)
 	MESSAGE(STATUS "Yes, ${LIBR_LAPACK} exists")
 	SET(R_USED_LIBS ${R_USED_LIBS} Rlapack)
-	IF(NOT WIN32)
+	IF(NOT (WIN32 OR APPLE))
 		# needed when linking to Rlapack on linux for some unknown reason.
 		# apparently not needed on windows (let's see, when it comes back to bite us, though)
 		# and compiling on windows is hard enough even without requiring libgfortran, too.
 		SET(R_USED_LIBS ${R_USED_LIBS} gfortran)
-	ENDIF(NOT WIN32)
+	ENDIF(NOT (WIN32 OR APPLE))
 ENDIF(NOT LIBR_LAPACK)
 
 # for at least some versions of R, we seem to have to link against -lRlapack. Else loading some
diff -Nuar rkward-0.5.3.orig/rkward/rbackend/rcommandreceiver.h rkward-0.5.3/rkward/rbackend/rcommandreceiver.h
--- rkward-0.5.3.orig/rkward/rbackend/rcommandreceiver.h	2008-01-21 20:58:24.000000000 +0200
+++ rkward-0.5.3/rkward/rbackend/rcommandreceiver.h	2010-06-28 17:39:45.673399000 +0300
@@ -24,7 +24,7 @@
 /**
 Use this class as a base for all classes that need to handle RCommands. Most importantly it provides a virtual function (rCommandDone ()) for handling of RCommand-results. Reimplement this to interpret the command-results.
 For windows/dialogs which interpret RCommand results, the receiver provides a special mechanism. The problem with those windows/dialogs is, that the user may close them, while there are still RCommands due to come in, i.e. they can't be deleted, but rather need to wait for the remaining results to come in.
-This class will keep track of which RCommands are still out there (and expected to return to this receiver). When deleting the object, it will unregister from all outstanding commands, so there are invalid pointer operations.
+This class will keep track of which RCommands are still out there (and expected to return to this receiver). When deleting the object, it will unregister from all outstanding commands, so there are no invalid pointer operations.
 
 TODO: this mechanism may be slightly costly, if there are *many* commands outstanding. Maybe for special receivers like RKWatch, which are never destroyed at run-time, the mechanism should be disabled.
 
diff -Nuar rkward-0.5.3.orig/rkward/rbackend/rembedinternal.cpp rkward-0.5.3/rkward/rbackend/rembedinternal.cpp
--- rkward-0.5.3.orig/rkward/rbackend/rembedinternal.cpp	2010-03-10 13:23:29.000000000 +0200
+++ rkward-0.5.3/rkward/rbackend/rembedinternal.cpp	2010-09-04 16:22:33.185599000 +0300
@@ -124,7 +124,9 @@
 
 SEXP RKWard_RData_Tag;
 QString *SEXPToStringList (SEXP from_exp, unsigned int *count);
+QString SEXPToString (SEXP from_exp);
 int *SEXPToIntArray (SEXP from_exp, unsigned int *count);
+int SEXPToInt (SEXP from_exp, int def_value = INT_MIN);
 
 // ############## R Standard callback overrides BEGIN ####################
 void RSuicide (const char* message) {
@@ -138,34 +140,6 @@
 	Rf_error ("Backend dead");	// this jumps us out of the REPL.
 }
 
-void RShowMessage (const char* message) {
-	RK_TRACE (RBACKEND);
-
-	RCallbackArgs args;
-	args.type = RCallbackArgs::RShowMessage;
-	args.params["message"] = QVariant (message);
-	REmbedInternal::this_pointer->handleStandardCallback (&args);
-}
-
-// TODO: currently used on windows, only!
-/* FROM R_ext/RStartup.h: "Return value here is expected to be 1 for Yes, -1 for No and 0 for Cancel:
-   symbolic constants in graphapp.h" */
-int RAskYesNoCancel (const char* message) {
-	RK_TRACE (RBACKEND);
-
-	RCallbackArgs args;
-	args.type = RCallbackArgs::RShowMessage;
-	args.params["message"] = QVariant (message);
-	args.params["askync"] = QVariant (true);
-
-	REmbedInternal::this_pointer->handleStandardCallback (&args);
-
-	QString ret = args.params["result"].toString ();
-	if (ret == "yes") return 1;
-	if (ret == "no") return -1;
-	return 0;
-}
-
 int RReadConsole (const char* prompt, unsigned char* buf, int buflen, int hist) {
 	RK_TRACE (RBACKEND);
 
@@ -317,14 +291,12 @@
 	RK_TRACE (RBACKEND);
 
 	// this function would be much shorter, if SEXPToStringList would simply return a QStringList...
-	unsigned int files_count, titles_count, wtitle_count, del_count;
+	unsigned int files_count, titles_count;
 	QString *file_strings = SEXPToStringList (files, &files_count);
 	QString *title_strings = SEXPToStringList (titles, &titles_count);
-	QString *wtitle_strings = SEXPToStringList (wtitle, &wtitle_count);
-	int *del_bools = SEXPToIntArray (del, &del_count);
+	QString wtitle_string = SEXPToString (wtitle);
+	bool del_files = SEXPToInt (del, 0) != 0;
 
-	RK_ASSERT (wtitle_count <= 1);
-	RK_ASSERT (del_count <= 1);
 	RK_ASSERT (files_count == titles_count);
 	RK_ASSERT (files_count >= 1);
 
@@ -336,17 +308,11 @@
 		files_list.append (file_strings[i]);
 		titles_list.append (title_strings[i]);
 	}
-	QString wtitle_string;
-	if (wtitle_count) wtitle_string = wtitle_strings[0];
-	bool del_files = false;
-	if (del_count) del_files = (del_bools[0] != 0);
 
 	REditFilesHelper (files_list, titles_list, wtitle_string, edit, del_files);
 
 	delete [] file_strings;
 	delete [] title_strings;
-	delete [] wtitle_strings;
-	delete [] del_bools;
 
 	return (R_NilValue);
 }
@@ -378,6 +344,51 @@
 	return 1;
 }
 
+/* FROM R_ext/RStartup.h: "Return value here is expected to be 1 for Yes, -1 for No and 0 for Cancel:
+   symbolic constants in graphapp.h" */
+int doDialogHelper (QString caption, QString message, QString button_yes, QString button_no, QString button_cancel, bool wait) {
+	RK_TRACE (RBACKEND);
+
+	RCallbackArgs args;
+	args.type = RCallbackArgs::RShowMessage;
+	args.params["caption"] = QVariant (caption);
+	args.params["message"] = QVariant (message);
+	args.params["button_yes"] = QVariant (button_yes);
+	args.params["button_no"] = QVariant (button_no);
+	args.params["button_cancel"] = QVariant (button_cancel);
+	if (wait) args.params["wait"] = "1";
+
+	REmbedInternal::this_pointer->handleStandardCallback (&args);
+
+	QString ret = args.params["result"].toString ();
+	if (ret == "yes") return 1;
+	if (ret == "no") return -1;
+	return 0;
+}
+
+SEXP doDialog (SEXP caption, SEXP message, SEXP button_yes, SEXP button_no, SEXP button_cancel, SEXP wait) {
+	RK_TRACE (RBACKEND);
+
+	int result = doDialogHelper (SEXPToString (caption), SEXPToString (message), SEXPToString (button_yes), SEXPToString (button_no), SEXPToString (button_cancel), SEXPToInt (wait));
+
+	SEXP ret = Rf_allocVector(INTSXP, 1);
+	INTEGER (ret)[0] = result;
+	return ret;
+}
+
+void RShowMessage (const char* message) {
+	RK_TRACE (RBACKEND);
+
+	doDialogHelper (i18n ("Message from the R backend"), message, "ok", QString (), QString (), true);
+}
+
+// TODO: currently used on windows, only!
+int RAskYesNoCancel (const char* message) {
+	RK_TRACE (RBACKEND);
+
+	return doDialogHelper (i18n ("Question from the R backend"), message, "yes", "no", "cancel", true);
+}
+
 void RBusy (int busy) {
 	RK_TRACE (RBACKEND);
 
@@ -519,6 +530,20 @@
 	R_ToplevelExec (processX11EventsWorker, 0);
 }
 
+/** converts SEXP to strings, and returns the first string (or QString(), if SEXP contains no strings) */
+QString SEXPToString (SEXP from_exp) {
+	RK_TRACE (RBACKEND);
+
+	QString ret;
+
+	unsigned int count;
+	QString *list = SEXPToStringList (from_exp, &count);
+
+	if (count >= 1) ret = list[0];
+	delete [] list;
+	return ret;
+}
+
 QString *SEXPToStringList (SEXP from_exp, unsigned int *count) {
 	RK_TRACE (RBACKEND);
 
@@ -586,6 +611,19 @@
 	return integers;
 }
 
+/** converts SEXP to integers, and returns the first int (def_value, if SEXP contains no ints) */
+int SEXPToInt (SEXP from_exp, int def_value) {
+	RK_TRACE (RBACKEND);
+
+	int ret = def_value;
+	unsigned int count;
+	int *integers = SEXPToIntArray (from_exp, &count);
+	if (count >= 1) ret = integers[0];
+	delete [] integers;
+
+	return ret;
+}
+
 double *SEXPToRealArray (SEXP from_exp, unsigned int *count) {
 	RK_TRACE (RBACKEND);
 
@@ -826,6 +864,7 @@
 		{ "rk.copy.no.eval", (DL_FUNC) &doCopyNoEval, 3 },
 		{ "rk.edit.files", (DL_FUNC) &doEditFiles, 3 },
 		{ "rk.show.files", (DL_FUNC) &doShowFiles, 4 },
+		{ "rk.dialog", (DL_FUNC) &doDialog, 6 },
 		{ "rk.update.locale", (DL_FUNC) &doUpdateLocale, 0 },
 		{ "rk.locale.name", (DL_FUNC) &doLocaleName, 0 },
 		{ 0, 0, 0 }
diff -Nuar rkward-0.5.3.orig/rkward/rbackend/rinterface.cpp rkward-0.5.3/rkward/rbackend/rinterface.cpp
--- rkward-0.5.3.orig/rkward/rbackend/rinterface.cpp	2010-04-24 20:12:09.000000000 +0300
+++ rkward-0.5.3/rkward/rbackend/rinterface.cpp	2010-09-04 16:14:53.759975000 +0300
@@ -221,7 +221,8 @@
 			<p><b>You should quit RKWard, now, and fix your installation</b>. For help with that, see <a href=\"http://p.sf.net/rkward/compiling\">http://p.sf.net/rkward/compiling</a>.</p>\n"));
 		}
 		if (err & RThread::SinkFail) {
-			message.append (i18n ("<p>\t-There was a problem opening the files needed for communication with R. Most likely this is due to an incorrect setting for the location of these files. Check whether you have correctly configured the location of the log-files (Settings->Configure Settings->Logfiles) and restart RKWard.</p>\n"));
+			message.append (i18n ("<p>\t-There was a problem setting up the communication with R. Most likely this is due to an incorrect version of the 'rkward' R-library or failure to find that at all. This indicates a borken installation.</p>\
+			<p><b>You should quit RKWard, now, and fix your installation</b>. For help with that, see <a href=\"http://p.sf.net/rkward/compiling\">http://p.sf.net/rkward/compiling</a>.</p></p>\n"));
 		}
 		if (err & RThread::OtherFail) {
 			message.append (i18n ("<p>\t-An unspecified error occurred that is not yet handled by RKWard. Likely RKWard will not function properly. Please check your setup.</p>\n"));
@@ -383,6 +384,14 @@
 			window_catcher->stop (QString (request->call[1]).toInt ());
 			MUTEX_UNLOCK;
 		}
+	} else if (call == "updateDeviceHistory") {
+		if (request->call.count () >= 2) {
+			window_catcher->updateHistory (request->call.mid (1));
+		}
+	} else if (call == "killDevice") {
+		if (request->call.count () >= 2) {
+			window_catcher->killDevice (request->call[1].toInt ());
+		}
 #endif // DISABLE_RKWINDOWCATCHER
 	} else if (call == "wdChange") {
 		RKWardMainWindow::getMain ()->updateCWD ();
@@ -473,14 +482,47 @@
 	RCallbackArgs::RCallbackType type = args->type;
 
 	if (type == RCallbackArgs::RShowMessage) {
-		if (args->params.value ("askync").toBool ()) {
-			int res = KMessageBox::questionYesNoCancel (0, args->params["message"].toString (), i18n ("Question from the R backend"));
-			if (res == KMessageBox::Yes) args->params["result"] = "yes";
-			else if (res == KMessageBox::No) args->params["result"] = "no";
-			// else: cancel
-		} else {
-			KMessageBox::information (0, args->params["message"].toString (), i18n ("Message from the R backend"));
+		QString caption = args->params["caption"].toString ();
+		QString message = args->params["message"].toString ();
+		QString button_yes = args->params["button_yes"].toString ();;
+		QString button_no = args->params["button_no"].toString ();;
+		QString button_cancel = args->params["button_cancel"].toString ();;
+
+		KGuiItem button_yes_item = KStandardGuiItem::yes ();
+		if (button_yes != "yes") button_yes_item.setText (button_yes);
+		KGuiItem button_no_item = KStandardGuiItem::no ();
+		if (button_no != "no") button_no_item.setText (button_no);
+		KGuiItem button_cancel_item = KStandardGuiItem::cancel ();
+		if (button_cancel != "cancel") button_cancel_item.setText (button_cancel);
+
+		bool shown = false;
+		KMessageBox::DialogType dialog_type = KMessageBox::QuestionYesNoCancel;
+		if (button_cancel.isEmpty ()) dialog_type = KMessageBox::QuestionYesNo;
+		if (button_no.isEmpty () && button_cancel.isEmpty ()) {
+			dialog_type = KMessageBox::Information;
+			if (args->params["wait"].toString () != "1") {	// non-modal dialogs are not supported out of the box by KMessageBox;
+				KDialog* dialog = new KDialog ();
+				KMessageBox::createKMessageBox (dialog, QMessageBox::Information, message, QStringList (), QString (), 0, KMessageBox::Notify | KMessageBox::NoExec);
+				dialog->setWindowTitle (caption);
+				dialog->setAttribute (Qt::WA_DeleteOnClose);
+				dialog->setButtons (KDialog::Ok);
+				dialog->show();
+				shown = true;
+			}
+		}
+
+		int result = KMessageBox::Ok;
+		if (!shown) {
+			result = KMessageBox::messageBox (0, dialog_type, message, caption, button_yes_item, button_no_item, button_cancel_item);
 		}
+
+		QString result_string;
+		if ((result == KMessageBox::Yes) || (result == KMessageBox::Ok)) result_string = "yes";
+		else if (result == KMessageBox::No) result_string = "no";
+		else if (result == KMessageBox::Cancel) result_string = "cancel";
+		else RK_ASSERT (false);
+
+		args->params["result"] = result_string;
 	} else if (type == RCallbackArgs::RReadLine) {
 		QString result;
 
diff -Nuar rkward-0.5.3.orig/rkward/rbackend/rkstructuregetter.cpp rkward-0.5.3/rkward/rbackend/rkstructuregetter.cpp
--- rkward-0.5.3.orig/rkward/rbackend/rkstructuregetter.cpp	2009-09-07 14:03:20.000000000 +0300
+++ rkward-0.5.3/rkward/rbackend/rkstructuregetter.cpp	2010-06-30 18:56:34.824492000 +0300
@@ -2,7 +2,7 @@
                           rkstructuregetter  -  description
                              -------------------
     begin                : Wed Apr 11 2007
-    copyright            : (C) 2007, 2009 by Thomas Friedrichsmeier
+    copyright            : (C) 2007, 2009, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -246,6 +246,7 @@
 
 	// basic classification
 	for (unsigned int i = 0; i < num_classes; ++i) {
+#warning: Using is.data.frame() may be more reliable (would need to be called only on List-objects, thus no major performance hit)
 		if (classes[i] == "data.frame") type |= RObject::DataFrame;
 	}
 
@@ -417,8 +418,9 @@
 			}
 		} else if (do_cont) {
 			RK_DO (qDebug ("recurse into list %s", name.toLatin1().data ()), RBACKEND, DL_DEBUG);
-			// print.c in R has special handling for objects of this sort, so we better play it safe for those, too. It is not really certain that we need this, though (originally introduced in SVN rev 1826 without decent comment).
-			bool may_be_special = Rf_isObject (value) && (Rf_length (value) == 0);
+			// fewer elements than names() can happen, although I doubt it is supposed to happen.
+			// see http://sourceforge.net/tracker/?func=detail&aid=3002439&group_id=50231&atid=459007
+			bool may_be_special = Rf_length (value) < childcount;
 			if (Rf_isList (value) && (!may_be_special)) {		// old style list
 				for (unsigned int i = 0; i < childcount; ++i) {
 					SEXP child = CAR (value);
diff -Nuar rkward-0.5.3.orig/rkward/rbackend/rpackages/rkward/R/internal_graphics.R rkward-0.5.3/rkward/rbackend/rpackages/rkward/R/internal_graphics.R
--- rkward-0.5.3.orig/rkward/rbackend/rpackages/rkward/R/internal_graphics.R	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/rkward/rbackend/rpackages/rkward/R/internal_graphics.R	2010-09-04 01:24:28.373244000 +0300
@@ -0,0 +1,125 @@
+## Internal functions manipulating graphics should be stored here.
+## These functions are _not_ supposed to be called by the end user.
+
+# overriding x11 to get informed, when a new x11 window is opened
+"rk.screen.device" <- function (..., is.preview.device = FALSE) {
+	.rk.do.call ("startOpenX11", as.character (dev.cur ()));
+
+	old_dev <- dev.cur ()
+
+	if (!exists (".rk.default.device")) {
+		if (base::.Platform$OS.type == "unix") {
+			device <- grDevices::x11
+		} else {
+			device <- grDevices::windows
+		}
+	} else {
+		device <- .rk.default.device
+		if (is.character (.rk.default.device)) {
+			device <- get (.rk.default.device)
+		}
+	}
+	x <- device (...)
+
+	.rk.do.call ("endOpenX11", as.character (dev.cur ()));
+
+	rk.record.plot$onAddDevice (old_dev = old_dev, deviceId = dev.cur ())
+
+	invisible (x)
+}
+
+"x11" <- rk.screen.device
+
+"X11" <- x11
+
+if (base::.Platform$OS.type == "windows") {
+	  "windows" = rk.screen.device
+	  "win.graph" = rk.screen.device
+}
+
+# set from rkward the application:
+# options(device="rk.screen.device")
+
+".rk.preview.devices" <- list ();
+
+".rk.startPreviewDevice" <- function (x) {
+	rk.record.plot$printPars()
+	a <- .rk.preview.devices[[x]]
+	if (is.null (a)) {
+		a <- dev.cur ()
+		rk.record.plot$.set.isPreviewDevice (TRUE)
+		x11 ()
+		rk.record.plot$.set.isPreviewDevice (FALSE)
+		if (a != dev.cur ()) {
+			.rk.preview.devices[[x]] <<- dev.cur ()
+		}
+	} else {
+		dev.set (a)
+	}
+	rk.record.plot$printPars()
+}
+
+".rk.killPreviewDevice" <- function (x) {
+	a <- .rk.preview.devices[[x]]
+	if (!is.null (a)) {
+		if (a %in% dev.list ()) {
+			dev.off (a)
+		}
+		.rk.preview.devices[[x]] <<- NULL
+	}
+}
+
+"plot.new" <- function () 
+{
+	if (dev.cur() == 1) rk.screen.device ()
+	rk.record.plot$record.all.recordable ()
+	rk.record.plot$record (newplot.gType = 'standard')
+	eval (body (.rk.plot.new.default))
+}
+formals (plot.new) <- formals (graphics::plot.new)
+.rk.plot.new.default <- graphics::plot.new
+
+"dev.off" <- function (which = dev.cur ())
+{
+	rk.record.plot$onDelDevice (deviceId = which)
+	
+	# see http://thread.gmane.org/gmane.comp.statistics.rkward.devel/802
+	.rk.do.call ("killDevice", as.character (which))
+	
+	ret <- eval (body (.rk.dev.off.default))
+	return (ret)
+}
+formals (dev.off) <- formals (grDevices::dev.off)
+.rk.dev.off.default <- grDevices::dev.off
+
+# see .rk.fix.assignmetns () in internal.R
+".rk.fix.assignments.graphics" <- function ()
+{
+	assignInNamespace ("plot.new", plot.new, envir=as.environment ("package:graphics"))
+	assignInNamespace ("dev.off", dev.off, envir=as.environment ("package:grDevices"))
+	
+	## set a hook defining "print.function" for lattice:
+	setHook (packageEvent ("lattice", "onLoad"),
+		function (...)
+			lattice::lattice.options (print.function = function (x, ...)
+			{
+				if (dev.cur() == 1) rk.screen.device ()
+				## TODO: use "trellis" instead of "lattice" to accomodate ggplot2 plots?
+				rk.record.plot$record.all.recordable ()
+				rk.record.plot$record (newplot.gType = 'lattice')
+				plot (x, ...)
+				invisible ()
+			})
+	)
+	
+	## persp does not call plot.new (), so set a hook. Fortunately, the hook is placed after drawing the plot.
+	setHook ("persp",
+		function (...)
+		{
+			if (dev.cur() == 1) rk.screen.device ()
+			rk.record.plot$record.all.recordable ()
+			rk.record.plot$record (newplot.gType = 'standard')
+		},
+		action = "append"
+	)
+}
diff -Nuar rkward-0.5.3.orig/rkward/rbackend/rpackages/rkward/R/internal.R rkward-0.5.3/rkward/rbackend/rpackages/rkward/R/internal.R
--- rkward-0.5.3.orig/rkward/rbackend/rpackages/rkward/R/internal.R	2010-04-21 13:54:31.000000000 +0300
+++ rkward-0.5.3/rkward/rbackend/rpackages/rkward/R/internal.R	2010-08-28 04:28:31.709740000 +0300
@@ -141,41 +141,6 @@
 #	.Internal (.addCondHands (c ("message", "warning", "error"), list (function (m) { .Call ("rk.do.condition", c ("m", conditionMessage (m))) }, function (w) { .Call ("rk.do.condition", c ("w", conditionMessage (w))) }, function (e) { .Call ("rk.do.condition", c ("e", conditionMessage (e))) }), globalenv (), NULL, TRUE))
 #}
 
-# overriding x11 to get informed, when a new x11 window is opened
-"rk.screen.device" <- function (...) {
-	.rk.do.call ("startOpenX11", as.character (dev.cur ()));
-
-	if (!exists (".rk.default.device")) {
-		if (base::.Platform$OS.type == "unix") {
-			device <- grDevices::x11
-		} else {
-			device <- grDevices::windows
-		}
-	} else {
-		device <- .rk.default.device
-		if (is.character (.rk.default.device)) {
-			device <- get (.rk.default.device)
-		}
-	}
-	x <- device (...)
-
-	.rk.do.call ("endOpenX11", as.character (dev.cur ()));
-
-	invisible (x)
-}
-
-"x11" <- rk.screen.device
-
-"X11" <- x11
-
-if (base::.Platform$OS.type == "windows") {
-	  "windows" = rk.screen.device
-	  "win.graph" = rk.screen.device
-}
-
-# set from rkward the application:
-# options(device="rk.screen.device")
-
 # these functions can be used to track assignments to R objects. The main interfaces are .rk.watch.symbol (k) and .rk.unwatch.symbol (k). This works by copying the symbol to a backup environment, removing it, and replacing it by an active binding to the backup location
 ".rk.watched.symbols" <- new.env ()
 
@@ -333,31 +298,6 @@
 
 ".rk.set.reply" <- function (x) .rk.rkreply <<- x
 
-".rk.preview.devices" <- list ();
-
-".rk.startPreviewDevice" <- function (x) {
-	a <- .rk.preview.devices[[x]]
-	if (is.null (a)) {
-		a <- dev.cur ()
-		x11 ()
-		if (a != dev.cur ()) {
-			.rk.preview.devices[[x]] <<- dev.cur ()
-		}
-	} else {
-		dev.set (a)
-	}
-}
-
-".rk.killPreviewDevice" <- function (x) {
-	a <- .rk.preview.devices[[x]]
-	if (!is.null (a)) {
-		.rk.preview.devices[[x]] <<- NULL
-		if (a %in% dev.list ()) {
-			dev.off (a)
-		}
-	}
-}
-
 "Sys.setlocale" <- function (category = "LC_ALL", locale = "", ...) {
 	if (category == "LC_ALL" || category == "LC_CTYPE" || category == "LANG") {
 		.rk.do.call ("preLocaleChange", NULL);
@@ -478,4 +418,9 @@
 ".rk.fix.assignments" <- function () {
 	assignInNamespace ("menu", menu, envir=as.environment ("package:utils"))
 	assignInNamespace ("select.list", select.list, envir=as.environment ("package:utils"))
+	
+	# call separate assignments functions:
+	if (exists (".rk.fix.assignments.graphics")) eval (body (.rk.fix.assignments.graphics)) # internal_graphics.R
 }
+
+.rk.active.device <- 1
diff -Nuar rkward-0.5.3.orig/rkward/rbackend/rpackages/rkward/R/public_graphics.R rkward-0.5.3/rkward/rbackend/rpackages/rkward/R/public_graphics.R
--- rkward-0.5.3.orig/rkward/rbackend/rpackages/rkward/R/public_graphics.R	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/rkward/rbackend/rpackages/rkward/R/public_graphics.R	2010-09-06 19:42:46.814110000 +0300
@@ -0,0 +1,507 @@
+## Public functions manipulating "graphics" should be stored here.
+## These functions are accessible to the user.
+
+# Requests a graph to be written.
+rk.graph.on <- function (device.type=getOption ("rk.graphics.type"), width=getOption ("rk.graphics.width"), height=getOption ("rk.graphics.height"), quality, ...) 
+{
+	if (!is.numeric (width)) width <- 480
+	if (!is.numeric (height)) height <- 480
+	if (is.null (device.type)) device.type <- "PNG"	# default behavior is PNG for now
+
+	assign (".rk.active.device", dev.cur (), pos = "package:rkward")
+
+	ret <- NULL
+	if (device.type == "PNG") {
+		filename <- rk.get.tempfile.name(prefix = "graph", extension = ".png")
+		ret <- png(filename = file.path(filename), width = width, height = height, ...)
+		.rk.cat.output(paste("<img src=\"", filename, "\" width=\"", width, 
+			"\" height=\"", height, "\"><br>", sep = ""))
+	} else if (device.type == "JPG") {
+		if (missing (quality)) {
+			quality = getOption ("rk.graphics.jpg.quality")		# COMPAT: getOption (x, *default*) not yet available in R 2.9
+			if (is.null (quality)) quality = 75
+		}
+		filename <- rk.get.tempfile.name(prefix = "graph", extension = ".jpg")
+		ret <- jpeg(filename = file.path(filename), width = width, height = height, "quality"=quality, ...)
+		.rk.cat.output(paste("<img src=\"", filename, "\" width=\"", width, 
+			"\" height=\"", height, "\"><br>", sep = ""))
+	} else if (device.type == "SVG") {
+		if (!capabilities ("cairo")) {	# cairo support is not always compiled in
+			require (cairoDevice)
+			svg <- Cairo_svg
+		}
+		filename <- rk.get.tempfile.name(prefix = "graph", extension = ".svg")
+		ret <- svg(filename = file.path(filename), ...)
+		.rk.cat.output(paste("<object data=\"", filename, "\" type=\"image/svg+xml\" width=\"", width, 
+			"\" height=\"", height, "\">\n", sep = ""))
+		.rk.cat.output(paste("<param name=\"src\" value=\"", filename, "\">\n", sep = ""))
+		.rk.cat.output(paste("This browser appears incapable of displaying SVG object. The SVG source is at:", filename))
+		.rk.cat.output("</object>")
+	} else {
+		stop (paste ("Device type \"", device.type, "\" is unknown to RKWard", sep=""))
+	}
+
+	invisible (ret)
+}
+
+"rk.graph.off" <- function(){
+	.rk.cat.output ("\n")	# so the output will be auto-refreshed
+	ret <- dev.off()
+	
+	# dev.off () sets dev.next () as active, which may not have been active before rk.graph.on was called;
+	# so reset the correct device as active:
+	i <- get (".rk.active.device", pos = "package:rkward")
+	if ((!is.null (i)) && (i %in% dev.list ())) dev.set (i)
+	ret
+}
+
+"rk.duplicate.device" <- function (deviceId = dev.cur ())
+{
+	dev.set (deviceId)
+	rk.record.plot$.set.isDuplicate (TRUE)
+	dev.copy (device = x11)
+	rk.record.plot$.set.isDuplicate (FALSE)
+	#rk.record.plot$printPars () # DEBUG
+}
+
+"rk.activate.device" <- function (deviceId = dev.cur ())
+{
+	dev.set (deviceId)
+	rk.record.plot$.set.trellis.last.object (deviceId)
+	#rk.record.plot$printPars () # DEBUG
+}
+
+# A global history of various graphics calls;
+"rk.record.plot" <- function ()
+{
+## TODO: 
+	# - add one or more tests to rkward_application_tests.R
+	# - .... ?
+	
+	env <- environment()
+	recorded <- list()
+	histPositions <- list("1" = 0)     # one element for every managed graphics device / window; 1 is always null device
+	replacePositions <- list ("1" = 0)
+	isDuplicate <- FALSE
+	isPreviewDevice <- FALSE
+	
+	# graphics types (standard / lattice / ...) for the stored / new plots
+	gType <- list ()
+	
+	.set.isDuplicate <- function (x = FALSE) { isDuplicate <<- x }
+	.set.isPreviewDevice <- function (x = FALSE) { isPreviewDevice <<- x }
+	.set.trellis.last.object <- function (deviceId = dev.cur ())
+	{
+		deviceId <- as.character (deviceId)
+		n <- histPositions [[deviceId]]
+		gType.n.exists <- length (gType) >= n
+		recorded.n.exists <- length (recorded) >= n
+		if (n > 0 && gType.n.exists && recorded.n.exists && gType[[n]] == "lattice")
+			assign ("last.object", recorded[[n]], envir = lattice:::.LatticeEnv)
+		invisible ()
+	}
+	onAddDevice <- function (old_dev = 1, deviceId = dev.cur ())
+	{
+		# onAddDevice is called only from rk.screen.device, so no need to check dev.interactive ()
+		
+		if (isPreviewDevice) return (invisible (NULL))
+		
+		old_dev <- as.character (old_dev)
+		deviceId <- as.character (deviceId)
+		
+		# save any unsaved plots before duplicating:
+		if ((old_dev %in% names (histPositions)) && (old_dev != "1") && (histPositions[[old_dev]] > 0))
+			record (old_dev)
+		
+		if (isDuplicate) {
+			histPositions [[deviceId]] <<- histPositions [[old_dev]]
+			replacePositions [[deviceId]] <<- replacePositions [[old_dev]]
+		} else {
+			n <- length (recorded)
+			histPositions [[deviceId]] <<- if (n > 0) n+1 else 0
+			replacePositions [[deviceId]] <<- 0
+		}
+		.rk.graph.history.gui () # (deviceId)
+	}
+	onDelDevice <- function (deviceId = dev.cur())
+	{
+		deviceId <- as.character (deviceId)
+		
+		# save any unsaved plot before closing the device / window
+		if (deviceId %in% names (histPositions) && deviceId != "1"  && histPositions[[deviceId]] > 0) {
+			record (deviceId)
+			histPositions [[deviceId]] <<- NULL
+			replacePositions [[deviceId]] <<- NULL
+		}
+		#printPars () # DEBUG
+	}
+	.grow.history <- function (deviceId, np.gT)
+	{
+		len.r <- length(recorded)
+		ml <- getOption ('rk.graphics.hist.max.length')
+		
+		if (len.r < ml) {
+			n <- len.r + 1
+		} else if (len.r == ml) {
+			warning ('Max length reached, popping out the first plot.')
+			remove (deviceId = NULL, pos = 1)
+			n <- len.r
+		} else {
+			warning ('Current history length > max length: plot not added to history!')
+			return (invisible ())
+		}
+		replacePositions [[deviceId]] <<- histPositions [[deviceId]]
+		histPositions [[deviceId]] <<- n
+		gType [[n]] <<- np.gT
+		invisible ()
+	}
+	record.all.recordable <- function ()
+	{
+		for (d in names(histPositions)[-1]) {
+			n <- histPositions[[d]]
+			gType.n.exists <- length (gType) >= n
+			if (n > 0 && gType.n.exists) record (d)
+		}
+		invisible ()
+	}
+	record <- function(deviceId = dev.cur (), newplot.gType = NULL)
+	{
+		deviceId <- as.character (deviceId)
+		
+		isManaged <- deviceId %in% names (histPositions)
+		
+		# non-interactive devices, such as pdf (), png (), ... are returned at this stage:
+		if (!isManaged) return (invisible (NULL)) # --- (*)
+		
+		if (isManaged) {
+			# device is managed, that is, non-preview-interactive
+			
+			cur.deviceId <- dev.cur ()
+			dev.set (as.numeric(deviceId))
+		
+			if (histPositions [[deviceId]] == 0) .grow.history (deviceId, NULL)
+			n <- histPositions [[deviceId]]
+			unsavedPlot <- NULL
+			recording.succeeded <- FALSE
+			gType.n.exists <- length (gType) >= n
+			recorded.n.exists <- length (recorded) >= n
+			
+			if (gType.n.exists) {
+				if (gType[[n]] == "standard") {
+					if (class (try (unsavedPlot <- recordPlot(), silent=TRUE)) != "try-error") recording.succeeded <- TRUE
+				} else if  (gType[[n]] == "lattice") {
+					if (class (try (unsavedPlot <- trellis.last.object (), silent=TRUE)) != "try-error") recording.succeeded <- TRUE
+				}
+			}
+			
+			if (recording.succeeded) {
+				s <- object.size (unsavedPlot) # in bytes
+				
+				if (s <= getOption ('rk.graphics.hist.max.plotsize') * 1024) {
+					recorded [[n]] <<- unsavedPlot
+					if (!is.null (newplot.gType)) {
+						.grow.history (deviceId, newplot.gType)
+					} else {
+						replacePositions [[deviceId]] <<- n
+					}
+				} else {
+					# this oversized plot is lost :(
+					warning ('Oversized plot: not added to history!') # don't use stop (...)
+					if ((!is.null (newplot.gType)) && !recorded.n.exists) gType [[n]] <<- newplot.gType
+				}
+			} else {
+				if (gType.n.exists) warning ("Recording failed for some reason.")
+				if ((!is.null (newplot.gType)) && !recorded.n.exists) gType [[n]] <<- newplot.gType
+			}
+			
+			dev.set (cur.deviceId)
+			.rk.graph.history.gui ()
+			#printPars () # DEBUG
+			return (invisible ())
+		}
+	}
+	remove <- function (deviceId = dev.cur (), pos = NULL) # pos can be of length > 1
+	{
+		history_length <- length (recorded)
+		if (history_length == 1) {
+			clearHistory ()
+			rk.show.message ("Plot history cleared!")
+		}
+		if (history_length <= 1) {
+			return (invisible (NULL))
+		}
+		
+		pop.and.update <- function (n) {
+			# length (n) can be > 1: see .verify.hist.limits ()
+			
+			len.n <- length (n)
+			recorded[n] <<- NULL
+			gType[n] <<- NULL
+			len.r <- length (recorded)
+			
+			#printPars () # DEBUG
+			for (d in names (histPositions)[-1]) {
+				m <- min (histPositions [[d]] - len.n + 1, len.r)
+				histPositions [[d]] <<- replacePositions [[d]] <<- m
+				message ("d: ", d, ", m: ", m)  # DEBUG
+				replay (m, d)
+			}
+			#printPars () # DEBUG
+			.rk.graph.history.gui ()
+		}
+		
+		if (is.null (pos)) {
+			# pos == NULL means call originated from a managed device by clicking on 'Remove from history' icon,
+			# it does not mean that the position on the concerned device is NULL! The actual position is
+			# appropriately set below.
+			
+			if (is.null (deviceId)) stop ('Both deviceId and pos are NULL') # why should this happen ??
+			deviceId <- as.character (deviceId)
+			if (! (deviceId %in% names(histPositions))) stop (paste ('Device', deviceId, 'is not managed'))
+			
+			pos <- histPositions [[deviceId]] # here length (pos) = 1
+			pop.and.update (n = pos)
+		} else if (all(pos > 0) && all (pos <= history_length)) {
+			# call from: .grow.history () and .verify.hist.limits (); not from any device
+			
+			pop.and.update (n = pos)
+		} else
+			stop (paste ('Invalid position(s)'))
+		
+		invisible (NULL)
+	}
+	replay <- function(n = histPositions [[as.character (deviceId)]] - 1L, deviceId = dev.cur ())
+	{
+		# when this function is called, there are NO unsaved plots! Saving the unsaved plot is taken care off
+		# by the wrapper functions, showXxxxx (), below
+		
+		deviceId <- as.character (deviceId)
+		
+		if (n > 0 && n <= length(recorded)) {
+			cur.deviceId <- dev.cur ()
+			dev.set (as.numeric(deviceId))
+		
+			if (gType [[n]] == "standard") {
+				replayPlot (recorded[[n]])
+			} else if (gType [[n]] == "lattice") {
+				# (re-)plot the lattice object but, if the current window is NOT active, then do not save
+				# it to lattice:::.LatticeEnv$last.object ("trellis.last.object")
+				plot (recorded[[n]], save.object = (cur.deviceId == as.numeric (deviceId)))
+			}
+			replacePositions [[deviceId]] <<- histPositions [[deviceId]] <<- n
+			histPositions [[deviceId]] <<- n
+			dev.set (cur.deviceId)
+			.rk.graph.history.gui ()
+		}
+		else message("replay: 'n' not in valid range: ", n)
+	}
+	replaceby <- function (deviceId = dev.cur ())
+	{
+		deviceId <- as.character (deviceId)
+		p <- replacePositions [[deviceId]]
+		record (deviceId)
+		n <- histPositions [[deviceId]]
+		recorded [[p]] <<- recorded [[n]]
+		gType [[p]] <<- gType [[n]]
+		remove (pos = n)
+		histPositions [[deviceId]] <<- p
+		replay (n = p, deviceId)
+		invisible ()
+	}
+	showFirst <- function(deviceId = dev.cur())
+	{
+		record (deviceId)
+		replay(n = 1, deviceId)
+	}
+	showPrevious <- function(deviceId)
+	{
+		record (deviceId)
+		replay(n = histPositions [[as.character (deviceId)]] - 1L, deviceId = deviceId)
+	}
+	showNext <- function(deviceId)
+	{
+		record (deviceId)
+		replay(n = histPositions [[as.character (deviceId)]] + 1L, deviceId = deviceId)
+	}
+	showLast <- function(deviceId = dev.cur())
+	{
+		record (deviceId)
+		replay(n = length(recorded), deviceId)
+	}
+	showPlot <- function(deviceId = dev.cur(), index)
+	{
+		# TODO: record might remove a plot form history, thus changing the indices!
+		record (deviceId)
+		index = max (as.integer (index), 1L)
+		replay(n = min (length (recorded), index))
+	}
+	clearHistory <- function ()
+	{
+		isDuplicate <<- FALSE
+		isPreviewDevice <<- FALSE
+		recorded <<- list()
+		gType <<- list ()
+		histPositions [names (histPositions)] <<- 0
+		replacePositions [names (replacePositions)] <<- 0
+		#printPars () # DEBUG
+		.rk.graph.history.gui ()
+	}
+	printPars <- function ()
+	{
+		message ('History length   : ', length (recorded))
+		message ("History size (KB): ", round (object.size (recorded) / 1024, 2))
+		message ('Current devices  : ', paste (names (histPositions), collapse = ', ')) 
+		message ('Current positions: ', paste (unlist (histPositions), collapse = ', ')) 
+		message ('Previos positions: ', paste (unlist (replacePositions), collapse = ', ')) 
+		message ('gType @ these pos: ', paste (unlist (gType [unlist (histPositions)]), collapse = ', '))
+		message ("Plot proerties   :")
+		for (d in names (histPositions)[-1]) message (try (.get.plot.info.str (d)))
+	}
+	.rk.graph.history.gui <- function (deviceIds = names (histPositions))
+	{
+		# this function is called whenever the history length changes
+		# or the position changes in any device.
+		
+		deviceIds <- deviceIds [deviceIds != "1"] # ignore NULL device
+		ndevs <- length (deviceIds)
+		if (ndevs>0) {
+			positions <- character (2 * ndevs)
+			positions [2 * (1:ndevs) - 1] <- deviceIds
+			positions [2 * (1:ndevs)] <- unlist (histPositions[deviceIds], use.names = FALSE)
+			labels <- NULL
+			if (length (recorded) > 0) labels <- sapply (1:length (recorded), function (x) try (.get.oldplot.call (x)))
+			.rk.do.call ("updateDeviceHistory", c (length (recorded), labels, positions));
+		}
+		#print (positions) # DEBUG
+		invisible (NULL)
+	}
+	.get.oldplot.call.std <- function (n)
+	{
+		# rp <- recordPlot () is a nested pairlist object (of class "recordedplot"):
+		# rp[[1]] is the "meta data", rp[[2]] is always raw,
+		# We then figure out the relevant stuff from rp[[1]]. Use "str (rp)" for details.
+		# Currently, only main, xlab, and ylab meta data can be extracted, unambiguously.
+		# The high level calls are not part of the meta data, only the low level .Internal
+		#   calls are stored: Eg: .Primitive (plot.xy), .Primitive (rect), .Primitive (persp), etc...
+		
+		# .f. identifies which element(s) in rp[[1]] contains title (=main,sub,xlab,ylab) information:
+		# differs from call to call. Eg: for plot () calls this is 7, for hist () this is 3, ...
+		.f. <- function ()
+			which (lapply (recorded [[n]][[1]], FUN = function (x) x[[1]]) == ".Primitive(\"title\")")
+		# Sometimes there is no title information at all - happens when the high level calling function
+		#   does not specifically provide any of main/sub/xlab/ylab arguemnts: Eg: persp (...)
+		# Sometimes there are more than one .Primitive ("title") calls, eg, when title (...) is called
+		#   explicitely after a plotting call
+		
+		.x. <- list (main = "", sub = "", xlab = "", ylab = "")
+		
+		# When present, rp [[1]] [.n.] [[2]] contains (in multiple lists) main, sub, xlab, ylab, etc.
+		# From there we pick up the last (which.max) non-null entry for each of main, sub, xlab, and ylab
+		.n. <- .f. ()
+		if (length (.n.) > 0) {
+			.T. <- lapply (lapply (recorded [[n]][[1]] [.n.], FUN = function (.a.) .a.[[2]]), 
+				FUN = function (.aa.) {names (.aa.) <- c("main", "sub", "xlab", "ylab"); .aa.})
+			
+			for (i in c("main", "sub", "xlab", "ylab"))
+				.x.[[i]] <- .T. [[ which.max (sapply (.T., FUN = function (.a.) !is.null (.a.[[i]]))) ]] [[i]]
+		}
+		
+		paste ("Main: '", .x.$main, "'; X label: '", .x.$xlab, "'; Y label: '", .x.$ylab, "'", sep = "")
+	}
+	.get.oldplot.call.lattice <- function (n)
+	{
+		# trellis objects contain a call object which is the best meta data possible!
+		# If needed, main/xlab/ylab can be extracted as well.
+		paste ("Call: ", paste (deparse (recorded [[n]]$call), collapse = "\n"), sep = "")
+	}
+	.get.oldplot.call <- function (n)
+	{
+		# this can be easily extended to more types
+		switch (gType [[n]],
+			standard = .get.oldplot.call.std (n),
+			lattice = .get.oldplot.call.lattice (n),
+			"Unknown")
+	}
+	.get.plot.info.str <- function (deviceId = dev.cur ())
+	{
+		deviceId <- as.character (deviceId)
+		if (!deviceId %in% names (histPositions)) return ("Preview devices is not managed.")
+		
+		n <- histPositions [[deviceId]]
+		recorded.n.exists <- length (recorded) >= n
+		if (n == 0) {
+			info.str <- paste ("Device: ", deviceId, ", Position: 0", sep = "")
+		} else if (!recorded.n.exists) {
+			info.str <- paste ("Device: ", deviceId, ", Position: ", n, ", Size: ?\nType: ", gType [[n]], sep = "")
+		} else {
+			info.str <- paste ("Device: ", deviceId, 
+				", Position: ", n, 
+				", Size (KB): ", round (object.size (recorded [[n]])/1024, 2),
+				"\n", .get.oldplot.call (n), sep = "")
+		}
+		info.str
+	}
+	showPlotInfo <- function (deviceId = dev.cur ())
+	{
+		rk.show.message (.get.plot.info.str (deviceId), caption = "Plot properties")
+	}
+	.verify.hist.limits <- function ()
+	{
+		# Length restriction:
+		len.max <- getOption ('rk.graphics.hist.max.length')
+		len.r <- length (recorded)
+		
+		ans <- 'no'
+		if (len.max < len.r) {
+			ans <- rk.show.question (paste ("Current plot history has more plots than the maximum number specified in the settings.\n",
+				len.r - len.max, " of the foremost plots will be removed.\n\nDo you want to Continue?", sep =""))
+			if (!is.null(ans) && ans)
+				remove (deviceId = NULL, pos = 1:(len.r - len.max))
+		}
+		
+		# Size restriction:
+		#s <- getOption ('rk.graphics.hist.max.plotsize')
+		# Existing plots are not checked for their sizes, only the new ones are.
+	}
+
+	env
+}
+rk.record.plot <- rk.record.plot ()
+
+# quick wrappers around rk.record.plot$show{Previous,Next} :
+# 1 is always the null device
+# TODO : comment / remove printPars call
+"rk.first.plot" <- function (deviceId = dev.cur ())
+{
+	rk.record.plot$showFirst (deviceId)
+	rk.record.plot$printPars ()
+}
+"rk.previous.plot" <- function (deviceId = dev.cur ())
+{
+	rk.record.plot$showPrevious (deviceId)
+	rk.record.plot$printPars ()
+}
+"rk.next.plot" <- function (deviceId = dev.cur ())
+{
+	rk.record.plot$showNext (deviceId)
+	rk.record.plot$printPars ()
+}
+"rk.last.plot" <- function (deviceId = dev.cur ())
+{
+	rk.record.plot$showLast (deviceId)
+	rk.record.plot$printPars ()
+}
+"rk.goto.plot" <- function (deviceId = dev.cur (), index=1) {
+	rk.record.plot$showPlot (deviceId, index)
+	rk.record.plot$printPars ()
+}
+"rk.replaceby.plot" <- function (deviceId = dev.cur ())
+{
+	rk.record.plot$replaceby (deviceId)
+	rk.record.plot$printPars ()
+}
+"rk.removethis.plot" <- function (deviceId = dev.cur ())
+{
+	rk.record.plot$remove (deviceId)
+	rk.record.plot$printPars ()
+}
diff -Nuar rkward-0.5.3.orig/rkward/rbackend/rpackages/rkward/R/public.R rkward-0.5.3/rkward/rbackend/rpackages/rkward/R/public.R
--- rkward-0.5.3.orig/rkward/rbackend/rpackages/rkward/R/public.R	2010-04-21 13:21:10.000000000 +0300
+++ rkward-0.5.3/rkward/rbackend/rpackages/rkward/R/public.R	2010-09-04 16:14:53.759975000 +0300
@@ -144,52 +144,6 @@
 	error ("Could not find column with given name")
 }
 
-# Requests a graph to be written.
-rk.graph.on <- function (device.type=getOption ("rk.graphics.type"), width=getOption ("rk.graphics.width"), height=getOption ("rk.graphics.height"), quality, ...) 
-{
-	if (!is.numeric (width)) width <- 480
-	if (!is.numeric (height)) height <- 480
-	if (is.null (device.type)) device.type <- "PNG"	# default behavior is PNG for now
-
-	ret <- NULL
-	if (device.type == "PNG") {
-		filename <- rk.get.tempfile.name(prefix = "graph", extension = ".png")
-		ret <- png(filename = file.path(filename), width = width, height = height, ...)
-		.rk.cat.output(paste("<img src=\"", filename, "\" width=\"", width, 
-			"\" height=\"", height, "\"><br>", sep = ""))
-	} else if (device.type == "JPG") {
-		if (missing (quality)) {
-			quality = getOption ("rk.graphics.jpg.quality")		# COMPAT: getOption (x, *default*) not yet available in R 2.9
-			if (is.null (quality)) quality = 75
-		}
-		filename <- rk.get.tempfile.name(prefix = "graph", extension = ".jpg")
-		ret <- jpeg(filename = file.path(filename), width = width, height = height, "quality"=quality, ...)
-		.rk.cat.output(paste("<img src=\"", filename, "\" width=\"", width, 
-			"\" height=\"", height, "\"><br>", sep = ""))
-	} else if (device.type == "SVG") {
-		if (!capabilities ("cairo")) {	# cairo support is not always compiled in
-			require (cairoDevice)
-			svg <- Cairo_svg
-		}
-		filename <- rk.get.tempfile.name(prefix = "graph", extension = ".svg")
-		ret <- svg(filename = file.path(filename), ...)
-		.rk.cat.output(paste("<object data=\"", filename, "\" type=\"image/svg+xml\" width=\"", width, 
-			"\" height=\"", height, "\">\n", sep = ""))
-		.rk.cat.output(paste("<param name=\"src\" value=\"", filename, "\">\n", sep = ""))
-		.rk.cat.output(paste("This browser appears incapable of displaying SVG object. The SVG source is at:", filename))
-		.rk.cat.output("</object>")
-	} else {
-		stop (paste ("Device type \"", device.type, "\" is unknown to RKWard", sep=""))
-	}
-
-	invisible (ret)
-}
-
-"rk.graph.off" <- function(){
-	.rk.cat.output ("\n")	# so the output will be auto-refreshed
-	dev.off()
-}
-
 "rk.print" <- function(x,...) {
 	htmlfile <- rk.get.output.html.file()
 	if(require("R2HTML")==TRUE) {
@@ -463,3 +417,15 @@
 	.rk.do.call ("select.list", params)
 }
 
+"rk.show.message" <- function (message, caption = "Information", wait=TRUE) {
+	.Call ("rk.dialog", caption, message, "ok", "", "", isTRUE (wait))
+	invisible (TRUE)
+}
+
+# to disable a button, set it to ""
+"rk.show.question" <- function (message, caption = "Question", button.yes = "yes", button.no = "no", button.cancel = "cancel") {
+	res <- .Call ("rk.dialog", caption, message, button.yes, button.no, button.cancel, TRUE)
+	if (res > 0) return (TRUE)
+	else if (res < 0) return (FALSE)
+	else return (NULL)	# cancelled
+}
diff -Nuar rkward-0.5.3.orig/rkward/rbackend/rpackages/rkward/R/ver.R rkward-0.5.3/rkward/rbackend/rpackages/rkward/R/ver.R
--- rkward-0.5.3.orig/rkward/rbackend/rpackages/rkward/R/ver.R	2010-04-27 11:01:24.000000000 +0300
+++ rkward-0.5.3/rkward/rbackend/rpackages/rkward/R/ver.R	2010-07-02 11:44:28.891060000 +0300
@@ -1 +1 @@
-".rk.app.version" <- "0.5.3"
+".rk.app.version" <- "0.5.4-test5"
diff -Nuar rkward-0.5.3.orig/rkward/resource.ver rkward-0.5.3/rkward/resource.ver
--- rkward-0.5.3.orig/rkward/resource.ver	2010-04-27 11:01:24.000000000 +0300
+++ rkward-0.5.3/rkward/resource.ver	2010-07-02 11:44:28.891060000 +0300
@@ -1 +1 @@
-0.5.3
+0.5.4-test5
diff -Nuar rkward-0.5.3.orig/rkward/rkconsole.cpp rkward-0.5.3/rkward/rkconsole.cpp
--- rkward-0.5.3.orig/rkward/rkconsole.cpp	2010-04-21 13:26:04.000000000 +0300
+++ rkward-0.5.3/rkward/rkconsole.cpp	2010-09-07 17:36:46.086345000 +0300
@@ -927,6 +927,14 @@
 	copy_action->setEnabled (true);
 }
 
+void RKConsole::activate (bool with_focus) {
+	RK_TRACE (APP);
+
+	// see http://www.mail-archive.com/rkward-devel@lists.sourceforge.net/msg00933.html
+	if (with_focus) view->removeSelection ();
+	RKMDIWindow::activate (with_focus);
+}
+
 ///################### END RKConsole ########################
 ///################### BEGIN RKConsolePart ####################
 
diff -Nuar rkward-0.5.3.orig/rkward/rkconsole.h rkward-0.5.3/rkward/rkconsole.h
--- rkward-0.5.3.orig/rkward/rkconsole.h	2010-03-21 17:27:47.000000000 +0200
+++ rkward-0.5.3/rkward/rkconsole.h	2010-09-07 17:36:46.086345000 +0300
@@ -74,6 +74,9 @@
 	static void pipeUserCommand (RCommand *command);
 /** Overload for the above function: Use this, if you just need to run a string with no specials */
 	static void pipeUserCommand (const QString &command);
+
+/** reimplemnented from RKMDIWindow to clear selection when gaining focus */
+	void activate (bool with_focus=true);
 protected:
 /** Handle keystrokes before they reach the kate-part. Return TRUE if we want the kate-part to ignore it
 \param e the QKeyEvent */
diff -Nuar rkward-0.5.3.orig/rkward/rkconsolepart.rc rkward-0.5.3/rkward/rkconsolepart.rc
--- rkward-0.5.3.orig/rkward/rkconsolepart.rc	2010-03-21 17:32:52.000000000 +0200
+++ rkward-0.5.3/rkward/rkconsolepart.rc	2010-09-03 18:27:56.654169000 +0300
@@ -1,5 +1,5 @@
 <!DOCTYPE kpartgui>
-<kpartgui name="rkward" version="53">
+<kpartgui name="rkward_console" version="54">
 	<MenuBar>
 		<Menu name="file"><text>&amp;File</text>
 			<Action name="file_print"/>
@@ -7,10 +7,20 @@
 			<Action name="file_export_html"/>
 		</Menu>
 		<Menu name="edit"><text>&amp;Edit</text>
+<!-- Something strange is going on, here. When using the commented version, after switching
+a few times between console and script editor, the Edit menu will start to become shuffled.
+Probably a kdelibs bug (4.4.4).
+
+The uncommented version is not quite correct (the "paste special" action will be misplaced),
+but avoids the total derangement of the edit menu over time.
 			<Action name="rkconsole_copy" group="edit_paste_merge"/>
 			<Action name="rkconsole_copy_literal" group="edit_paste_merge"/>
 			<Action name="rkconsole_paste" group="edit_paste_merge"/>
-			<DefineGroup name="edit_paste_merge" append="edit_paste_merge"/>
+			<Separator/>
+			<Action name="rkconsole_clear"/> -->
+			<Action name="rkconsole_copy"/>
+			<Action name="rkconsole_copy_literal"/>
+			<Action name="rkconsole_paste"/>
 			<Separator/>
 			<Action name="rkconsole_clear"/>
 		</Menu>
@@ -33,7 +43,7 @@
 		<Action name="rkconsole_copy"/>
 		<Action name="rkconsole_copy_literal"/>
 		<Action name="rkconsole_paste"/>
-		<DefineGroup name="edit_paste_merge" />
+		<DefineGroup name="rkconsole_context_merge_paste" />
 		<Separator/>
 		<DefineGroup name="rkconsole_context_merge1"/>
 		<Action name="interrupt"/>
diff -Nuar rkward-0.5.3.orig/rkward/rkwardapplication.cpp rkward-0.5.3/rkward/rkwardapplication.cpp
--- rkward-0.5.3.orig/rkward/rkwardapplication.cpp	2009-06-08 22:35:15.000000000 +0300
+++ rkward-0.5.3/rkward/rkwardapplication.cpp	2010-05-11 21:55:20.771092000 +0300
@@ -2,7 +2,7 @@
                           rkwardapplication  -  description
                              -------------------
     begin                : Sun Nov 26 2006
-    copyright            : (C) 2006, 2007 by Thomas Friedrichsmeier
+    copyright            : (C) 2006, 2007, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -21,6 +21,8 @@
 
 #ifdef Q_WS_WIN
 #	include <windows.h>
+#elif defined Q_WS_MAC
+#	warning "Graph window capturing is not supported on Mac OS native, yet. Consider using X11."
 #else
 #	include <X11/X.h>
 #	include <X11/Xlib.h>
@@ -65,9 +67,9 @@
 	rkapp = this;
 	detect_x11_creations = false;
 
-#ifndef Q_WS_WIN
+#ifdef Q_WS_X11
 	wm_name_property = XInternAtom (QX11Info::display (), "WM_NAME", true);
-#endif	//nQ_WS_WIN
+#endif	//Q_WS_X11
 }
 
 RKWardApplication::~RKWardApplication () {
@@ -89,10 +91,10 @@
 
 #ifdef Q_WS_WIN
 	RKWardApplicationPrivate::updateToplevelWindowList ();
-#else	//Q_WS_WIN
+#elif defined Q_WS_X11
 	XSelectInput (QX11Info::display (), QX11Info::appRootWindow (), SubstructureNotifyMask);
 	syncX ();	// this is to make sure we don't miss out on the window creation (if it happens very early). Testing shows, we really need this.
-#endif	//Q_WS_WIN
+#endif
 }
 
 WId RKWardApplication::endWindowCreationDetection () {
@@ -129,7 +131,7 @@
 		return candidate_windows[0];
 	}
 	return 0;
-#else	//Q_WS_WIN
+#elif defined Q_WS_X11
 	if (!created_window) {
 		// we did not see the window, yet? Maybe the event simply hasn't been processed, yet.
 		syncX ();
@@ -139,10 +141,12 @@
 	detect_x11_creations = false;
 	XSelectInput (QX11Info::display (), QX11Info::appRootWindow (), NoEventMask);
 	return created_window;
-#endif	//Q_WS_WIN
+#else
+	return 0;
+#endif
 }
 
-#ifndef Q_WS_WIN
+#ifdef Q_WS_X11
 void RKWardApplication::registerNameWatcher (WId watched, RKMDIWindow *watcher) {
 	RK_TRACE (APP);
 	RK_ASSERT (!name_watchers_list.contains (watched));
@@ -188,4 +192,4 @@
 
 	return KApplication::x11EventFilter (e);
 }
-#endif	//nQ_WS_WIN
+#endif	// Q_WS_X11
diff -Nuar rkward-0.5.3.orig/rkward/rkwardapplication.h rkward-0.5.3/rkward/rkwardapplication.h
--- rkward-0.5.3.orig/rkward/rkwardapplication.h	2009-06-08 22:35:15.000000000 +0300
+++ rkward-0.5.3/rkward/rkwardapplication.h	2010-05-11 21:55:20.771092000 +0300
@@ -40,7 +40,7 @@
 	@returns the window id of the last top-level window created after the last call to startWindowCreation, hoping it was only one. 0 if no window was created/detected. */
 	WId endWindowCreationDetection ();
 
-#ifndef Q_WS_WIN
+#ifdef Q_WS_X11
 	/** watch the given window for changes in its WM_NAME property (i.e. changes in caption). When a change is detected, the caption will be set on watcher. WARNING: Do not use to watch windows managed by Qt! Will override the event mask for this window (within qt_xdisplay ()). WARNING: Remember to call unregisterNameWatcher, when watcher is deleted! */
 	void registerNameWatcher (WId watched, RKMDIWindow *watcher);
 	/** remove a watch created with registerNameWatcher */
diff -Nuar rkward-0.5.3.orig/rkward/rkward.cpp rkward-0.5.3/rkward/rkward.cpp
--- rkward-0.5.3.orig/rkward/rkward.cpp	2010-04-18 13:36:29.000000000 +0300
+++ rkward-0.5.3/rkward/rkward.cpp	2010-08-02 12:58:43.267047000 +0300
@@ -192,7 +192,7 @@
 	}
 
 #ifdef Q_WS_WIN
-	KMessageBox::information (this, i18n ("<p>Please note that RKWard on is not well tested on Windows, yet.</p><p>There are all sorts of known issues, and issues yet to be reported. If you'd like to help: <a href=\"http://p.sf.net/rkward/contact\">http://p.sf.net/rkward/contact</a>.</p>"), i18n ("RKWard on Windows"), "rkward_on_windows", KMessageBox::Notify | KMessageBox::AllowLink);
+	KMessageBox::information (this, i18n ("<p>Please note that RKWard is not well tested on Windows, yet.</p><p>There are all sorts of known issues, and issues yet to be reported. If you'd like to help: <a href=\"http://p.sf.net/rkward/contact\">http://p.sf.net/rkward/contact</a>.</p>"), i18n ("RKWard on Windows"), "rkward_on_windows", KMessageBox::Notify | KMessageBox::AllowLink);
 #endif
 
 	setUpdatesEnabled (false);
@@ -506,9 +506,11 @@
 	RKWorkplace::RKWorkplaceObjectList map = RKWorkplace::mainWorkplace ()->getObjectList ();
 	for (RKWorkplace::RKWorkplaceObjectList::const_iterator it = map.constBegin (); it != map.constEnd (); ++it){
 		if (!(*it)->close (true)) {
-			// If a child refuses to close, we return false.
-			slotSetStatusReady ();
-			return false;
+			if (!(*it)->isType (RKMDIWindow::X11Window)) {	// X11 windows have a delayed close
+				// If a child refuses to close, we return false.
+				slotSetStatusReady ();
+				return false;
+			}
 		}
 	}
 
diff -Nuar rkward-0.5.3.orig/rkward/rkwardui.rc rkward-0.5.3/rkward/rkwardui.rc
--- rkward-0.5.3.orig/rkward/rkwardui.rc	2010-03-17 12:05:41.000000000 +0200
+++ rkward-0.5.3/rkward/rkwardui.rc	2010-06-29 18:39:12.255787000 +0300
@@ -1,5 +1,5 @@
 <!DOCTYPE kpartgui>
-<kpartgui name="rkward" version="53">
+<kpartgui name="rkward_main" version="54">
 <MenuBar>
 	<!-- The Main Window ui.rc is the only one, where merging happens, reliably. That is, why we need to define
 	     a lot of merge points, here, which can then be used be mdi windows and their children.
diff -Nuar rkward-0.5.3.orig/rkward/scriptbackends/CMakeLists.txt rkward-0.5.3/rkward/scriptbackends/CMakeLists.txt
--- rkward-0.5.3.orig/rkward/scriptbackends/CMakeLists.txt	2009-09-30 17:40:20.000000000 +0300
+++ rkward-0.5.3/rkward/scriptbackends/CMakeLists.txt	2010-06-20 20:51:06.951699000 +0300
@@ -8,6 +8,7 @@
    scriptbackend.cpp
    simplebackend.cpp
    qtscriptbackend.cpp
+   rkcomponentscripting.cpp
    )
 
 QT4_AUTOMOC(${scriptbackends_STAT_SRCS})
@@ -17,7 +18,7 @@
 
 ########### install files ###############
 
-INSTALL(FILES common.php php.ini common.js DESTINATION ${DATA_INSTALL_DIR}/rkward/phpfiles )
+INSTALL(FILES common.php php.ini common.js rkcomponentscripting.js DESTINATION ${DATA_INSTALL_DIR}/rkward/phpfiles )
 
 
 
diff -Nuar rkward-0.5.3.orig/rkward/scriptbackends/qtscriptbackend.cpp rkward-0.5.3/rkward/scriptbackends/qtscriptbackend.cpp
--- rkward-0.5.3.orig/rkward/scriptbackends/qtscriptbackend.cpp	2010-03-23 13:10:17.000000000 +0200
+++ rkward-0.5.3/rkward/scriptbackends/qtscriptbackend.cpp	2010-06-24 18:13:40.257273000 +0300
@@ -1,5 +1,5 @@
 /***************************************************************************
-                          krossbackend  -  description
+                          qtscriptbackend  -  description
                              -------------------
     begin                : Mon Sep 28 2009
     copyright            : (C) 2009, 2010 by Thomas Friedrichsmeier
diff -Nuar rkward-0.5.3.orig/rkward/scriptbackends/qtscriptbackend.h rkward-0.5.3/rkward/scriptbackends/qtscriptbackend.h
--- rkward-0.5.3.orig/rkward/scriptbackends/qtscriptbackend.h	2009-10-05 12:59:20.000000000 +0300
+++ rkward-0.5.3/rkward/scriptbackends/qtscriptbackend.h	2010-06-24 18:13:40.257273000 +0300
@@ -1,5 +1,5 @@
 /***************************************************************************
-                          krossbackend  -  description
+                          qtscriptbackend  -  description
                              -------------------
     begin                : Mon Sep 28 2009
     copyright            : (C) 2009 by Thomas Friedrichsmeier
diff -Nuar rkward-0.5.3.orig/rkward/scriptbackends/rkcomponentscripting.cpp rkward-0.5.3/rkward/scriptbackends/rkcomponentscripting.cpp
--- rkward-0.5.3.orig/rkward/scriptbackends/rkcomponentscripting.cpp	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/rkward/scriptbackends/rkcomponentscripting.cpp	2010-07-15 21:44:35.141051000 +0300
@@ -0,0 +1,222 @@
+/***************************************************************************
+                          rkcomponentscripting  -  description
+                             -------------------
+    begin                : Thu Jun 17 2010
+    copyright            : (C) 2010 by Thomas Friedrichsmeier
+    email                : tfry@users.sourceforge.net
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include "rkcomponentscripting.h"
+
+#include <klocale.h>
+#include <kdeversion.h>
+
+#include "../plugin/rkcomponent.h"
+#include "../core/robjectlist.h"
+#include "../misc/rkcommonfunctions.h"
+
+#include "../debug.h"
+
+RKComponentScriptingProxy::RKComponentScriptingProxy (RKComponent *component) : QObject (component) {
+	RK_TRACE (PHP);
+
+	RK_ASSERT (component);
+	RKComponentScriptingProxy::component = component;
+
+	script = new Kross::Action (this, QString ());
+	script->setInterpreter ("qtscript");
+	script->addObject (this, "_rkward");
+}
+
+RKComponentScriptingProxy::~RKComponentScriptingProxy () {
+	RK_TRACE (PHP);
+}
+
+void RKComponentScriptingProxy::initialize (const QString& file, const QString& command) {
+	RK_TRACE (PHP);
+
+	QString _command = command;
+	if (!file.isEmpty ()) {
+		_command.prepend ("include('" + file + "');\n");
+		_scriptfile = file;
+	}
+	QDir files_path (RKCommonFunctions::getRKWardDataDir () + "phpfiles/");
+	_command.prepend ("_rkward.include('" + files_path.absoluteFilePath ("rkcomponentscripting.js") + "');\n");
+#if not KDE_IS_VERSION(4,3,0)
+	_command.prepend ("_rk_eval = function (x) { eval (x); }\n");
+#endif
+	script->setCode (_command.toUtf8 ());
+
+	script->trigger ();
+	handleScriptError ();
+}
+
+void RKComponentScriptingProxy::handleScriptError (const QString& current_file) {
+	RK_TRACE (PHP);
+
+	QString file = current_file;
+	if (file.isEmpty ()) file = _scriptfile;
+	if (script->hadError ()) {
+#warning TODO: refine error messages (file/context), and display them in a dialog
+qDebug ("line %d: %s", script->errorLineNo (), qPrintable (script->errorMessage ()));
+	}
+}
+
+void RKComponentScriptingProxy::include (const QString& filename) {
+	RK_TRACE (PHP);
+
+	QString _filename = filename;
+	if (QFileInfo (filename).isRelative ()) {
+		KUrl script_path = KUrl (QUrl::fromLocalFile (_scriptfile)).upUrl ();
+		script_path.addPath (filename);
+		_filename = script_path.toLocalFile ();
+	}
+
+	QFile file (_filename);
+	if (!file.open (QIODevice::ReadOnly | QIODevice::Text)) {
+		evaluate (i18n ("error ('The file \"%1\" (needed by \"%2\") could not be found. Please check your installation.');\n", _filename, _scriptfile).toUtf8 ());
+		return;
+	}
+
+	evaluate (file.readAll());
+	handleScriptError (_filename);
+}
+
+void RKComponentScriptingProxy::evaluate (const QByteArray &code) {
+	RK_TRACE (PHP);
+
+#if KDE_IS_VERSION(4,3,0)
+	script->evaluate (code);
+#else
+	script->callFunction ("_rk_eval", QVariantList() << QString (code));
+#endif
+}
+
+void RKComponentScriptingProxy::addScriptableWidget (const QString& name, QWidget *widget) {
+	RK_TRACE (PHP);
+
+	script->addObject (widget, name);
+}
+
+void RKComponentScriptingProxy::addChangeCommand (const QString& changed_id, const QString& command) {
+	RK_TRACE (PHP);
+
+	QString remainder;
+	RKComponentBase* base = component->lookupComponent (changed_id, &remainder);
+
+	if (remainder.isEmpty ()) {
+		component_commands.insert (base, command);
+		if (base->isComponent()) {
+			connect (static_cast<RKComponent*> (base), SIGNAL (componentChanged(RKComponent*)), this, SLOT (componentChanged(RKComponent*)));
+		} else {
+			connect (static_cast<RKComponentPropertyBase*> (base), SIGNAL (valueChanged(RKComponentPropertyBase*)), this, SLOT (propertyChanged(RKComponentPropertyBase*)));
+		}
+	} else {
+		script->setError (QString ("error ('No such property %1 (failed portion was %2)');\n").arg (changed_id, remainder));
+	}
+}
+
+void RKComponentScriptingProxy::componentChanged (RKComponent* changed) {
+	RK_TRACE (PHP);
+	handleChange (changed);
+}
+
+void RKComponentScriptingProxy::propertyChanged (RKComponentPropertyBase* changed) {
+	RK_TRACE (PHP);
+	handleChange (changed);
+}
+
+void RKComponentScriptingProxy::handleChange (RKComponentBase* changed) {
+	RK_TRACE (PHP);
+
+	QString command = component_commands.value (changed);
+	evaluate (command.toUtf8());
+}
+
+QString RKComponentScriptingProxy::getValue (const QString &id) const {
+	RK_TRACE (PHP);
+
+	return component->fetchStringValue (id);
+}
+
+void RKComponentScriptingProxy::setValue (const QString &value, const QString &id) {
+	RK_TRACE (PHP);
+
+	QString modifier;
+	RKComponentBase* resolved = component->lookupComponent (id, &modifier);
+	if (resolved && modifier.isEmpty () && resolved->isProperty ()) {
+		static_cast<RKComponentPropertyBase*> (resolved)->setValue (value);
+	} else {
+		script->setError (QString ("error ('No such property %1 (failed portion was %2)');\n").arg (id, modifier));
+	}
+}
+
+QVariantList RKComponentScriptingProxy::getObjectInfo (const QString &name) {
+	RK_TRACE (PHP);
+
+	RObject* object = RObjectList::getObjectList ()->findObject (name);
+	if (object) {
+		QVariantList ret;
+
+		QVariantList dims;
+		for (unsigned int i = 0; i < object->numDimensions (); ++i) {
+			dims.append (object->getDimension (i));
+		}
+		ret.append (QVariant (dims));
+
+		QStringList classes;
+		for (unsigned int i = 0; i < object->numClasses (); ++i) {
+			classes.append (object->getClassName (i));
+		}
+		ret.append (QVariant (classes));
+
+		ret.append (object->isType (RObject::DataFrame));
+		ret.append (object->isType (RObject::Matrix));
+		ret.append (object->isType (RObject::List));
+		ret.append (object->isType (RObject::Function));
+		ret.append (object->isType (RObject::Environment));
+
+		if (object->getDataType () == RObject::DataNumeric) ret.append ("numeric");
+		else if (object->getDataType () == RObject::DataFactor) ret.append ("factor");
+		else if (object->getDataType () == RObject::DataCharacter) ret.append ("character");
+		else if (object->getDataType () == RObject::DataLogical) ret.append ("logical");
+		else ret.append ("unknown");
+
+		return (ret);
+	}
+	return (QVariantList ());
+}
+
+QString RKComponentScriptingProxy::getObjectParent (const QString &name) {
+	RK_TRACE (PHP);
+
+	RObject* object = RObjectList::getObjectList ()->findObject (name);
+	if (object) {
+		if (object->getContainer ()) return (object->getContainer ()->getFullName ());
+	}
+	return (QString ());
+}
+
+QString RKComponentScriptingProxy::getObjectChild (const QString &name) {
+	RK_TRACE (PHP);
+	RObject* object = RObjectList::getObjectList ()->findObject (name);
+
+	if (object) {
+		if (object->isContainer ()) {
+			RObject* child = static_cast<RContainerObject*> (object)->findChildByName (name);
+			if (child) return (child->getFullName ());
+		}
+	}
+	return (QString ());
+}
+
+#include "rkcomponentscripting.moc"
diff -Nuar rkward-0.5.3.orig/rkward/scriptbackends/rkcomponentscripting.h rkward-0.5.3/rkward/scriptbackends/rkcomponentscripting.h
--- rkward-0.5.3.orig/rkward/scriptbackends/rkcomponentscripting.h	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/rkward/scriptbackends/rkcomponentscripting.h	2010-07-15 21:44:35.141051000 +0300
@@ -0,0 +1,71 @@
+/***************************************************************************
+                          rkcomponentscripting  -  description
+                             -------------------
+    begin                : Thu Jun 17 2010
+    copyright            : (C) 2010 by Thomas Friedrichsmeier
+    email                : tfry@users.sourceforge.net
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#ifndef RKCOMPONENTSCRIPTING_H
+#define RKCOMPONENTSCRIPTING_H
+
+#include <QObject>
+#include <QHash>
+
+#include <kross/core/action.h>
+
+class RKComponent;
+class RKComponentBase;
+class RKComponentPropertyBase;
+
+/** This class basically provides the API that is available to scripts running within rkward plugins.
+The slots are meant to be called from the script.
+
+NOTE: This contains some duplication of ScriptBackend and derived classes. Perhaps this can be merged, better.
+The key technical difference between this, and ScriptBackend, is that this operates in the main thread, while
+ScriptBackend is designed to operate in a separate thread, and may merge a bunch of changes into a single update. */
+class RKComponentScriptingProxy : public QObject {
+Q_OBJECT
+public:
+	RKComponentScriptingProxy (RKComponent *component);
+	~RKComponentScriptingProxy ();
+
+	void initialize (const QString& file, const QString& command);
+	void addScriptableWidget (const QString& name, QWidget *widget);
+public slots:
+	void componentChanged (RKComponent* changed);
+	void propertyChanged (RKComponentPropertyBase* changed);
+
+// these are meant to be called from the script
+	void include (const QString& filename);
+	void addChangeCommand (const QString& changed_id, const QString& command);
+
+	QString getValue (const QString &id) const;
+	void setValue (const QString &value, const QString &id);
+
+	QVariantList getObjectInfo (const QString &name);
+	QString getObjectParent (const QString &name);
+	QString getObjectChild (const QString &name);
+private:
+	RKComponent* component;
+	Kross::Action* script;
+	QString _scriptfile;
+/** helper function for compatibility with KDE < 4.3 */
+	void evaluate (const QByteArray &code);
+
+	void handleChange (RKComponentBase* changed);
+	QHash<RKComponentBase*, QString> component_commands;
+
+	void handleScriptError (const QString& current_file=QString ());
+};
+
+#endif
diff -Nuar rkward-0.5.3.orig/rkward/scriptbackends/rkcomponentscripting.js rkward-0.5.3/rkward/scriptbackends/rkcomponentscripting.js
--- rkward-0.5.3.orig/rkward/scriptbackends/rkcomponentscripting.js	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/rkward/scriptbackends/rkcomponentscripting.js	2010-06-30 18:56:34.824492000 +0300
@@ -0,0 +1,148 @@
+/***************************************************************************
+                          rkcomponentscripting  -  description
+                             -------------------
+    begin                : Thu Jun 17 2010
+    copyright            : (C) 2010 by Thomas Friedrichsmeier
+    email                : tfry@users.sourceforge.net
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+// _rkward = Handler object set from RKWard
+
+function Component(id) {
+	this._id = id;
+
+	// this one is mostly for internal use
+	this.absoluteId = function (id) {
+		if (this._id == "") return (id);
+		if (id) return (this._id + "." + id);
+		return (this._id);
+	}
+
+	this.getValue = function (id) {
+		return (_rkward.getValue (this.absoluteId (id)));
+	}
+
+	this.setValue = function (id, value) {
+		return (_rkward.setValue (value, this.absoluteId (id)));
+	}
+
+	this.getChild = function (id) {
+		return (new Component (this.absoluteId (id)));
+	}
+
+	this.addChangeCommand = function (id, command) {
+		_rkward.addChangeCommand (this.absoluteId (id), command);
+	}
+}
+makeComponent = function (id) {
+	return (new Component (id));
+}
+gui = new Component ("");
+
+function RObject(objectname) {
+	this.objectname = objectname;
+	
+	// for internal use
+	this.initialize = function () {
+		info = _rkward.getObjectInfo (this.objectname);
+
+		this._dimensions = info.shift ();
+		this._classes = info.shift ();
+		this._isDataFrame = info.shift ();
+		this._isMatrix = info.shift ();
+		this._isList = info.shift ();
+		this._isFunction = info.shift ();
+		this._isEnvironment = info.shift ();
+		this._datatype = info.shift ();
+	}
+
+	this.initialize();
+
+	this.getName = function () {
+		return (this.objectname);
+	}
+
+	this.exists = function () {
+		return (typeof (this._dimensions) != "undefined");
+	}
+
+	this.dimensions = function () {
+		return (this._dimensions);
+	}
+
+	this.classes = function () {
+		return (this._classes);
+	}
+
+	this.isClass = function (classname) {
+		return (this._classes.contains (classname));
+	}
+
+	this.isDataFrame = function () {
+		return (this._isDataFrame);
+	}
+	
+	this.isMatrix = function () {
+		return (this._isMatrix);
+	}
+
+	this.isList = function () {
+		return (this._isList);
+	}
+
+	this.isFunction = function () {
+		return (this._isFunction);
+	}
+
+	this.isEnvironment = function () {
+		return (this._isEnvironment);
+	}
+
+	this.isDataNumeric = function () {
+		return (this._datatype == "numeric");
+	}
+
+	this.isDataFactor = function () {
+		return (this._datatype == "factor");
+	}
+
+	this.isDataCharacter = function () {
+		return (this._datatype == "character");
+	}
+
+	this.isDataLogical = function () {
+		return (this._datatype == "logical");
+	}
+
+	this.parent = function () {
+		return (new RObject (_rkward.getObjectParent (this._name)));
+	}
+
+	this.child = function (childname) {
+		return (new RObject (_rkward.getObjectChild (this._name, childname)));
+	}
+}
+makeRObject = function (objectname) {
+	return (new RObject (objectname));
+}
+
+function RObjectArray(names) {
+	this._objects = new Array ();
+
+	objs = names.split ('\n');
+	while (objs.length () > 0) {
+		this._objects.push (new RObject (objs.shift ()));
+	}
+}
+makeRObjectArray = function (objectnames) {
+	return (new RObjectArray (objectnames));
+}
diff -Nuar rkward-0.5.3.orig/rkward/settings/rksettingsmodulecommandeditor.cpp rkward-0.5.3/rkward/settings/rksettingsmodulecommandeditor.cpp
--- rkward-0.5.3.orig/rkward/settings/rksettingsmodulecommandeditor.cpp	2009-05-19 16:44:18.000000000 +0300
+++ rkward-0.5.3/rkward/settings/rksettingsmodulecommandeditor.cpp	2010-09-03 17:02:49.432165000 +0300
@@ -2,7 +2,7 @@
                           rksettingsmodulecommandeditor  -  description
                              -------------------
     begin                : Tue Oct 23 2007
-    copyright            : (C) 2007 by Thomas Friedrichsmeier
+    copyright            : (C) 2007, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -25,6 +25,7 @@
 #include <QVBoxLayout>
 #include <QCheckBox>
 #include <QGroupBox>
+#include <QLineEdit>
 
 #include "../misc/rkspinbox.h"
 #include "../rkglobals.h"
@@ -34,6 +35,11 @@
 int RKSettingsModuleCommandEditor::completion_min_chars;
 int RKSettingsModuleCommandEditor::completion_timeout;
 bool RKSettingsModuleCommandEditor::completion_enabled;
+bool RKSettingsModuleCommandEditor::arghinting_enabled;
+bool RKSettingsModuleCommandEditor::autosave_enabled;
+bool RKSettingsModuleCommandEditor::autosave_keep;
+int RKSettingsModuleCommandEditor::autosave_interval;
+//QString RKSettingsModuleCommandEditor::autosave_suffix;
 
 RKSettingsModuleCommandEditor::RKSettingsModuleCommandEditor (RKSettings *gui, QWidget *parent) : RKSettingsModule (gui, parent) {
 	RK_TRACE (SETTINGS);
@@ -45,7 +51,7 @@
 
 	completion_enabled_box = new QCheckBox (i18n ("Enable code completion"), group);
 	completion_enabled_box->setChecked (completion_enabled);
-	connect (completion_enabled_box, SIGNAL (stateChanged(int)), this, SLOT (settingChanged(int)));
+	connect (completion_enabled_box, SIGNAL (stateChanged(int)), this, SLOT (settingChanged()));
 	box_layout->addWidget (completion_enabled_box);
 
 	box_layout->addSpacing (RKGlobals::spacingHint ());
@@ -55,7 +61,7 @@
 	completion_min_chars_box = new RKSpinBox (group);
 	completion_min_chars_box->setIntMode (1, INT_MAX, completion_min_chars);
 	completion_min_chars_box->setEnabled (completion_enabled);
-	connect (completion_min_chars_box, SIGNAL (valueChanged(int)), this, SLOT (settingChanged(int)));
+	connect (completion_min_chars_box, SIGNAL (valueChanged(int)), this, SLOT (settingChanged()));
 	box_layout->addWidget (label);
 	box_layout->addWidget (completion_min_chars_box);
 
@@ -66,12 +72,47 @@
 	completion_timeout_box = new RKSpinBox (group);
 	completion_timeout_box->setIntMode (0, INT_MAX, completion_timeout);
 	completion_timeout_box->setEnabled (completion_enabled);
-	connect (completion_timeout_box, SIGNAL (valueChanged(int)), this, SLOT (settingChanged(int)));
+	connect (completion_timeout_box, SIGNAL (valueChanged(int)), this, SLOT (settingChanged()));
 	box_layout->addWidget (label);
 	box_layout->addWidget (completion_timeout_box);
 
 	main_vbox->addWidget (group);
 
+	arghinting_enabled_box = new QCheckBox (i18n ("Enable function argument hinting"), group);
+	arghinting_enabled_box->setChecked (arghinting_enabled);
+	connect (arghinting_enabled_box, SIGNAL (stateChanged(int)), this, SLOT (settingChanged()));
+	main_vbox->addWidget (arghinting_enabled_box);
+
+	main_vbox->addSpacing (2 * RKGlobals::spacingHint ());
+
+	group = autosave_enabled_box = new QGroupBox (i18n ("Autosaves"), this);
+	autosave_enabled_box->setCheckable (true);
+	autosave_enabled_box->setChecked (autosave_enabled);
+	connect (autosave_enabled_box, SIGNAL (toggled(bool)), this, SLOT (settingChanged()));
+	box_layout = new QVBoxLayout (group);
+
+	label = new QLabel (i18n ("Autosave interval (minutes)"), group);
+	autosave_interval_box = new RKSpinBox (group);
+	autosave_interval_box->setIntMode (1, INT_MAX, autosave_interval);
+	connect (autosave_interval_box, SIGNAL (valueChanged(int)), this, SLOT (settingChanged()));
+	box_layout->addWidget (label);
+	box_layout->addWidget (autosave_interval_box);
+	box_layout->addSpacing (RKGlobals::spacingHint ());
+
+/*	label = new QLabel (i18n ("Filename suffix for autosave files"), group);
+	autosave_suffix_edit = new QLineEdit (autosave_suffix, group);
+	connect (autosave_suffix_edit, SIGNAL (textChanged(const QString&)), this, SLOT (settingChanged()));
+	box_layout->addWidget (label);
+	box_layout->addWidget (autosave_suffix_edit);
+	box_layout->addSpacing (RKGlobals::spacingHint ()); */
+
+	autosave_keep_box = new QCheckBox (i18n ("Keep autosave file after manual save"), group);
+	autosave_keep_box->setChecked (autosave_keep);
+	connect (autosave_keep_box, SIGNAL (stateChanged(int)), this, SLOT (settingChanged()));
+	box_layout->addWidget (autosave_keep_box);
+
+	main_vbox->addWidget (group);
+
 	main_vbox->addStretch ();
 }
 
@@ -79,7 +120,7 @@
 	RK_TRACE (SETTINGS);
 }
 
-void RKSettingsModuleCommandEditor::settingChanged (int) {
+void RKSettingsModuleCommandEditor::settingChanged () {
 	RK_TRACE (SETTINGS);
 	change ();
 
@@ -103,6 +144,14 @@
 	completion_enabled = completion_enabled_box->isChecked ();
 	completion_min_chars = completion_min_chars_box->intValue ();
 	completion_timeout = completion_timeout_box->intValue ();
+	arghinting_enabled = arghinting_enabled_box->isChecked ();
+
+	autosave_enabled = autosave_enabled_box->isChecked ();
+	autosave_keep = autosave_keep_box->isChecked ();
+	autosave_interval = autosave_interval_box->intValue ();
+/*	autosave_suffix = autosave_suffix_edit->text ();
+	// prevent user from shooting themselves in the foot
+	if (autosave_suffix.isEmpty ()) autosave_suffix = ".autosave"; */
 }
 
 void RKSettingsModuleCommandEditor::save (KConfig *config) {
@@ -117,6 +166,12 @@
 	cg.writeEntry ("Completion enabled", completion_enabled);
 	cg.writeEntry ("Completion min chars", completion_min_chars);
 	cg.writeEntry ("Completion timeout", completion_timeout);
+	cg.writeEntry ("Argument hinting enabled", arghinting_enabled);
+
+	cg.writeEntry ("Autosave enabled", autosave_enabled);
+	cg.writeEntry ("Autosave keep saves", autosave_keep);
+	cg.writeEntry ("Autosave interval", autosave_interval);
+//	cg.writeEntry ("Autosave suffix", autosave_suffix);
 }
 
 void RKSettingsModuleCommandEditor::loadSettings (KConfig *config) {
@@ -126,6 +181,12 @@
 	completion_enabled = cg.readEntry ("Completion enabled", true);
 	completion_min_chars = cg.readEntry ("Completion min chars", 2);
 	completion_timeout = cg.readEntry ("Completion timeout", 500);
+	arghinting_enabled = cg.readEntry ("Argument hinting enabled", true);
+
+	autosave_enabled = cg.readEntry ("Autosave enabled", true);
+	autosave_keep = cg.readEntry ("Autosave keep saves", false);
+	autosave_interval = cg.readEntry ("Autosave interval", 5);
+//	autosave_suffix = cg.readEntry ("Autosave suffix", ".rkward_autosave");
 }
 
 #include "rksettingsmodulecommandeditor.moc"
diff -Nuar rkward-0.5.3.orig/rkward/settings/rksettingsmodulecommandeditor.h rkward-0.5.3/rkward/settings/rksettingsmodulecommandeditor.h
--- rkward-0.5.3.orig/rkward/settings/rksettingsmodulecommandeditor.h	2009-05-19 16:44:14.000000000 +0300
+++ rkward-0.5.3/rkward/settings/rksettingsmodulecommandeditor.h	2010-09-03 17:02:49.432165000 +0300
@@ -2,7 +2,7 @@
                           rksettingsmodulecommandeditor  -  description
                              -------------------
     begin                : Tue Oct 23 2007
-    copyright            : (C) 2007 by Thomas Friedrichsmeier
+    copyright            : (C) 2007, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -21,6 +21,8 @@
 
 class RKSpinBox;
 class QCheckBox;
+class QLineEdit;
+class QGroupBox;
 
 /**
 configuration for the Command Editor windows
@@ -47,16 +49,34 @@
 	static int completionMinChars () { return completion_min_chars; };
 	static int completionTimeout () { return completion_timeout; };
 	static bool completionEnabled () { return completion_enabled; };
+	static bool argHintingEnabled () { return arghinting_enabled; };
+
+	static bool autosaveEnabled () { return autosave_enabled; };
+	static bool autosaveKeep () { return autosave_keep; };
+	static int autosaveInterval () { return autosave_interval; };
+	static QString autosaveSuffix () { return ".rkward_autosave"; };
 public slots:
-	void settingChanged (int);
+	void settingChanged ();
 private:
 	static int completion_min_chars;
 	static int completion_timeout;
 	static bool completion_enabled;
+	static bool arghinting_enabled;
 
 	RKSpinBox* completion_min_chars_box;
 	RKSpinBox* completion_timeout_box;
 	QCheckBox* completion_enabled_box;
+	QCheckBox* arghinting_enabled_box;
+
+	static bool autosave_enabled;
+	static bool autosave_keep;
+	static int autosave_interval;
+//	static QString autosave_suffix;
+
+	QGroupBox* autosave_enabled_box;
+	QCheckBox* autosave_keep_box;
+	RKSpinBox* autosave_interval_box;
+//	QLineEdit* autosave_suffix_edit;
 };
 
 #endif
diff -Nuar rkward-0.5.3.orig/rkward/settings/rksettingsmodulegeneral.cpp rkward-0.5.3/rkward/settings/rksettingsmodulegeneral.cpp
--- rkward-0.5.3.orig/rkward/settings/rksettingsmodulegeneral.cpp	2009-09-25 14:46:16.000000000 +0300
+++ rkward-0.5.3/rkward/settings/rksettingsmodulegeneral.cpp	2010-05-08 21:14:42.257875000 +0300
@@ -2,7 +2,7 @@
                           rksettingsmodulegeneral  -  description
                              -------------------
     begin                : Fri Jul 30 2004
-    copyright            : (C) 2004, 2007, 2008 by Thomas Friedrichsmeier
+    copyright            : (C) 2004, 2007, 2008, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -55,7 +55,7 @@
 
 	main_vbox->addSpacing (2*RKGlobals::spacingHint ());
 
-	files_choser = new GetFileNameWidget (this, GetFileNameWidget::ExistingDirectory, true, i18n ("Directory where the logfiles should be kept (*)"), QString::null, new_files_path);
+	files_choser = new GetFileNameWidget (this, GetFileNameWidget::ExistingDirectory, true, i18n ("Directory where rkward may store files (*)"), QString::null, new_files_path);
 	connect (files_choser, SIGNAL (locationChanged ()), this, SLOT (pathChanged ()));
 	main_vbox->addWidget (files_choser);
 
diff -Nuar rkward-0.5.3.orig/rkward/settings/rksettingsmoduleoutput.cpp rkward-0.5.3/rkward/settings/rksettingsmoduleoutput.cpp
--- rkward-0.5.3.orig/rkward/settings/rksettingsmoduleoutput.cpp	2010-03-09 13:25:18.000000000 +0200
+++ rkward-0.5.3/rkward/settings/rksettingsmoduleoutput.cpp	2010-09-01 19:50:32.147752000 +0300
@@ -39,6 +39,8 @@
 int RKSettingsModuleOutput::graphics_width;
 int RKSettingsModuleOutput::graphics_height;
 int RKSettingsModuleOutput::graphics_jpg_quality;
+int RKSettingsModuleOutput::graphics_hist_max_length;
+int RKSettingsModuleOutput::graphics_hist_max_plotsize;
 
 RKSettingsModuleOutput::RKSettingsModuleOutput (RKSettings *gui, QWidget *parent) : RKSettingsModule(gui, parent) {
 	RK_TRACE (SETTINGS);
@@ -90,6 +92,21 @@
 
 	main_vbox->addWidget (group);
 
+	group = new QGroupBox (i18n ("Screen device history"), this);
+	group_layout = new QVBoxLayout (group);
+	h_layout = new QHBoxLayout (group);
+	group_layout->addLayout (h_layout);
+	h_layout->addWidget (new QLabel (i18n ("Maximum number of recorded plots:"), group));
+	h_layout->addWidget (graphics_hist_max_length_box = new KIntSpinBox (1, 200, 1, graphics_hist_max_length, group));
+	h_layout = new QHBoxLayout (group);
+	group_layout->addLayout (h_layout);
+	h_layout->addWidget (new QLabel (i18n ("Maximum size of a single recorded plot (in KB):"), group));
+	h_layout->addWidget (graphics_hist_max_plotsize_box = new KIntSpinBox (4, 20000, 4, graphics_hist_max_plotsize, group)); // in KB
+	connect (graphics_hist_max_length_box, SIGNAL (valueChanged (int)), this, SLOT (boxChanged (int)));
+	connect (graphics_hist_max_plotsize_box, SIGNAL (valueChanged (int)), this, SLOT (boxChanged (int)));
+
+	main_vbox->addWidget (group);
+
 	main_vbox->addStretch ();
 }
 
@@ -124,6 +141,10 @@
 	graphics_width = graphics_width_box->value ();
 	graphics_height = graphics_height_box->value ();
 	graphics_jpg_quality = graphics_jpg_quality_box->value ();
+
+	graphics_hist_max_length = graphics_hist_max_length_box->value ();
+	graphics_hist_max_plotsize = graphics_hist_max_plotsize_box->value ();
+
 	QStringList commands = makeRRunTimeOptionCommands ();
 	for (QStringList::const_iterator it = commands.begin (); it != commands.end (); ++it) {
 		RKGlobals::rInterface ()->issueCommand (*it, RCommand::App, QString::null, 0, 0, commandChain ());
@@ -146,6 +167,8 @@
 	cg.writeEntry ("graphics_width", graphics_width);
 	cg.writeEntry ("graphics_height", graphics_height);
 	cg.writeEntry ("graphics_jpg_quality", graphics_jpg_quality);
+	cg.writeEntry ("graphics_hist_max_length", graphics_hist_max_length);
+	cg.writeEntry ("graphics_hist_max_plotsize", graphics_hist_max_plotsize);
 }
 
 void RKSettingsModuleOutput::loadSettings (KConfig *config) {
@@ -158,6 +181,8 @@
 	graphics_width = cg.readEntry ("graphics_width", 480);
 	graphics_height = cg.readEntry ("graphics_height", 480);
 	graphics_jpg_quality = cg.readEntry ("graphics_jpg_quality", 75);
+	graphics_hist_max_length = cg.readEntry ("graphics_hist_max_length", 20);
+	graphics_hist_max_plotsize = cg.readEntry ("graphics_hist_max_plotsize", 1024);
 }
 
 //static
@@ -169,7 +194,9 @@
 	command.append (", \"rk.graphics.width\"=" + QString::number (graphics_width));
 	command.append (", \"rk.graphics.height\"=" + QString::number (graphics_height));
 	if (graphics_type == "\"JPG\"") command.append (", \"rk.graphics.jpg.quality\"=" + QString::number (graphics_jpg_quality));
-	list.append (command + ")\n");
+	command.append (", \"rk.graphics.hist.max.length\"=" + QString::number (graphics_hist_max_length));
+	command.append (", \"rk.graphics.hist.max.plotsize\"=" + QString::number (graphics_hist_max_plotsize));
+	list.append (command + ")\nrk.record.plot$.verify.hist.limits ()\n");
 	
 	return (list);
 }
diff -Nuar rkward-0.5.3.orig/rkward/settings/rksettingsmoduleoutput.h rkward-0.5.3/rkward/settings/rksettingsmoduleoutput.h
--- rkward-0.5.3.orig/rkward/settings/rksettingsmoduleoutput.h	2010-03-09 11:35:42.000000000 +0200
+++ rkward-0.5.3/rkward/settings/rksettingsmoduleoutput.h	2010-07-04 21:59:13.241549000 +0300
@@ -57,6 +57,8 @@
 	KIntSpinBox *graphics_width_box;
 	KIntSpinBox *graphics_height_box;
 	KIntSpinBox *graphics_jpg_quality_box;
+	KIntSpinBox *graphics_hist_max_length_box;
+	KIntSpinBox *graphics_hist_max_plotsize_box;
 
 	static bool auto_show;
 	static bool auto_raise;
@@ -64,6 +66,8 @@
 	static int graphics_width;
 	static int graphics_height;
 	static int graphics_jpg_quality;
+	static int graphics_hist_max_length;
+	static int graphics_hist_max_plotsize;
 };
 
 #endif
diff -Nuar rkward-0.5.3.orig/rkward/templates/cpp_template rkward-0.5.3/rkward/templates/cpp_template
--- rkward-0.5.3.orig/rkward/templates/cpp_template	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/rkward/templates/cpp_template	2002-11-01 03:08:45.000000000 +0200
@@ -0,0 +1,16 @@
+/***************************************************************************
+                          |FILENAME|  -  description
+                             -------------------
+    begin                : |DATE|
+    copyright            : (C) |YEAR| by |AUTHOR|
+    email                : |EMAIL|
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
diff -Nuar rkward-0.5.3.orig/rkward/templates/header_template rkward-0.5.3/rkward/templates/header_template
--- rkward-0.5.3.orig/rkward/templates/header_template	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/rkward/templates/header_template	2002-11-01 03:08:45.000000000 +0200
@@ -0,0 +1,16 @@
+/***************************************************************************
+                          |FILENAME|  -  description
+                             -------------------
+    begin                : |DATE|
+    copyright            : (C) |YEAR| by |AUTHOR|
+    email                : |EMAIL|
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
diff -Nuar rkward-0.5.3.orig/rkward/version.h rkward-0.5.3/rkward/version.h
--- rkward-0.5.3.orig/rkward/version.h	2010-04-27 11:01:24.000000000 +0300
+++ rkward-0.5.3/rkward/version.h	2010-07-02 11:44:28.891060000 +0300
@@ -1,2 +1,2 @@
 /* Version number of package */
-#define VERSION "0.5.3"
+#define VERSION "0.5.4-test5"
diff -Nuar rkward-0.5.3.orig/rkward/windows/detachedwindowcontainer.rc rkward-0.5.3/rkward/windows/detachedwindowcontainer.rc
--- rkward-0.5.3.orig/rkward/windows/detachedwindowcontainer.rc	2010-03-17 12:07:01.000000000 +0200
+++ rkward-0.5.3/rkward/windows/detachedwindowcontainer.rc	2010-06-29 18:39:12.255787000 +0300
@@ -1,6 +1,6 @@
 <!DOCTYPE kpartgui>
 <!-- This contains *mostly* a duplicate of rkwardui.rc. Perhaps the two can be merged one day, but that's not as trivial as it may sound.. -->
-<kpartgui name="rkward" version="53">
+<kpartgui name="rkward_detachedwindow" version="54">
 	<MenuBar>
 		<Menu name="file"><text>&amp;File</text>
 			<DefineGroup name="file_dummy_merge" />
diff -Nuar rkward-0.5.3.orig/rkward/windows/rkcatchedx11windowpart.rc rkward-0.5.3/rkward/windows/rkcatchedx11windowpart.rc
--- rkward-0.5.3.orig/rkward/windows/rkcatchedx11windowpart.rc	2009-10-06 19:22:15.000000000 +0300
+++ rkward-0.5.3/rkward/windows/rkcatchedx11windowpart.rc	2010-09-06 13:46:53.362697000 +0300
@@ -1,5 +1,5 @@
 <!DOCTYPE kpartgui>
-<kpartgui name="rkward" version="42">
+<kpartgui name="rkward_x11window" version="54">
 	<MenuBar>
 		<Menu name="device"><text>&amp;Device</text>
 			<Action name="device_activate"/>
@@ -9,6 +9,22 @@
 			<Action name="device_copy_to_output"/>
 			<Action name="device_copy_to_r_object"/>
 			<Merge/>
+			<Separator/>
+		</Menu>
+		<Menu name="history"><text>&amp;History</text>
+			<Action name="plot_list"/>
+			<Separator/>
+			<Action name="plot_first"/>
+			<Action name="plot_prev"/>
+			<Action name="plot_next"/>
+			<Action name="plot_last"/>
+			<Separator/>
+			<Action name="plot_replaceby"/>
+			<Action name="plot_remove"/>
+			<Separator/>
+			<Action name="plot_clear_history"/>
+			<Separator/>
+			<Action name="plot_properties"/>
 		</Menu>
 		<Menu name="view"><text>&amp;View</text>
 			<Action name="toggle_fixed_size"/>
@@ -18,7 +34,20 @@
 			<Action name="set_fixed_size_3"/>
 			<Action name="set_fixed_size_manual"/>
 			<Merge/>
+			<Separator/>
 		</Menu>
 		<Merge/>
 	</MenuBar>
+	<ToolBar name="mdiToolBar">
+		<Action name="device_activate"/>
+		<Action name="device_duplicate"/>
+		<Separator/>
+		<Action name="device_copy_to_output"/>
+		<Separator/>
+		<Action name="plot_list"/>
+		<Action name="plot_prev"/>
+		<Action name="plot_next"/>
+		<Separator/>
+		<Action name="plot_remove"/>
+	</ToolBar>
 </kpartgui>
\ Dosya sonunda yenisatır yok.
diff -Nuar rkward-0.5.3.orig/rkward/windows/rkcommandeditorwindow.cpp rkward-0.5.3/rkward/windows/rkcommandeditorwindow.cpp
--- rkward-0.5.3.orig/rkward/windows/rkcommandeditorwindow.cpp	2010-03-15 11:02:42.000000000 +0200
+++ rkward-0.5.3/rkward/windows/rkcommandeditorwindow.cpp	2010-09-07 13:10:53.917770000 +0300
@@ -46,11 +46,15 @@
 #include <klibloader.h>
 #include <kactioncollection.h>
 #include <kactionmenu.h>
+#include <ktemporaryfile.h>
+#include <kio/deletejob.h>
+#include <kio/job.h>
 
 #include "../misc/rkcommonfunctions.h"
 #include "../misc/rkstandardicons.h"
 #include "../misc/rkstandardactions.h"
 #include "../misc/rkxmlguisyncer.h"
+#include "../misc/rkjobsequence.h"
 #include "../core/robjectlist.h"
 #include "../settings/rksettings.h"
 #include "../settings/rksettingsmodulecommandeditor.h"
@@ -108,8 +112,10 @@
 	layout->addWidget(m_view);
 
 	connect (m_doc, SIGNAL (documentUrlChanged (KTextEditor::Document*)), this, SLOT (updateCaption (KTextEditor::Document*)));
-	connect (m_doc, SIGNAL (modifiedChanged (KTextEditor::Document*)), this, SLOT (updateCaption (KTextEditor::Document*)));		// of course most of the time this causes a redundant call to updateCaption. Not if a modification is undone, however.
+	connect (m_doc, SIGNAL (modifiedChanged (KTextEditor::Document*)), this, SLOT (updateCaption(KTextEditor::Document*)));                // of course most of the time this causes a redundant call to updateCaption. Not if a modification is undone, however.
+	connect (m_doc, SIGNAL (modifiedChanged (KTextEditor::Document*)), this, SLOT (autoSaveHandlerModifiedChanged()));
 	connect (m_doc, SIGNAL (textChanged (KTextEditor::Document*)), this, SLOT (tryCompletionProxy (KTextEditor::Document*)));
+	connect (m_doc, SIGNAL (textChanged (KTextEditor::Document*)), this, SLOT (autoSaveHandlerTextChanged()));
 	connect (m_view, SIGNAL (selectionChanged(KTextEditor::View*)), this, SLOT (selectionChanged(KTextEditor::View*)));
 	// somehow the katepart loses the context menu each time it loses focus
 	connect (m_view, SIGNAL (focusIn(KTextEditor::View*)), this, SLOT (focusIn(KTextEditor::View*)));
@@ -132,10 +138,17 @@
 		hinter = new RKFunctionArgHinter (this, m_view);
 	}
 
+#if KDE_IS_VERSION(4,5,0)
+	smart_iface = qobject_cast<KTextEditor::MovingInterface*> (m_doc);
+#else
 	smart_iface = qobject_cast<KTextEditor::SmartInterface*> (m_doc);
+#endif
 	initBlocks ();
 	RK_ASSERT (smart_iface);
 
+	autosave_timer = new QTimer (this);
+	connect (autosave_timer, SIGNAL (timeout()), this, SLOT (doAutoSave()));
+
 	updateCaption ();	// initialize
 	QTimer::singleShot (0, this, SLOT (setPopupMenu ()));
 }
@@ -190,6 +203,7 @@
 
 void RKCommandEditorWindow::initBlocks () {
 	RK_TRACE (COMMANDEDITOR);
+	if (!smart_iface) return;	// may happen in KDE => 4.6 if compiled with KDE <= 4.4
 	RK_ASSERT (block_records.isEmpty ());
 
 	KActionCollection* ac = getPart ()->actionCollection ();
@@ -242,6 +256,10 @@
 		record.run->setData (i);
 		actionmenu_run_block->addAction (record.run);
 
+		// these two not strictly needed due to removeBlock(), below. Silences a GCC warning, however.
+		record.range = 0;
+		record.active = false;
+
 		block_records.append (record);
 		removeBlock (i, true);	// initialize to empty
 	}
@@ -331,6 +349,104 @@
 	return false;
 }
 
+void RKCommandEditorWindow::autoSaveHandlerModifiedChanged () {
+	RK_TRACE (COMMANDEDITOR);
+
+	if (!isModified ()) {
+		autosave_timer->stop ();
+
+		if (RKSettingsModuleCommandEditor::autosaveKeep ()) return;
+		if (!previous_autosave_url.isValid ()) return;
+		if (previous_autosave_url.isLocalFile ()) {
+			QFile::remove (previous_autosave_url.toLocalFile ());
+		} else {
+			RKJobSequence* dummy = new RKJobSequence ();
+			dummy->addJob (KIO::del (previous_autosave_url));
+			connect (dummy, SIGNAL (finished(RKJobSequence*)), this, SLOT (autoSaveHandlerJobFinished(RKJobSequence*)));
+			dummy->start ();
+		}
+		previous_autosave_url.clear ();
+	}
+}
+
+void RKCommandEditorWindow::autoSaveHandlerTextChanged () {
+	RK_TRACE (COMMANDEDITOR);
+
+	if (!isModified ()) return;		// may happen after load or undo
+	if (!RKSettingsModuleCommandEditor::autosaveEnabled ()) return;
+	if (!autosave_timer->isActive ()) {
+		autosave_timer->start (RKSettingsModuleCommandEditor::autosaveInterval () * 60 * 1000);
+	}
+}
+
+void RKCommandEditorWindow::doAutoSave () {
+	RK_TRACE (COMMANDEDITOR);
+	RK_ASSERT (isModified ());
+
+	KTemporaryFile save;
+	save.setSuffix (RKSettingsModuleCommandEditor::autosaveSuffix ());
+	RK_ASSERT (save.open ());
+	QTextStream out (&save);
+	out.setCodec ("UTF-8");		// make sure that all characters can be saved, without nagging the user
+	out << m_doc->text ();
+	save.close ();
+	save.setAutoRemove (false);
+
+	RKJobSequence* alljobs = new RKJobSequence ();
+	// The KJob-Handling below seems to be a bit error-prone, at least for the file-protocol on Windows.
+	// Thus, for the simple case of local files, we use QFile, instead.
+	connect (alljobs, SIGNAL (finished(RKJobSequence*)), this, SLOT (autoSaveHandlerJobFinished(RKJobSequence*)));
+	// backup the old autosave file in case something goes wrong during pushing the new one
+	KUrl backup_autosave_url;
+	if (previous_autosave_url.isValid ()) {
+		backup_autosave_url = previous_autosave_url;
+		backup_autosave_url.setFileName (backup_autosave_url.fileName () + "~");
+		if (previous_autosave_url.isLocalFile ()) {
+			QFile::remove (backup_autosave_url.toLocalFile ());
+			QFile::copy (previous_autosave_url.toLocalFile (), backup_autosave_url.toLocalFile ());
+		} else {
+			alljobs->addJob (KIO::file_move (previous_autosave_url, backup_autosave_url, -1, KIO::HideProgressInfo | KIO::Overwrite));
+		}
+	}
+	
+	// push the newly written file
+	if (url ().isValid ()) {
+		KUrl autosave_url = url ();
+		autosave_url.setFileName (autosave_url.fileName () + RKSettingsModuleCommandEditor::autosaveSuffix ());
+		if (autosave_url.isLocalFile ()) {
+			QFile::remove (autosave_url.toLocalFile ());
+			save.copy (autosave_url.toLocalFile ());
+			save.remove ();
+		} else {
+			alljobs->addJob (KIO::file_move (KUrl::fromLocalFile (save.fileName ()), autosave_url, -1, KIO::HideProgressInfo | KIO::Overwrite));
+		}
+		previous_autosave_url = autosave_url;
+	} else {		// i.e., the document is still "Untitled"
+		previous_autosave_url = KUrl::fromLocalFile (save.fileName ());
+	}
+
+	// remove the backup
+	if (backup_autosave_url.isValid ()) {
+		if (backup_autosave_url.isLocalFile ()) {
+			QFile::remove (backup_autosave_url.toLocalFile ());
+		} else {
+			alljobs->addJob (KIO::del (backup_autosave_url, KIO::HideProgressInfo));
+		}
+	}
+	alljobs->start ();
+
+	// do not create any more autosaves until the text is changed, again
+	autosave_timer->stop ();
+}
+
+void RKCommandEditorWindow::autoSaveHandlerJobFinished (RKJobSequence* seq) {
+	RK_TRACE (COMMANDEDITOR);
+
+	if (seq->hadError ()) {
+		KMessageBox::detailedError (this, i18n ("An error occurred during while trying to create an autosave of the script file '%1':", url ().url ()), "- " + seq->errors ().join ("\n- "));
+	}
+}
+
 KUrl RKCommandEditorWindow::url () {
 //	RK_TRACE (COMMANDEDITOR);
 	return (m_doc->url ());
@@ -557,7 +673,11 @@
 	for (int i = 0; i < block_records.size (); ++i) {
 		if (block_records[i].active) {
 // TODO: do we need to check whether the range was deleted? Does the katepart do such evil things?
+#if KDE_IS_VERSION(4,5,0)
+			if (block_records[i].range->isEmpty ()) {
+#else
 			if (!block_records[i].range->isValid () || block_records[i].range->isEmpty ()) {
+#endif
 				removeBlock (i, true);
 			}
 		}
@@ -566,13 +686,19 @@
 
 void RKCommandEditorWindow::addBlock (int index, const KTextEditor::Range& range) {
 	RK_TRACE (COMMANDEDITOR);
+	if (!smart_iface) return;	// may happen in KDE => 4.6 if compiled with KDE <= 4.4
 	RK_ASSERT ((index >= 0) && (index < block_records.size ()));
 
 	clearUnusedBlocks ();
 	removeBlock (index);
 
+#if KDE_IS_VERSION(4,5,0)
+	KTextEditor::MovingRange* srange = smart_iface->newMovingRange (range);
+	srange->setInsertBehaviors (KTextEditor::MovingRange::ExpandRight);
+#else
 	KTextEditor::SmartRange* srange = smart_iface->newSmartRange (range);
 	srange->setInsertBehavior (KTextEditor::SmartRange::ExpandRight);
+#endif
 
 	QString actiontext = i18n ("%1 (Active)", index + 1);
 	block_records[index].range = srange;
@@ -584,15 +710,20 @@
 	block_records[index].run->setText (actiontext);
 	block_records[index].run->setEnabled (true);
 
+#if !KDE_IS_VERSION(4,5,0)
 	smart_iface->addHighlightToView (m_view, srange);
+#endif
 }
 
 void RKCommandEditorWindow::removeBlock (int index, bool was_deleted) {
 	RK_TRACE (COMMANDEDITOR);
+	if (!smart_iface) return;	// may happen in KDE => 4.6 if compiled with KDE <= 4.4
 	RK_ASSERT ((index >= 0) && (index < block_records.size ()));
 
 	if (!was_deleted) {
+#if !KDE_IS_VERSION(4,5,0)
 		smart_iface->removeHighlightFromView (m_view, block_records[index].range);
+#endif
 		delete (block_records[index].range);
 	}
 
@@ -662,6 +793,8 @@
 void RKFunctionArgHinter::tryArgHint () {
 	RK_TRACE (COMMANDEDITOR);
 
+	if (!RKSettingsModuleCommandEditor::argHintingEnabled ()) return;
+
 	// do this in the next event cycle to make sure any inserted characters have truly been inserted
 	QTimer::singleShot (0, this, SLOT (tryArgHintNow ()));
 }
diff -Nuar rkward-0.5.3.orig/rkward/windows/rkcommandeditorwindow.h rkward-0.5.3/rkward/windows/rkcommandeditorwindow.h
--- rkward-0.5.3.orig/rkward/windows/rkcommandeditorwindow.h	2010-03-15 10:57:34.000000000 +0200
+++ rkward-0.5.3/rkward/windows/rkcommandeditorwindow.h	2010-09-03 18:31:28.311737000 +0300
@@ -22,12 +22,18 @@
 #include <QTimer>
 #include <QString>
 
+#include <kdeversion.h>
 #include <ktexteditor/view.h>
 #include <ktexteditor/document.h>
 #include <ktexteditor/codecompletionmodel.h>
 #include <ktexteditor/codecompletioninterface.h>
-#include <ktexteditor/smartrange.h>
-#include <ktexteditor/smartinterface.h>
+#if KDE_IS_VERSION(4,5,0)
+#	include <ktexteditor/movingrange.h>
+#	include <ktexteditor/movinginterface.h>
+#else
+#	include <ktexteditor/smartrange.h>
+#	include <ktexteditor/smartinterface.h>
+#endif
 #include <kurl.h>
 
 #include "../windows/rkmdiwindow.h"
@@ -116,6 +122,7 @@
 };
 
 class QTimer;
+class RKJobSequence;
 
 /**
 	\brief Provides an editor window for R-commands, as well as a text-editor window in general.
@@ -199,11 +206,23 @@
 /** run a block */
 	void runBlock ();
 	void clearUnusedBlocks ();
+/** creates an autosave file */
+	void doAutoSave ();
+/** handler to control when autosaves should be created */
+	void autoSaveHandlerModifiedChanged ();
+/** handler to control when autosaves should be created */
+	void autoSaveHandlerTextChanged ();
+/** handle any errors during auto-saving */
+	void autoSaveHandlerJobFinished (RKJobSequence* seq);
 private:
 	KTextEditor::Document *m_doc;
 	KTextEditor::View *m_view;
 	KTextEditor::CodeCompletionInterface *cc_iface;
+#if KDE_IS_VERSION(4,5,0)
+	KTextEditor::MovingInterface *smart_iface;
+#else
 	KTextEditor::SmartInterface *smart_iface;
+#endif
 	RKFunctionArgHinter *hinter;
 	RKCodeCompletionModel *completion_model;
 
@@ -214,7 +233,11 @@
 	void initializeActions (KActionCollection* ac);
 
 	struct BlockRecord {
+#if KDE_IS_VERSION(4,5,0)
+		KTextEditor::MovingRange* range;
+#else
 		KTextEditor::SmartRange* range;
+#endif
 		bool active;
 		KTextEditor::Attribute::Ptr attribute;
 		KAction* mark;
@@ -237,6 +260,9 @@
 	KAction* action_setwd_to_script;
 
 	KAction* action_help_function;
+
+	KUrl previous_autosave_url;
+	QTimer* autosave_timer;
 };
 
 #endif
diff -Nuar rkward-0.5.3.orig/rkward/windows/rkcommandeditorwindowpart.rc rkward-0.5.3/rkward/windows/rkcommandeditorwindowpart.rc
--- rkward-0.5.3.orig/rkward/windows/rkcommandeditorwindowpart.rc	2010-03-17 11:45:15.000000000 +0200
+++ rkward-0.5.3/rkward/windows/rkcommandeditorwindowpart.rc	2010-06-30 18:31:33.288070000 +0300
@@ -1,5 +1,5 @@
 <!DOCTYPE kpartgui>
-<kpartgui name="rkward" version="53">
+<kpartgui name="rkward_commandeditor" version="54">
 	<MenuBar>
 		<Menu name="edit"><text>&amp;Edit</text>
 			<Menu name="tools" group="edit_first_merge"><text>&amp;Tools Move</text>
@@ -8,7 +8,7 @@
 			<Action name="mark_block" group="edit_select_merge"/>
 			<Action name="unmark_block" group="edit_select_merge"/>
 		</Menu>
-		<Menu name="run" noMerge="1"><text>&amp;Run</text>
+		<Menu name="run"><text>&amp;Run</text>
 			<Action name="run_block" group="postrun_actions_merge"/>
 			<Separator group="postrun_actions_merge"/>
 			<Action name="setwd_to_script" group="postrun_actions_merge"/>
@@ -29,13 +29,13 @@
 		<Action name="mark_block"/>
 		<Action name="unmark_block"/>
 		<Menu name="run"><text>&amp;Run</text>
-			<DefineGroup name="run_actions_merge" append="run_actions_merge"/>
+			<DefineGroup name="run_actions_merge"/>
 			<Action name="run_block"/>
 			<Separator/>
 			<Action name="setwd_to_script"/>
 		</Menu>
 		<Separator/>
-		<DefineGroup name="ktexteditor_popup_merge2" append="ktexteditor_popup_merge2"/>
+		<DefineGroup name="ktexteditor_popup_merge2"/>
 		<Separator/>
 		<Action name="configure_commandeditor"/>
 	</Menu>
diff -Nuar rkward-0.5.3.orig/rkward/windows/rkcommandlogpart.rc rkward-0.5.3/rkward/windows/rkcommandlogpart.rc
--- rkward-0.5.3.orig/rkward/windows/rkcommandlogpart.rc	2010-03-23 13:10:16.000000000 +0200
+++ rkward-0.5.3/rkward/windows/rkcommandlogpart.rc	2010-06-29 18:39:12.255787000 +0300
@@ -1,5 +1,5 @@
 <!DOCTYPE kpartgui>
-<kpartgui name="rkward" version="51">
+<kpartgui name="rkward_commandlog" version="54">
 	<MenuBar>
 		<Menu name="edit"><text>&amp;Edit</text>
 			<Action name="log_select_all"/>
diff -Nuar rkward-0.5.3.orig/rkward/windows/rkhelpsearchwindow.cpp rkward-0.5.3/rkward/windows/rkhelpsearchwindow.cpp
--- rkward-0.5.3.orig/rkward/windows/rkhelpsearchwindow.cpp	2009-10-08 12:07:34.000000000 +0300
+++ rkward-0.5.3/rkward/windows/rkhelpsearchwindow.cpp	2010-08-31 14:28:27.430773000 +0300
@@ -2,7 +2,7 @@
                           rkhelpsearchwindow  -  description
                              -------------------
     begin                : Fri Feb 25 2005
-    copyright            : (C) 2005, 2006, 2007, 2009 by Thomas Friedrichsmeier
+    copyright            : (C) 2005, 2006, 2007, 2009, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -31,6 +31,7 @@
 #include <QHBoxLayout>
 #include <QFocusEvent>
 #include <QVBoxLayout>
+#include <QSortFilterProxyModel>
 
 #include "../rbackend/rinterface.h"
 #include "../rbackend/rcommandreceiver.h"
@@ -99,7 +100,11 @@
 
 	packagesList = new QComboBox (this);
 	packagesList->setEditable (false);
-	packagesList->addItem (i18n("All"));
+	packagesList->addItem (i18n("All installed packages"));
+	packagesList->addItem (i18n("All loaded packages"));
+#if QT_VERSION >= 0x040400
+	packagesList->insertSeparator (2);
+#endif
 	fields_packages_layout->addWidget (packagesList);
 
 	QVBoxLayout* checkboxes_layout = new QVBoxLayout ();
@@ -117,9 +122,12 @@
 	selection_layout->addWidget (findButton);
 
 	results = new RKHelpSearchResultsModel (this);
+	proxy_model = new QSortFilterProxyModel (this);
+	proxy_model->setSourceModel (results);
 	results_view = new QTreeView (this);
 	results_view->setRootIsDecorated (false);
-	results_view->setModel (results);
+	results_view->setModel (proxy_model);
+	results_view->setSortingEnabled (true);
 	connect (results_view, SIGNAL (doubleClicked(const QModelIndex&)), this, SLOT (resultDoubleClicked(const QModelIndex&)));
 	main_layout->addWidget (results_view);
 
@@ -177,14 +185,18 @@
 		ignoreCase="FALSE";
 	}
 	
-	QString package = "NULL";
-	if (packagesList->currentIndex () != 0) {
-		package= "\"" +	packagesList->currentText () + "\"";
+	QString package = ", package=";
+	if (packagesList->currentIndex () == 0) {
+		package.append ("NULL");	// all installed packages; actually we could also use package.clear(), here.
+	} else if (packagesList->currentIndex () == 1) {
+		package.append (".packages()");	// all loaded packages
+	} else {
+		package.append ("\"" + packagesList->currentText () + "\"");
 	}
 
 	QString fields = fieldsList->itemData (fieldsList->currentIndex ()).toString ();
 
-	QString s = ".rk.get.search.results (\"" + field->currentText () + "\",agrep=" + agrep + ", ignore.case=" + ignoreCase + ", package=" + package + ", fields=" + fields +")";
+	QString s = ".rk.get.search.results (\"" + field->currentText () + "\",agrep=" + agrep + ", ignore.case=" + ignoreCase + package + ", fields=" + fields +")";
 	
 	RKGlobals::rInterface ()->issueCommand (s, RCommand::App | RCommand::Sync | RCommand::GetStringVector, QString::null, this, HELP_SEARCH, 0);
 	setEnabled (false);
@@ -196,7 +208,7 @@
 
 	if (!index.isValid ()) return;
 
-	int row = index.row ();
+	int row = proxy_model->mapToSource (index).row ();
 	QString topic = results->data (results->index (row, COL_TOPIC)).toString ();
 	QString package = results->data (results->index (row, COL_PACKAGE)).toString ();
 	if (topic.isEmpty ()) return;
diff -Nuar rkward-0.5.3.orig/rkward/windows/rkhelpsearchwindow.h rkward-0.5.3/rkward/windows/rkhelpsearchwindow.h
--- rkward-0.5.3.orig/rkward/windows/rkhelpsearchwindow.h	2009-09-30 18:58:53.000000000 +0300
+++ rkward-0.5.3/rkward/windows/rkhelpsearchwindow.h	2010-08-31 14:28:27.430773000 +0300
@@ -2,7 +2,7 @@
                           rkhelpsearchwindow  -  description
                              -------------------
     begin                : Fri Feb 25 2005
-    copyright            : (C) 2005, 2006, 2007, 2009 by Thomas Friedrichsmeier
+    copyright            : (C) 2005, 2006, 2007, 2009, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -30,7 +30,7 @@
 class QPushButton;
 class RKHelpSearchResultsModel;
 class QTreeView;
-
+class QSortFilterProxyModel;
 class RCommandChain;
 
 /** Provides a UI interface for help-search.
@@ -64,12 +64,13 @@
 	QPushButton* findButton;
 	QTreeView* results_view;
 	RKHelpSearchResultsModel* results;
+	QSortFilterProxyModel* proxy_model;
 
 friend class RKWardMainWindow;
 	static RKHelpSearchWindow *main_help_search;
 };
 
-/** An item model meant for use by RKHelpSearchWindow. Since it is fairly specialized, it is unlikely to be of any use in any other context.
+/** An item model meant for use by RKHelpSearchWindow. Since it is fairly specialized, it is unlikely to be of any use in any other context. NOTE: This class is pretty useless, really, we should just switch to a QTree/TableWidget with predefined model, whenever we need to make the next big change to the RKHelpSearchWindow.
 @author Thomas Friedrichsmeier */
 class RKHelpSearchResultsModel : public QAbstractTableModel {
 public:
diff -Nuar rkward-0.5.3.orig/rkward/windows/rkhelpwindow.rc rkward-0.5.3/rkward/windows/rkhelpwindow.rc
--- rkward-0.5.3.orig/rkward/windows/rkhelpwindow.rc	2009-10-06 19:21:25.000000000 +0300
+++ rkward-0.5.3/rkward/windows/rkhelpwindow.rc	2010-06-29 18:39:12.255787000 +0300
@@ -1,5 +1,5 @@
 <!DOCTYPE kpartgui>
-<kpartgui name="rkward" version="50">
+<kpartgui name="rkward_helpwindow" version="54">
 	<MenuBar>
 		<Menu name="file"><text>&amp;File</text>
 			<Action name="print_help"/>
diff -Nuar rkward-0.5.3.orig/rkward/windows/rkmdiwindow.cpp rkward-0.5.3/rkward/windows/rkmdiwindow.cpp
--- rkward-0.5.3.orig/rkward/windows/rkmdiwindow.cpp	2009-08-25 17:03:42.000000000 +0300
+++ rkward-0.5.3/rkward/windows/rkmdiwindow.cpp	2010-05-21 17:22:41.620057000 +0300
@@ -24,6 +24,7 @@
 #include <QPaintEvent>
 
 #include <kparts/event.h>
+#include <kxmlguifactory.h>
 #include <kactioncollection.h>
 
 #include "rkworkplace.h"
@@ -152,7 +153,17 @@
 
 	if (also_delete) {
 		bool closed = QWidget::close ();
-		if (closed) deleteLater ();
+		if (closed) {
+			// WORKAROUND for https://bugs.kde.org/show_bug.cgi?id=170806
+			// NOTE: can't move this to the d'tor, since the part is already partially deleted, then
+			// TODO: use version check / remove once fixed in kdelibs
+			if (part && part->factory ()) {
+				part->factory ()->removeClient (part);
+			}
+			// WORKAROUND end
+
+			deleteLater ();
+		}
 		return closed;
 	} else {
 		RK_ASSERT (!testAttribute (Qt::WA_DeleteOnClose));
diff -Nuar rkward-0.5.3.orig/rkward/windows/rkmdiwindow.h rkward-0.5.3/rkward/windows/rkmdiwindow.h
--- rkward-0.5.3.orig/rkward/windows/rkmdiwindow.h	2009-08-06 17:20:58.000000000 +0300
+++ rkward-0.5.3/rkward/windows/rkmdiwindow.h	2010-06-30 18:56:34.824492000 +0300
@@ -2,7 +2,7 @@
                           rkmdiwindow  -  description
                              -------------------
     begin                : Tue Sep 26 2006
-    copyright            : (C) 2006, 2007, 2008, 2009 by Thomas Friedrichsmeier
+    copyright            : (C) 2006, 2007, 2008, 2009, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -18,8 +18,8 @@
 #ifndef RKMDIWINDOW_H
 #define RKMDIWINDOW_H
 
-#include <qwidget.h>
 #include <QFrame>
+#include <QMap>
 
 #include <kparts/part.h>
 
@@ -106,6 +106,8 @@
 	bool isActive ();
 /** Returns a pointer to an action collection suitable to place RKStandardAction in. This collection (and the corresponding KXMLGUIClient) is created on the fly. */
 	KActionCollection *standardActionCollection ();
+/** plugin-accessible properties of this object in the global context. Currently used only by RKEditorDataFrame to give information on the currently active data.frame. NOTE: ATM, you cannot set arbitrary properties. Only those supported in RKStandardComponent will have an effect. */
+	QString globalContextProperty (const QString& property) { return global_context_properties.value (property); };
 signals:
 /** This signal is emitted, whenever the window caption was changed.
 @param RKMDIWindow* a pointer to this window */
@@ -120,6 +122,8 @@
 
 /** reimplemented from QWidget to emulate focus-follows-mouse behavior */
 	void enterEvent (QEvent *event);
+/** @see globalContextProperty() */
+	void setGlobalContextProperty (const QString& property, const QString& value) { global_context_properties.insert (property, value); };
 friend class RKWorkplace;
 /** type of this window */
 	int type;
@@ -131,6 +135,8 @@
 	RKToolWindowBar *tool_window_bar;
 	bool active;
 	RKMDIStandardActionClient *standard_client;
+/** @see globalContextProperty() */
+	QMap<QString, QString> global_context_properties;
 };
 
 #endif
diff -Nuar rkward-0.5.3.orig/rkward/windows/rkoutputwindow.rc rkward-0.5.3/rkward/windows/rkoutputwindow.rc
--- rkward-0.5.3.orig/rkward/windows/rkoutputwindow.rc	2009-10-06 19:22:00.000000000 +0300
+++ rkward-0.5.3/rkward/windows/rkoutputwindow.rc	2010-06-29 18:39:12.255787000 +0300
@@ -1,5 +1,5 @@
 <!DOCTYPE kpartgui>
-<kpartgui name="rkward" version="50">
+<kpartgui name="rkward_outputwindow" version="54">
 	<MenuBar>
 		<Menu name="file"><text>&amp;File</text>
 			<Action name="print_output"/>
diff -Nuar rkward-0.5.3.orig/rkward/windows/rkstandardactions.rc rkward-0.5.3/rkward/windows/rkstandardactions.rc
--- rkward-0.5.3.orig/rkward/windows/rkstandardactions.rc	2010-03-17 11:43:41.000000000 +0200
+++ rkward-0.5.3/rkward/windows/rkstandardactions.rc	2010-09-03 18:27:56.654169000 +0300
@@ -1,5 +1,5 @@
 <!DOCTYPE kpartgui>
-<kpartgui name="rkward" version="53">
+<kpartgui name="rkward_standardactions" version="54">
 <!-- What is this for, wouldn't it be easier to just inline these actions in the parts where they
      end up? Yes, but then they would be separate actions, internally, and each could be assigned
      a shortcut of its own. This is needed to tie them all together. -->
@@ -37,7 +37,7 @@
 		<Action name="function_reference" group="ktexteditor_popup_merge2"/>
 	</Menu>
 	<Menu name="rkconsole_context_menu">
-		<Action name="paste_special" group="edit_paste_merge"/>
+		<Action name="paste_special" group="rkconsole_context_merge_paste"/>
 		<Action name="run_selection" group="rkconsole_context_merge1"/>
 		<Action name="function_reference" group="rkconsole_context_merge2"/>
 	</Menu>
diff -Nuar rkward-0.5.3.orig/rkward/windows/rktoplevelwindowgui.rc rkward-0.5.3/rkward/windows/rktoplevelwindowgui.rc
--- rkward-0.5.3.orig/rkward/windows/rktoplevelwindowgui.rc	2010-03-12 17:38:04.000000000 +0200
+++ rkward-0.5.3/rkward/windows/rktoplevelwindowgui.rc	2010-06-29 18:39:12.255787000 +0300
@@ -1,5 +1,5 @@
 <!DOCTYPE kpartgui>
-<kpartgui name="rkward" version="52">
+<kpartgui name="rkward_toplevel" version="54">
 	<MenuBar>
 		<Merge/>
 		<Menu name="window"><text>&amp;Window</text>
diff -Nuar rkward-0.5.3.orig/rkward/windows/rkwindowcatcher.cpp rkward-0.5.3/rkward/windows/rkwindowcatcher.cpp
--- rkward-0.5.3.orig/rkward/windows/rkwindowcatcher.cpp	2009-06-08 22:48:56.000000000 +0300
+++ rkward-0.5.3/rkward/windows/rkwindowcatcher.cpp	2010-09-07 17:31:31.158837000 +0300
@@ -2,7 +2,7 @@
                           rwindowcatcher.cpp  -  description
                              -------------------
     begin                : Wed May 4 2005
-    copyright            : (C) 2005, 2006, 2007, 2009 by Thomas Friedrichsmeier
+    copyright            : (C) 2005, 2006, 2007, 2009, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -20,12 +20,14 @@
 #ifndef DISABLE_RKWINDOWCATCHER
 
 #include <qlayout.h>
+#include <qapplication.h>
 
 #include <kmessagebox.h>
 #include <klocale.h>
 
 #include "../rkwardapplication.h"
 #include "rkworkplace.h"
+#include "../misc/rkstandardicons.h"
 #include "../debug.h"
 
 RKWindowCatcher::RKWindowCatcher () {
@@ -60,6 +62,35 @@
 	last_cur_device = new_cur_device;
 }
 
+void RKWindowCatcher::updateHistory (QStringList params) {
+	RK_TRACE (MISC);
+	RK_ASSERT (params.count () >= 1);
+
+	int history_length = params[0].toInt ();
+	QStringList labels = params.mid (1, history_length);
+	RK_ASSERT (((params.count () - history_length) % 2) == 1)
+	for (int i = history_length + 1; i < (params.count () - 1); i += 2) {
+		RKCaughtX11Window* window = RKCaughtX11Window::getWindow (params[i].toInt ());
+		if (window) {
+			int position = params[i+1].toInt ();
+			window->updateHistoryActions (history_length, position, labels);
+		} else {
+			RK_DO (qDebug ("Device %d is not managed, while trying to update history", params[i].toInt ()), RBACKEND, DL_DEBUG);
+		}
+	}
+}
+
+void RKWindowCatcher::killDevice (int device_number) {
+	RK_TRACE (MISC);
+
+	RKCaughtX11Window* window = RKCaughtX11Window::getWindow (device_number);
+	if (window) {
+		window->setKilledInR ();
+		window->close (true);
+		QApplication::syncX ();
+	}
+}
+
 ///////////////////////////////// END RKWindowCatcher //////////////////////////////////
 /**************************************************************************************/
 //////////////////////////////// BEGIN RKCaughtX11Window //////////////////////////////
@@ -70,17 +101,20 @@
 #ifdef Q_WS_WIN
 #	include "../qwinhost/qwinhost.h"
 #	include <windows.h>
-#else
+#elif defined Q_WS_X11
 #	include <QX11EmbedContainer>
 #endif
 #include <QTimer>
+#include <QCloseEvent>
 
 #include <ktoggleaction.h>
+#include <kselectaction.h>
 #include <kdialog.h>
 #include <knuminput.h>
 #include <kvbox.h>
 #include <kwindowsystem.h>
 #include <kactioncollection.h>
+#include <kpassivepopup.h>
 
 #include "../rkglobals.h"
 #include "../rbackend/rinterface.h"
@@ -89,16 +123,27 @@
 #include "../misc/rksaveobjectchooser.h"
 #include "../plugin/rkcomponentcontext.h"
 
-RKCaughtX11Window::RKCaughtX11Window (WId window_to_embed, int device_number) : RKMDIWindow (0, X11Window) {
+// static
+QHash<int, RKCaughtX11Window*> RKCaughtX11Window::device_windows;
+
+RKCaughtX11Window::RKCaughtX11Window (WId window_to_embed, int device_number) : RKMDIWindow (0, X11Window), RCommandReceiver () {
 	RK_TRACE (MISC);
 
+	killed_in_r = false;
 	embedded = window_to_embed;
 	RKCaughtX11Window::device_number = device_number;
+	RK_ASSERT (!device_windows.contains (device_number));
+	device_windows.insert (device_number, this);
 
 	error_dialog = new RKProgressControl (0, i18n ("An error occurred"), i18n ("An error occurred"), RKProgressControl::DetailedError);
 	setPart (new RKCaughtX11WindowPart (this));
 	initializeActivationSignals ();
 	setFocusPolicy (Qt::ClickFocus);
+	updateHistoryActions (0, 0, QStringList ());
+
+	status_popup = new KPassivePopup (this);
+	status_popup->setTimeout (0);
+	disconnect (status_popup, SIGNAL (clicked()), status_popup, SLOT (hide()));	// no auto-hiding, please
 
 	QVBoxLayout *layout = new QVBoxLayout (this);
 	layout->setContentsMargins (0, 0, 0, 0);
@@ -122,7 +167,7 @@
 	// set a fixed size until the window is shown
 	xembed_container->setFixedSize (wininfo.rcClient.right - wininfo.rcClient.left, wininfo.rcClient.bottom - wininfo.rcClient.top);
 	move (wininfo.rcClient.left, wininfo.rcClient.top);
-#else
+#elif defined Q_WS_X11
 	KWindowInfo wininfo = KWindowSystem::windowInfo (embedded, NET::WMName | NET::WMGeometry);
 	RK_ASSERT (wininfo.valid ());
 
@@ -151,7 +196,7 @@
 	connect (capture, SIGNAL (clientTitleChanged(const QString&)), this, SLOT (setCaption(const QString&)), Qt::QueuedConnection);
 
 	setCaption (capture->getClientTitle ());
-#else
+#elif defined Q_WS_X11
 	capture = new QX11EmbedContainer (xembed_container);
 	capture->embedClient (embedded);
 	connect (capture, SIGNAL (clientClosed ()), this, SLOT (deleteLater ()));
@@ -165,12 +210,29 @@
 
 RKCaughtX11Window::~RKCaughtX11Window () {
 	RK_TRACE (MISC);
+	RK_ASSERT (device_windows.contains (device_number));
+	device_windows.remove (device_number);
 
 	capture->close ();
-#ifndef Q_WS_WIN
+#ifdef Q_WS_X11
 	RKWardApplication::getApp ()->unregisterNameWatcher (embedded);
 #endif
 	error_dialog->autoDeleteWhenDone ();
+	delete status_popup;
+}
+
+bool RKCaughtX11Window::close (bool also_delete) {
+	RK_TRACE (MISC);
+
+	if (killed_in_r || RKGlobals::rInterface ()->backendIsDead ()) {
+		return RKMDIWindow::close (also_delete);
+	}
+
+	RCommand* c = new RCommand ("dev.off (" + QString::number (device_number) + ')', RCommand::App, i18n ("Shutting down device number %1", device_number), error_dialog);
+	setStatusMessage (i18n ("Closing device (saving history)"), c);
+	RKGlobals::rInterface ()->issueCommand (c);
+
+	return false;
 }
 
 void RKCaughtX11Window::prepareToBeAttached () {
@@ -267,7 +329,7 @@
 void RKCaughtX11Window::activateDevice () {
 	RK_TRACE (MISC);
 
-	RKGlobals::rInterface ()->issueCommand ("dev.set (" + QString::number (device_number) + ')', RCommand::App, i18n ("Activate graphics device number %1", device_number), error_dialog);
+	RKGlobals::rInterface ()->issueCommand ("rk.activate.device (" + QString::number (device_number) + ")", RCommand::App, i18n ("Activate graphics device number %1", device_number), error_dialog);
 }
 
 void RKCaughtX11Window::copyDeviceToOutput () {
@@ -293,8 +355,9 @@
 	KVBox *page = new KVBox (dialog);
 	dialog->setMainWidget (page);
 
-	RKSaveObjectChooser *chooser = new RKSaveObjectChooser (page, "my.plot", i18n ("Specify the R object name, you want to save the graph to"));
-	connect (chooser, SIGNAL (okStatusChanged (bool)), dialog, SLOT (enableButtonOk (bool)));
+	new QLabel (i18n ("Specify the R object name, you want to save the graph to"), page);
+	RKSaveObjectChooser *chooser = new RKSaveObjectChooser (page, "my.plot");
+	connect (chooser, SIGNAL (changed (bool)), dialog, SLOT (enableButtonOk (bool)));
 	if (!chooser->isOk ()) dialog->enableButtonOk (false);
 
 	dialog->exec ();
@@ -302,9 +365,9 @@
 	if (dialog->result () == QDialog::Accepted) {
 		RK_ASSERT (chooser->isOk ());
 
-		QString name = chooser->validizedSelectedObjectName ();
+		QString name = chooser->currentFullName ();
 
-		RKGlobals::rInterface ()->issueCommand ("dev.set (" + QString::number (device_number) + ")\n" + RObject::rQuote (name) + " <- recordPlot ()", RCommand::App | RCommand::ObjectListUpdate, i18n ("Save contents of graphics device number %1 to object '%2'", device_number, name), error_dialog);
+		RKGlobals::rInterface ()->issueCommand ("dev.set (" + QString::number (device_number) + ")\n" + name + " <- recordPlot ()", RCommand::App | RCommand::ObjectListUpdate, i18n ("Save contents of graphics device number %1 to object '%2'", device_number, name), error_dialog);
 	}
 
 	delete dialog;
@@ -313,7 +376,122 @@
 void RKCaughtX11Window::duplicateDevice () {
 	RK_TRACE (MISC);
 
-	RKGlobals::rInterface ()->issueCommand ("dev.set (" + QString::number (device_number) + ")\ndev.copy (device=x11)", RCommand::App, i18n ("Duplicate graphics device number %1", device_number), error_dialog);
+// 	RKGlobals::rInterface ()->issueCommand ("dev.set (" + QString::number (device_number) + ")\ndev.copy (device=x11)", RCommand::App, i18n ("Duplicate graphics device number %1", device_number), error_dialog);
+	RKGlobals::rInterface ()->issueCommand ("rk.duplicate.device (" + QString::number (device_number) + ")", RCommand::App, i18n ("Duplicate graphics device number %1", device_number), error_dialog);
+}
+
+void RKCaughtX11Window::nextPlot () {
+	RK_TRACE (MISC);
+
+	RCommand* c = new RCommand ("rk.next.plot (" + QString::number (device_number) + ')', RCommand::App, i18n ("Load next plot in device number %1", device_number), error_dialog);
+	setStatusMessage (i18n ("Loading plot from history"), c);
+	RKGlobals::rInterface ()->issueCommand (c);
+}
+
+void RKCaughtX11Window::previousPlot () {
+	RK_TRACE (MISC);
+
+	RCommand* c = new RCommand ("rk.previous.plot (" + QString::number (device_number) + ')', RCommand::App, i18n ("Load previous plot in device number %1", device_number), error_dialog);
+	setStatusMessage (i18n ("Loading plot from history"), c);
+	RKGlobals::rInterface ()->issueCommand (c);
+}
+
+void RKCaughtX11Window::firstPlot () {
+	RK_TRACE (MISC);
+
+	RCommand* c = new RCommand ("rk.first.plot (" + QString::number (device_number) + ')', RCommand::App, i18n ("Load first plot in device number %1", device_number), error_dialog);
+	setStatusMessage (i18n ("Loading plot from history"), c);
+	RKGlobals::rInterface ()->issueCommand (c);
+}
+
+void RKCaughtX11Window::lastPlot () {
+	RK_TRACE (MISC);
+
+	RCommand* c = new RCommand ("rk.last.plot (" + QString::number (device_number) + ')', RCommand::App, i18n ("Load last plot in device number %1", device_number), error_dialog);
+	setStatusMessage (i18n ("Loading plot from history"), c);
+	RKGlobals::rInterface ()->issueCommand (c);
+}
+
+void RKCaughtX11Window::gotoPlot (int index) {
+	RK_TRACE (MISC);
+
+	RCommand* c = new RCommand ("rk.goto.plot (" + QString::number (device_number) + ", " + QString::number (index+1) + ')', RCommand::App, i18n ("Load plot %1 in device number %2", index, device_number), error_dialog);
+	setStatusMessage (i18n ("Loading plot from history"), c);
+	RKGlobals::rInterface ()->issueCommand (c);
+}
+
+void RKCaughtX11Window::replacebyCurrentPlot () {
+	RK_TRACE (MISC);
+
+	RKGlobals::rInterface ()->issueCommand ("rk.replaceby.plot (" + QString::number (device_number) + ')', RCommand::App, i18n ("Overwrite previous plot by the current plot (device number %1)", device_number), error_dialog);
+	//updateHistoryActions (history_length+1, history_length+1);
+}
+
+void RKCaughtX11Window::removeCurrentPlot () {
+	RK_TRACE (MISC);
+
+	RKGlobals::rInterface ()->issueCommand ("rk.removethis.plot (" + QString::number (device_number) + ')', RCommand::App, i18n ("Remove current plot from history (device number %1)", device_number), error_dialog);
+}
+
+void RKCaughtX11Window::clearHistory () {
+	RK_TRACE (MISC);
+
+	if (KMessageBox::warningContinueCancel (this, i18n ("This will clear the plot history for all device windows, not just this one. If this is not your intent, press cancel, below.")) != KMessageBox::Continue) return;
+
+	RKGlobals::rInterface ()->issueCommand ("rk.record.plot$clearHistory ()", RCommand::App, i18n ("Clear plot history"), error_dialog);
+	//updateHistoryActions (0, 0);
+}
+
+void RKCaughtX11Window::showPlotInfo () {
+	RK_TRACE (MISC);
+
+	RKGlobals::rInterface ()->issueCommand ("rk.record.plot$showPlotInfo (" + QString::number (device_number) + ")", RCommand::App, i18n ("Plot properties (device number %1)", device_number), error_dialog);
+}
+
+void RKCaughtX11Window::updateHistoryActions (int history_length, int position, const QStringList &labels) {
+	RK_TRACE (MISC);
+
+	RKCaughtX11Window::history_length = history_length;
+	RKCaughtX11Window::history_position = position;
+
+	plot_first_action->setEnabled (position > 1);
+	plot_prev_action->setEnabled (position > 1);
+	plot_next_action->setEnabled ((history_length > 0) && (position < history_length));
+	plot_last_action->setEnabled ((history_length > 0) && (position < history_length));
+	QStringList _labels = labels;
+	if (position > history_length) _labels.append (i18n ("<Unsaved plot>"));
+	plot_list_action->setItems (_labels);
+	plot_list_action->setCurrentItem (history_position - 1);
+	plot_list_action->setEnabled (history_length > 0);
+
+	plot_replaceby_action->setEnabled (history_length > 0);
+	plot_remove_action->setEnabled (history_length > 0);
+
+	plot_clear_history_action->setEnabled (history_length > 0);
+	plot_properties_action->setEnabled (history_length > 0);
+}
+
+void RKCaughtX11Window::setStatusMessage (const QString& message, RCommand *command) {
+	RK_TRACE (MISC);
+
+	status_change_command = command;
+	if (command) command->addReceiver (this);
+	if (!message.isEmpty ()) {
+		status_popup->setView (QString (), message);
+		status_popup->show (xembed_container->mapToGlobal (QPoint (20, 20)));
+	} else {
+		status_popup->hide ();
+	}
+}
+
+void RKCaughtX11Window::rCommandDone (RCommand *command) {
+	RK_TRACE (MISC);
+
+	if (command == status_change_command) {
+		setStatusMessage (QString ());
+		status_popup->hide();
+	}
+	RCommandReceiver::rCommandDone (command);
 }
 
 
@@ -346,15 +524,58 @@
 	action = actionCollection ()->addAction ("set_fixed_size_manual", window, SLOT (setFixedSizeManual()));
 	action->setText (i18n ("Set specified fixed size..."));
 
+	action = actionCollection ()->addAction ("plot_prev", window, SLOT (previousPlot()));
+ 	action->setText (i18n ("Previous plot"));
+	action->setIcon (RKStandardIcons::getIcon (RKStandardIcons::ActionMoveLeft));
+	window->plot_prev_action = (KAction*) action;
+	action = actionCollection ()->addAction ("plot_first", window, SLOT (firstPlot()));
+ 	action->setText (i18n ("First plot"));
+	action->setIcon (RKStandardIcons::getIcon (RKStandardIcons::ActionMoveFirst));
+	window->plot_first_action = (KAction*) action;
+	action = actionCollection ()->addAction ("plot_next", window, SLOT (nextPlot()));
+ 	action->setText (i18n ("Next plot"));
+	action->setIcon (RKStandardIcons::getIcon (RKStandardIcons::ActionMoveRight));
+	window->plot_next_action = (KAction*) action;
+	action = actionCollection ()->addAction ("plot_last", window, SLOT (lastPlot()));
+ 	action->setText (i18n ("Last plot"));
+	action->setIcon (RKStandardIcons::getIcon (RKStandardIcons::ActionMoveLast));
+	window->plot_last_action = (KAction*) action;
+	action = window->plot_list_action = new KSelectAction (i18n ("Go to plot"), 0);
+	window->plot_list_action->setToolBarMode (KSelectAction::MenuMode);
+	action->setIcon (RKStandardIcons::getIcon (RKStandardIcons::ActionListPlots));
+	actionCollection ()->addAction ("plot_list", action);
+	connect (action, SIGNAL (triggered(int)), window, SLOT (gotoPlot(int)));
+
+	action = actionCollection ()->addAction ("plot_replaceby", window, SLOT (replacebyCurrentPlot()));
+ 	action->setText (i18n ("Overwrite previous plot"));
+	window->plot_replaceby_action = (KAction*) action;
+	action = actionCollection ()->addAction ("plot_remove", window, SLOT (removeCurrentPlot()));
+ 	action->setText (i18n ("Remove current plot"));
+	action->setIcon (RKStandardIcons::getIcon (RKStandardIcons::ActionRemovePlot));
+	window->plot_remove_action = (KAction*) action;
+
+	action = actionCollection ()->addAction ("plot_clear_history", window, SLOT (clearHistory()));
+	window->plot_clear_history_action = (KAction*) action;
+ 	action->setText (i18n ("Clear history"));
+	action->setIcon (RKStandardIcons::getIcon (RKStandardIcons::ActionClear));
+
+	action = actionCollection ()->addAction ("plot_properties", window, SLOT (showPlotInfo()));
+	window->plot_properties_action = (KAction*) action;
+	action->setText (i18n ("Plot properties"));
+	action->setIcon (RKStandardIcons::getIcon (RKStandardIcons::ActionDocumentInfo));
+
 	action = actionCollection ()->addAction ("device_activate", window, SLOT (activateDevice()));
 	action->setText (i18n ("Make active"));
+	action->setIcon (RKStandardIcons::getIcon (RKStandardIcons::ActionFlagGreen));
 	action = actionCollection ()->addAction ("device_copy_to_output", window, SLOT (copyDeviceToOutput()));
 	action->setText (i18n ("Copy to output"));
+	action->setIcon (RKStandardIcons::getIcon (RKStandardIcons::WindowOutput));
 	action = actionCollection ()->addAction (KStandardAction::Print, "device_print", window, SLOT (printDevice()));
 	action = actionCollection ()->addAction ("device_copy_to_r_object", window, SLOT (copyDeviceToRObject()));
 	action->setText (i18n ("Store as R object..."));
 	action = actionCollection ()->addAction ("device_duplicate", window, SLOT (duplicateDevice()));
 	action->setText (i18n ("Duplicate"));
+	action->setIcon (RKStandardIcons::getIcon (RKStandardIcons::ActionWindowDuplicate));
 
 	// initialize context for plugins
 	RKContextMap *context = RKComponentMap::getContext ("x11");
diff -Nuar rkward-0.5.3.orig/rkward/windows/rkwindowcatcher.h rkward-0.5.3/rkward/windows/rkwindowcatcher.h
--- rkward-0.5.3.orig/rkward/windows/rkwindowcatcher.h	2009-06-03 22:20:44.000000000 +0300
+++ rkward-0.5.3/rkward/windows/rkwindowcatcher.h	2010-09-06 13:46:53.362697000 +0300
@@ -2,7 +2,7 @@
                           rwindowcatcher.h  -  description
                              -------------------
     begin                : Wed May 4 2005
-    copyright            : (C) 2005, 2006, 2009 by Thomas Friedrichsmeier
+    copyright            : (C) 2005, 2006, 2009, 2010 by Thomas Friedrichsmeier
     email                : tfry@users.sourceforge.net
  ***************************************************************************/
 
@@ -68,24 +68,36 @@
 /** end looking out for new R X11 windows. If a new window was in fact created, this is captured by creating an RKCaughtX11Window
 @param new_cur_device the new active device number, i.e. the device number of the created window */
 	void stop (int new_cur_device);
+/** called from the R backend when the device history needs to be updated
+@param params the serialized parameters as supplied from R */
+	void updateHistory (QStringList params);
+/** Kill an R device
+@param device_number R device number of the device to kil */
+	void killDevice (int device_number);
 private:
 	int last_cur_device;
 };
 
 
 #include "rkmdiwindow.h"
+#include "../rbackend/rcommandreceiver.h"
+
+#include <QHash>
 
 class RKCaughtX11WindowPart;
 class KToggleAction;
+class KAction;
+class KSelectAction;
 class QXEmbedCopy;
 class QScrollArea;
 class KVBox;
 class RKProgressControl;
 class QX11EmbedContainer;
 class QWinHost;
+class KPassivePopup;
 
 /** An R X11 device window managed by rkward. */
-class RKCaughtX11Window : public RKMDIWindow {
+class RKCaughtX11Window : public RKMDIWindow, public RCommandReceiver {
 	Q_OBJECT
 public:
 /** ctor
@@ -103,6 +115,13 @@
 	void prepareToBeAttached ();
 /** see prepareToBeAttached (). Reenable the dynamic_size_action */
 	void prepareToBeDetached ();
+/** returns the window corresponding the to given R device number (or 0 if no such window exists) */
+	static RKCaughtX11Window* getWindow (int device_number) { return device_windows.value (device_number); };
+	void updateHistoryActions (int history_length, int position, const QStringList &labels);
+/** Set a status message to be shown in a popup inside the window. The message persists until the given R command has finished, or until this function is called with an empty string.
+This should be used, when the plot is currently out-of-date (e.g. when loading a plot from history), _not_ when the window
+is simply busy (e.g. when saving the current plot to history). */
+	void setStatusMessage (const QString& message, RCommand* command=0);
 public slots:
 /** Fixed size action was (potentially) toggled. Update to the new state */
 	void fixedSizeToggled ();
@@ -121,24 +140,60 @@
 	void copyDeviceToRObject ();
 	void duplicateDevice ();
 
+/** history navigation */
+	void firstPlot ();
+	void previousPlot ();
+	void nextPlot ();
+	void lastPlot ();
+	void gotoPlot (int index);
+	void replacebyCurrentPlot ();
+	void removeCurrentPlot ();
+	void clearHistory ();
+	void showPlotInfo ();
+
+/** reimplemented to keep window alive while saving history */
+	bool close (bool also_delete);
+	void setKilledInR () { killed_in_r = true; };
 private slots:
 	void doEmbed ();
 private:
+	void rCommandDone (RCommand *command);
 	friend class RKCaughtX11WindowPart;	// needs access to the actions
 	int device_number;
+	bool killed_in_r;
 	WId embedded;
 	KVBox *xembed_container;
 	QScrollArea *scroll_widget;
 	KVBox *box_widget;
 	RKProgressControl *error_dialog;
+
+	static QHash<int, RKCaughtX11Window*> device_windows;
 #ifdef Q_WS_WIN
 	QWinHost *capture;
-#else
+#elif defined Q_WS_X11
 	QX11EmbedContainer *capture;
+#else
+	// a dummy to make things compile for now
+	QWidget *capture;
 #endif
 
 	bool dynamic_size;
 	KToggleAction *dynamic_size_action;
+	KAction *plot_prev_action;
+	KAction *plot_next_action;
+	KAction *plot_first_action;
+	KAction *plot_last_action;
+	KAction *plot_replaceby_action;
+	KAction *plot_remove_action;
+	KAction *plot_clear_history_action;
+	KAction *plot_properties_action;
+	KSelectAction *plot_list_action;
+
+	KPassivePopup* status_popup;
+	RCommand* status_change_command;
+
+	int history_length;
+	int history_position;
 };
 
 /** Provides a KPart interface for RKCaughtX11Window. */
diff -Nuar rkward-0.5.3.orig/rkward/windows/rkworkplace.cpp rkward-0.5.3/rkward/windows/rkworkplace.cpp
--- rkward-0.5.3.orig/rkward/windows/rkworkplace.cpp	2010-04-21 20:00:30.000000000 +0300
+++ rkward-0.5.3/rkward/windows/rkworkplace.cpp	2010-07-16 13:15:22.599393000 +0300
@@ -485,16 +485,20 @@
 QString RKWorkplace::makeWorkplaceDescription (const QString &sep, bool quote) {
 	RK_TRACE (APP);
 
+	// window order in the workplace view may have changed with respect to our list. Thus we first generate a properly sorted list
+	RKWorkplaceObjectList list = getObjectList (RKMDIWindow::DocumentWindow, RKMDIWindow::Detached);
+	for (int i=0; i < wview->count (); ++i) {
+		list.append (static_cast<RKMDIWindow*> (wview->widget (i)));
+	}
+	
 	QString workplace_description;
 	bool first = true;
-	for (RKWorkplaceObjectList::const_iterator it = windows.constBegin (); it != windows.constEnd (); ++it) {
-		if ((*it)->isToolWindow ()) continue;
-
+	foreach (RKMDIWindow *win, list) {
 		if (first) first = false;
 		else workplace_description.append (sep);
 
-		if (!quote) workplace_description.append ((*it)->getDescription ());
-		else workplace_description.append (RObject::rQuote ((*it)->getDescription ()));
+		if (!quote) workplace_description.append (win->getDescription ());
+		else workplace_description.append (RObject::rQuote (win->getDescription ()));
 	}
 	return workplace_description;
 }
diff -Nuar rkward-0.5.3.orig/rkward/windows/rkworkplaceview.cpp rkward-0.5.3/rkward/windows/rkworkplaceview.cpp
--- rkward-0.5.3.orig/rkward/windows/rkworkplaceview.cpp	2010-04-20 23:19:24.000000000 +0300
+++ rkward-0.5.3/rkward/windows/rkworkplaceview.cpp	2010-05-02 13:24:30.059563000 +0300
@@ -25,6 +25,7 @@
 #include <kicon.h>
 #include <kdeversion.h>
 #include <kacceleratormanager.h>
+#include <kmenu.h>
 
 #include <qapplication.h>
 #include <qevent.h>
@@ -32,6 +33,8 @@
 #include <QToolButton>
 
 #include "rkmdiwindow.h"
+#include "rkworkplace.h"
+#include "../misc/rkstandardicons.h"
 
 #include "../debug.h"
 
@@ -55,7 +58,16 @@
 	connect (this, SIGNAL (closeRequest(QWidget*)), this, SLOT (closePage(QWidget*)));
 #	endif
 #endif
-	
+
+#if QT_VERSION >= 0x040500
+	setMovable (true);
+#else
+	setTabReorderingEnabled (true);	// the KDE function is deprecated sind Qt 4.5 / KDE 4.4
+#endif
+
+	tabBar ()->setContextMenuPolicy (Qt::CustomContextMenu);
+	connect (tabBar (), SIGNAL (customContextMenuRequested(const QPoint&)), this, SLOT (showContextMenu(const QPoint&)));
+
 	KAcceleratorManager::setNoAccel (tabBar ());	// TODO: This is a WORKAROUND for a bug in kdelibs where tabs named "a0.txt", "a1.txt", etc. will steal the Alt+0/1... shortcuts
 	setTabBarHidden (true);		// initially
 	connect (this, SIGNAL (currentChanged(int)), this, SLOT (currentPageChanged(int)));
@@ -198,6 +210,50 @@
 	closePage (widget (page));
 }
 
+void RKWorkplaceView::showContextMenu (const QPoint &pos) {
+	RK_TRACE (APP);
+
+	int tab = tabBar ()->tabAt (pos);
+	if (tab < 0) return;	// no context menu for the empty area
+
+	KMenu* m = new KMenu (this);
+	QAction *action = KStandardAction::close (this, SLOT (contextMenuClosePage()), this);
+	action->setData (tab);
+	m->addAction (action);
+	action = m->addAction (RKStandardIcons::getIcon (RKStandardIcons::ActionDetachWindow), i18n("Detach"), this, SLOT (contextMenuDetachWindow()));
+	action->setData (tab);
+	m->exec (mapToGlobal (pos));
+	delete m;
+}
+
+void RKWorkplaceView::contextMenuClosePage () {
+	RK_TRACE (APP);
+
+	QAction* action = dynamic_cast<QAction*> (sender ());
+	if (!action) {
+		RK_ASSERT (false);
+		return;
+	}
+
+	int tab = action->data ().toInt ();
+	RK_ASSERT (tab >= 0);
+	closePage (tab);
+}
+
+void RKWorkplaceView::contextMenuDetachWindow () {
+	RK_TRACE (APP);
+
+	QAction* action = dynamic_cast<QAction*> (sender ());
+	if (!action) {
+		RK_ASSERT (false);
+		return;
+	}
+
+	int tab = action->data ().toInt ();
+	RK_ASSERT (tab >= 0);
+	RKWorkplace::mainWorkplace ()->detachWindow (static_cast<RKMDIWindow*> (widget (tab)));
+}
+
 void RKWorkplaceView::childCaptionChanged (RKMDIWindow *widget) {
 	RK_TRACE (APP);
 
diff -Nuar rkward-0.5.3.orig/rkward/windows/rkworkplaceview.h rkward-0.5.3/rkward/windows/rkworkplaceview.h
--- rkward-0.5.3.orig/rkward/windows/rkworkplaceview.h	2010-03-21 22:43:45.000000000 +0200
+++ rkward-0.5.3/rkward/windows/rkworkplaceview.h	2010-05-02 13:24:30.059563000 +0300
@@ -24,9 +24,7 @@
 class KAction;
 class KActionCollection;
 
-/** The widget containing all the MDI document windows. Right now it mostly acts as a QTabWidget (is not one, as unfortunately, QTabWidget always has a sunken frame), but might be extended to allow switching between different view modes
-
-KDE4 TODO: We now use KTabWidget natively, hoping, we can avoid the sunken frame problem somehow. We may need to revisit this decision, later. TODO cleanup
+/** This is mostly a KTabWidget with some extras such as updating the caption, a context menu, etc.
  */
 
 class RKWorkplaceView : public KTabWidget {
@@ -60,7 +58,16 @@
 /** caption has changed
 @param new_caption the new caption */
 	void captionChanged (const QString &new_caption);
-public slots:
+private slots:
+/** (Attempts to) close the current tab */
+	void closeCurrentPage ();
+/** handle context menu requests */
+	void showContextMenu (const QPoint &pos);
+/** handle close request from context menu */
+	void contextMenuClosePage ();
+/** handle detach request from context menu */
+	void contextMenuDetachWindow ();
+/** Internal function to update caption and actions, when the current page has changed. */
 	void currentPageChanged (int page);
 /** called when the caption of a window changes. Updates the tab-label, and - if appropriate - the caption of this widget */
 	void childCaptionChanged (RKMDIWindow *widget);
@@ -72,9 +79,6 @@
 	void closePage (QWidget* page);
 /** Close a page given its index */
 	void closePage (int page);
-private slots:
-/** (Attempts to) close the current tab */
-	void closeCurrentPage ();
 private:
 	void updateActions ();
 
diff -Nuar rkward-0.5.3.orig/rkward.kdevprj rkward-0.5.3/rkward.kdevprj
--- rkward-0.5.3.orig/rkward.kdevprj	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/rkward.kdevprj	2002-11-17 17:54:42.000000000 +0200
@@ -0,0 +1,454 @@
+[AUTHORS]
+dist=true
+install=false
+install_location=
+type=DATA
+
+[COPYING]
+dist=true
+install=false
+install_location=
+type=DATA
+
+[ChangeLog]
+dist=true
+install=false
+install_location=
+type=DATA
+
+[Config for BinMakefileAm]
+addcxxflags=
+bin_program=rkward
+cflags=
+cppflags=
+cxxflags=\s-O0 -g3 -Wall
+ldadd=\s$(LIB_KFILE) $(LIB_KDEUI) $(LIB_KDECORE) $(LIB_QT)
+ldflags=\s \s
+
+[General]
+AMChanged=false
+author=Thomas Friedrichsmeier
+configure_args=\s--build=i386-linux --host=i386-linux --target=i386-linux\s
+email=tfry@users.sourceforge.net
+kdevprj_version=1.3
+lfv_open_groups=
+make_options=\s-j1
+makefiles=Makefile.am,rkward/Makefile.am,doc/Makefile.am,doc/en/Makefile.am,po/Makefile.am,rkward/plugins/Makefile.am
+modifyMakefiles=true
+project_name=RKWard
+project_type=normal_kde2
+sgml_file=/home/thomas/rkward/doc/en/index.docbook
+short_info=
+sub_dir=rkward/
+version=0.1.0
+version_control=None
+workspace=1
+
+[INSTALL]
+dist=true
+install=false
+install_location=
+type=DATA
+
+[LFV Groups]
+GNU=AUTHORS,COPYING,ChangeLog,INSTALL,README,TODO,NEWS
+Headers=*.h,*.hh,*.hxx,*.hpp,*.H
+Others=*
+Sources=*.cpp,*.c,*.cc,*.C,*.cxx,*.ec,*.ecpp,*.lxx,*.l++,*.ll,*.l
+Translations=*.po
+User Interface=*.kdevdlg,*.ui,*.rc,*.dlg
+groups=Headers,Sources,User Interface,Translations,GNU,Others
+
+[Makefile.am]
+files=rkward.kdevprj,admin,AUTHORS,COPYING,ChangeLog,INSTALL,README,TODO,rkward.lsm
+sub_dirs=rkward,po,doc
+type=normal
+
+[README]
+dist=true
+install=false
+install_location=
+type=DATA
+
+[TODO]
+dist=true
+install=false
+install_location=
+type=DATA
+
+[admin]
+dist=true
+install=false
+install_location=
+type=DATA
+
+[doc/Makefile.am]
+sub_dirs=en
+type=normal
+
+[doc/en/Makefile.am]
+files=doc/en/index.docbook
+sub_dirs=
+type=normal
+
+[doc/en/index.docbook]
+dist=true
+install=false
+install_location=$$(kde_icondir)/locolor/16x16/apps/rkward.png
+type=DATA
+
+[po/Makefile.am]
+sub_dirs=
+type=po
+
+[rkward.kdevprj]
+dist=true
+install=false
+install_location=
+type=DATA
+
+[rkward.lsm]
+dist=true
+install=false
+install_location=
+type=DATA
+
+[rkward/Makefile.am]
+files=rkward/main.cpp,rkward/rkward.cpp,rkward/rkward.h,rkward/rkwarddoc.cpp,rkward/rkwarddoc.h,rkward/rkwardui.rc,rkward/rkward.desktop,rkward/lo32-app-rkward.png,rkward/lo16-app-rkward.png,rkward/view.ui,rkward/twintable.cpp,rkward/twintable.h,rkward/twintablemember.cpp,rkward/twintablemember.h,rkward/rkdrag.cpp,rkward/rkdrag.h,rkward/rinterface.cpp,rkward/rinterface.h,rkward/rkwatch_ui.ui,rkward/rkwatch.cpp,rkward/rkwatch.h,rkward/typeselectcell.cpp,rkward/typeselectcell.h,rkward/rtableitem.cpp,rkward/rtableitem.h,rkward/nameselectcell.cpp,rkward/nameselectcell.h,rkward/rsettings.cpp,rkward/rsettings.h,rkward/rsettingsui.ui,rkward/rkmenu.cpp,rkward/rkmenu.h,rkward/rkplugin.cpp,rkward/rkplugin.h,rkward/rkpluginwidget.cpp,rkward/rkpluginwidget.h,rkward/rkvarselector.cpp,rkward/rkvarselector.h,rkward/rkvarslot.cpp,rkward/rkvarslot.h,rkward/rkradio.cpp,rkward/rkradio.h,rkward/rktext.cpp,rkward/rktext.h,rkward/pluginsettingsui.ui,rkward/pluginsettings.cpp,rkward/pluginsettings.h,rkward/rcommand.cpp,rkward/rcommand.h,rkward/labelcell.cpp,rkward/labelcell.h
+sub_dirs=plugins
+type=prog_main
+
+[rkward/labelcell.cpp]
+dist=true
+install=false
+install_location=
+type=SOURCE
+
+[rkward/labelcell.h]
+dist=true
+install=false
+install_location=
+type=HEADER
+
+[rkward/lo16-app-rkward.png]
+dist=true
+install=true
+install_location=$$(kde_icondir)/locolor/16x16/apps/rkward.png
+type=DATA
+
+[rkward/lo32-app-rkward.png]
+dist=true
+install=true
+install_location=$$(kde_icondir)/locolor/32x32/apps/rkward.png
+type=DATA
+
+[rkward/main.cpp]
+dist=true
+install=false
+install_location=
+type=SOURCE
+
+[rkward/nameselectcell.cpp]
+dist=true
+install=false
+install_location=
+type=SOURCE
+
+[rkward/nameselectcell.h]
+dist=true
+install=false
+install_location=
+type=HEADER
+
+[rkward/plugins/50.50.50.t.test.rkward]
+dist=true
+install=true
+install_location=$$(kde_datadir)/rkward/plugins/50.50.50.t.test.rkward
+type=DATA
+
+[rkward/plugins/50.50.60.does_not.exist.test.rkward]
+dist=true
+install=true
+install_location=$$(kde_datadir)/rkward/plugins/50.50.60.does_not.exist.test.rkward
+type=DATA
+
+[rkward/plugins/50.50.99.not_implemented.test.rkward]
+dist=true
+install=true
+install_location=$$(kde_datadir)/rkward/plugins/50.50.99.not_implemented.test.rkward
+type=DATA
+
+[rkward/plugins/50.60.50.another.test.rkward]
+dist=true
+install=true
+install_location=$$(kde_datadir)/rkward/plugins/50.60.50.another.test.rkward
+type=DATA
+
+[rkward/plugins/Makefile.am]
+files=rkward/plugins/50.50.50.t.test.rkward,rkward/plugins/50.50.60.does_not.exist.test.rkward,rkward/plugins/50.50.99.not_implemented.test.rkward,rkward/plugins/50.60.50.another.test.rkward
+sub_dirs=
+type=normal
+
+[rkward/pluginsettings.cpp]
+dist=true
+install=false
+install_location=
+type=SOURCE
+
+[rkward/pluginsettings.h]
+dist=true
+install=false
+install_location=
+type=HEADER
+
+[rkward/pluginsettingsui.ui]
+dist=true
+install=false
+install_location=
+type=SOURCE
+
+[rkward/rcommand.cpp]
+dist=true
+install=false
+install_location=
+type=SOURCE
+
+[rkward/rcommand.h]
+dist=true
+install=false
+install_location=
+type=HEADER
+
+[rkward/rinterface.cpp]
+dist=true
+install=false
+install_location=
+type=SOURCE
+
+[rkward/rinterface.h]
+dist=true
+install=false
+install_location=
+type=HEADER
+
+[rkward/rkdrag.cpp]
+dist=true
+install=false
+install_location=
+type=SOURCE
+
+[rkward/rkdrag.h]
+dist=true
+install=false
+install_location=
+type=HEADER
+
+[rkward/rkmenu.cpp]
+dist=true
+install=false
+install_location=
+type=SOURCE
+
+[rkward/rkmenu.h]
+dist=true
+install=false
+install_location=
+type=HEADER
+
+[rkward/rkplugin.cpp]
+dist=true
+install=false
+install_location=
+type=SOURCE
+
+[rkward/rkplugin.h]
+dist=true
+install=false
+install_location=
+type=HEADER
+
+[rkward/rkpluginwidget.cpp]
+dist=true
+install=false
+install_location=
+type=SOURCE
+
+[rkward/rkpluginwidget.h]
+dist=true
+install=false
+install_location=
+type=HEADER
+
+[rkward/rkradio.cpp]
+dist=true
+install=false
+install_location=
+type=SOURCE
+
+[rkward/rkradio.h]
+dist=true
+install=false
+install_location=
+type=HEADER
+
+[rkward/rktext.cpp]
+dist=true
+install=false
+install_location=
+type=SOURCE
+
+[rkward/rktext.h]
+dist=true
+install=false
+install_location=
+type=HEADER
+
+[rkward/rkvarselector.cpp]
+dist=true
+install=false
+install_location=
+type=SOURCE
+
+[rkward/rkvarselector.h]
+dist=true
+install=false
+install_location=
+type=HEADER
+
+[rkward/rkvarslot.cpp]
+dist=true
+install=false
+install_location=
+type=SOURCE
+
+[rkward/rkvarslot.h]
+dist=true
+install=false
+install_location=
+type=HEADER
+
+[rkward/rkward.cpp]
+dist=true
+install=false
+install_location=
+type=SOURCE
+
+[rkward/rkward.desktop]
+dist=true
+install=true
+install_location=$$(kde_appsdir)/Applications/rkward.desktop
+type=DATA
+
+[rkward/rkward.h]
+dist=true
+install=false
+install_location=
+type=HEADER
+
+[rkward/rkwarddoc.cpp]
+dist=true
+install=false
+install_location=
+type=SOURCE
+
+[rkward/rkwarddoc.h]
+dist=true
+install=false
+install_location=
+type=HEADER
+
+[rkward/rkwardui.rc]
+dist=true
+install=false
+install_location=
+type=DATA
+
+[rkward/rkwatch.cpp]
+dist=true
+install=false
+install_location=
+type=SOURCE
+
+[rkward/rkwatch.h]
+dist=true
+install=false
+install_location=
+type=HEADER
+
+[rkward/rkwatch_ui.ui]
+dist=true
+install=false
+install_location=
+type=SOURCE
+
+[rkward/rsettings.cpp]
+dist=true
+install=false
+install_location=
+type=SOURCE
+
+[rkward/rsettings.h]
+dist=true
+install=false
+install_location=
+type=HEADER
+
+[rkward/rsettingsui.ui]
+dist=true
+install=false
+install_location=
+type=SOURCE
+
+[rkward/rtableitem.cpp]
+dist=true
+install=false
+install_location=
+type=SOURCE
+
+[rkward/rtableitem.h]
+dist=true
+install=false
+install_location=
+type=HEADER
+
+[rkward/twintable.cpp]
+dist=true
+install=false
+install_location=
+type=SOURCE
+
+[rkward/twintable.h]
+dist=true
+install=false
+install_location=
+type=HEADER
+
+[rkward/twintablemember.cpp]
+dist=true
+install=false
+install_location=
+type=SOURCE
+
+[rkward/twintablemember.h]
+dist=true
+install=false
+install_location=
+type=HEADER
+
+[rkward/typeselectcell.cpp]
+dist=true
+install=false
+install_location=
+type=SOURCE
+
+[rkward/typeselectcell.h]
+dist=true
+install=false
+install_location=
+type=HEADER
+
+[rkward/view.ui]
+dist=true
+install=false
+install_location=
+type=SOURCE
diff -Nuar rkward-0.5.3.orig/rkward.lsm rkward-0.5.3/rkward.lsm
--- rkward-0.5.3.orig/rkward.lsm	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/rkward.lsm	2002-11-01 03:08:45.000000000 +0200
@@ -0,0 +1,14 @@
+Begin3
+Title:          RKward 
+Version:        0.0.1
+Entered-date:   
+Description:    
+Keywords:        
+Author:          <> 
+Maintained-by:   <> 
+Primary-site:   	        
+Home-page:      http:// 
+Original-site:  
+Platforms:       Linux and other Unices
+Copying-policy: GNU Public License
+End
diff -Nuar rkward-0.5.3.orig/scripts/getversion.sh rkward-0.5.3/scripts/getversion.sh
--- rkward-0.5.3.orig/scripts/getversion.sh	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/scripts/getversion.sh	2010-07-02 11:43:31.269263000 +0300
@@ -0,0 +1,19 @@
+#!/bin/bash
+#
+# Update the version information in the various places around the source
+#
+
+SPECIFIEDVERSION=${1}
+cd `dirname $0`/..
+BASEDIR=`pwd`
+
+if [ -z ${SPECIFIEDVERSION} ]; then
+	awk '{ printf "%s", $0; next }' rkward/resource.ver
+elif [ ${SPECIFIEDVERSION} = "SVN" ]; then
+	VERSION=`${BASEDIR}/scripts/getversion.sh`
+	cd ${BASEDIR}
+	REVISION=`svn info | grep "Revision:" | sed -e "s/Revision: //"`
+	echo -n "${VERSION}-SVN${REVISION}"
+else
+	echo -n ${SPECIFIEDVERSION}
+fi
diff -Nuar rkward-0.5.3.orig/scripts/makedist.sh rkward-0.5.3/scripts/makedist.sh
--- rkward-0.5.3.orig/scripts/makedist.sh	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/scripts/makedist.sh	2010-07-02 11:43:31.269263000 +0300
@@ -0,0 +1,40 @@
+#!/bin/bash
+
+cd `dirname $0`/..
+BASEDIR=`pwd`
+OLDVERSION=`${BASEDIR}/scripts/getversion.sh`
+VERSION=`${BASEDIR}/scripts/getversion.sh ${1}`
+
+mkdir $BASEDIR/disttemp
+DISTDIRREL=rkward-$VERSION
+DISTDIR=$BASEDIR/disttemp/$DISTDIRREL
+mkdir $DISTDIR
+
+$BASEDIR/scripts/set_dist_version.sh $VERSION
+
+cp -a AUTHORS CMakeLists.txt COPYING ChangeLog TODO INSTALL NOTES README configure $DISTDIR
+mkdir $DISTDIR/doc
+mkdir $DISTDIR/po
+mkdir $DISTDIR/rkward
+mkdir $DISTDIR/tests
+
+rsync -a --exclude '*~' --exclude '*.svn*' $EXCLUDES $BASEDIR/doc/* $DISTDIR/doc
+rsync -a --exclude '*~' --exclude '*.svn*' $EXCLUDES $BASEDIR/po/* $DISTDIR/po
+rsync -a --exclude '*~' --exclude '*.svn*' --exclude 'templates' $EXCLUDES $BASEDIR/rkward/* $DISTDIR/rkward
+rsync -a --exclude '*~' --exclude '*.svn*' $EXCLUDES $BASEDIR/tests/* $DISTDIR/tests
+
+# make messages
+cd $DISTDIR/po
+./Messages.sh
+# clean up test-results
+cd $DISTDIR/tests
+find . -mindepth 2 -name 'RKTestStandard.*' -o -exec rm {} \;
+
+cd $BASEDIR/disttemp
+tar -czf rkward-$VERSION.tar.gz $DISTDIRREL
+mv rkward-$VERSION.tar.gz $BASEDIR/
+
+cd $BASEDIR
+rm -rf $BASEDIR/disttemp
+
+$BASEDIR/scripts/set_dist_version.sh $OLDVERSION
diff -Nuar rkward-0.5.3.orig/scripts/makeosc_upload.sh rkward-0.5.3/scripts/makeosc_upload.sh
--- rkward-0.5.3.orig/scripts/makeosc_upload.sh	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/scripts/makeosc_upload.sh	2010-07-02 11:43:31.269263000 +0300
@@ -0,0 +1,31 @@
+#!/bin/bash
+
+## begin: These may need adjusting!
+OSCREPOS="home:tfry-suse:rkward-devel"
+## end: These may need adjusting!
+
+cd `dirname $0`/..
+BASEDIR=`pwd`
+VERSION=`${BASEDIR}/scripts/getversion.sh ${1}`
+# RPM does not accept dashes in the version name...
+VERSION=`echo -n ${VERSION} | sed -e 's/-/_/g'`
+OSCTEMPDIR=${BASEDIR}/osctemp
+rm -rf ${OSCTEMPDIR}
+mkdir ${OSCTEMPDIR}
+
+# check out repository state
+cd ${OSCTEMPDIR}
+osc co ${OSCREPOS}
+cd ${OSCREPOS}/rkward
+osc remove *.tar.gz
+
+# create source snapshot
+cd ${BASEDIR}
+${BASEDIR}/scripts/makedist.sh $VERSION
+cp ${BASEDIR}/rkward-$VERSION.tar.gz $OSCTEMPDIR/${OSCREPOS}/rkward/rkward-$VERSION.tar.gz
+osc add $OSCTEMPDIR/${OSCREPOS}/rkward/rkward-$VERSION.tar.gz
+
+cd $OSCTEMPDIR/${OSCREPOS}/rkward/
+sed -i rkward.spec -e "s/Version:.*$/Version:        ${VERSION}/"
+osc commit -m "New development snapshot: ${VERSION}"
+
diff -Nuar rkward-0.5.3.orig/scripts/makeppa_upload.sh rkward-0.5.3/scripts/makeppa_upload.sh
--- rkward-0.5.3.orig/scripts/makeppa_upload.sh	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/scripts/makeppa_upload.sh	2010-07-02 11:43:31.269263000 +0300
@@ -0,0 +1,66 @@
+#!/bin/bash
+
+## begin: These may need adjusting!
+TARGETS="maverick lucid karmic jaunty"
+PPAVERSIONSTRING="experimental1ppa1"
+PPAID="rkward-devel"
+AUTHOR="Thomas Friedrichsmeier <tfry@users.sourceforge.net>"
+## end: These may need adjusting!
+
+cd `dirname $0`/..
+BASEDIR=`pwd`
+VERSION=`${BASEDIR}/scripts/getversion.sh ${1}`
+PPATEMPDIR=$BASEDIR/ppatemp
+mkdir $PPATEMPDIR
+
+# first create source snapshot
+${BASEDIR}/scripts/makedist.sh $VERSION
+cp ${BASEDIR}/rkward-$VERSION.tar.gz $PPATEMPDIR/rkward_$VERSION.orig.tar.gz
+
+function doSourceUpload {
+	TARGET=${1}
+	PACKAGEVERSION="${VERSION}-1${PPAVERSIONSTRING}~${TARGET}"
+
+	echo "----------------------"
+	echo "Now packaging: ${PACKAGEVERSION}"
+	echo "----------------------"
+
+	# unpack
+	cd $PPATEMPDIR
+	tar -xzf rkward_$VERSION.orig.tar.gz
+	PPASOURCEDIR=`pwd`/rkward-$VERSION/
+	cp -a $BASEDIR/debian $PPASOURCEDIR
+
+	# prepare changelog
+	cd $PPASOURCEDIR/debian
+	mv changelog changelog_old
+	echo "rkward (${PACKAGEVERSION}) ${TARGET}; urgency=low" > changelog
+	echo "  * new upstream development release" >> changelog
+	echo -n " -- ${AUTHOR}  " >> changelog
+	date -R >> changelog
+	echo "" >> changelog
+	cat changelog_old >> changelog
+	rm changelog_old
+
+	# build source package
+	cd $PPASOURCEDIR
+	dpkg-buildpackage -S
+
+	# upload
+	cd $PPATEMPDIR
+	echo "[rkward-devel-scripted]" > dput.cf
+	echo "fqdn = ppa.launchpad.net" >> dput.cf
+	echo "method = ftp" >> dput.cf
+	echo "incoming = ~rkward-devel/${PPAID}/ubuntu/" >> dput.cf
+	echo "login = anonymous" >> dput.cf
+	echo "allow_unsigned_uploads = 0" >> dput.cf
+
+	dput --config ${PPATEMPDIR}/dput.cf rkward-devel-scripted rkward_${PACKAGEVERSION}_source.changes
+	rm -rf rkward_${PACKAGEVERSION}*
+	rm -rf $PPASOURCEDIR
+}
+
+for TARGET in ${TARGETS}
+do
+	doSourceUpload ${TARGET}
+done
diff -Nuar rkward-0.5.3.orig/scripts/set_dist_version.sh rkward-0.5.3/scripts/set_dist_version.sh
--- rkward-0.5.3.orig/scripts/set_dist_version.sh	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/scripts/set_dist_version.sh	2010-05-01 15:02:04.721795000 +0300
@@ -0,0 +1,13 @@
+#!/bin/bash
+#
+# Update the version information in the various places around the source
+#
+
+VERSION=${1}
+cd `dirname $0`/..
+BASEDIR=`pwd`
+
+echo "/* Version number of package */" > $BASEDIR/rkward/version.h
+echo "#define VERSION \"$VERSION\"" >> $BASEDIR/rkward/version.h
+echo "\".rk.app.version\" <- \"$VERSION\"" > $BASEDIR/rkward/rbackend/rpackages/rkward/R/ver.R
+echo "$VERSION" > $BASEDIR/rkward/resource.ver
diff -Nuar rkward-0.5.3.orig/techdocs/component-draft rkward-0.5.3/techdocs/component-draft
--- rkward-0.5.3.orig/techdocs/component-draft	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/techdocs/component-draft	2008-01-29 02:00:33.448389000 +0200
@@ -0,0 +1,213 @@
+RKComponent (and related classes) draft:
+
+Key classes:
+
+RKComponentProperty
+something used as input, and output. Several types of this may exist, each offering different values. The more interesting application is using them as input-suppliers for components. RKComponentProperty should probably also do input verification. Basically, an RKComponentProperty is the GUI-independent portion of a GUI-settable value. Mockups:
+
+class RKComponentPropertyBase : public QObject {
+public signals:
+/** property has changed its value. Any connected RKComponentPropertys/RKComponents should update their state
+@param property A pointer to the changed property for easy reference */
+	void valueChanged (RKComponentPropertyBase *property);
+public slots:
+/** the (Qt-)slot in which (by default) the (RKComponent-)property is notified, when a property it depends on has changed. Generally you should reimplement this function to add special handling for the properties you know about. */
+	virtual void governorValueChanged (RKComponentPropertyBase *property);
+public:
+	enum RKComponentPropertyTypes {
+		0: RKComponentPropertyBase,
+		1: RKComponentPropertyBool,
+		2: RKComponentPropertyInt,
+		3: RKComponentPropertyDouble,
+		4: RKComponentPropertyRObject,
+		5: RKComponentPropertyRObjectList,
+		1000: RKComponentPropertyUser	/**< for user expansion */
+	};
+/** constructor. Pass a valid QObject as parent so the property will be auto-destructed when no longer needed */
+	RKComponentPropertyBase (QObject *parent);
+/** destructor */
+	virtual ~RKComponentPropertyBase ();
+/** supplies the current value. Since more than one value may be supplied, modifier can be used to select a value. Default implementation only has  a single string, however. */
+	virtual QString value (const QString &modifier=QString::null);
+/** set the value in string form.
+@returns false if the value is illegal (in the base class, all strings are legal) */
+	virtual bool setValue (const QString &string);
+/** do not set the value, only check, whether it is legal */
+	virtual bool isValid (const QString &string);
+/** current setting valid? */
+	bool isValid ();
+/** set to required: will only be satisfied if it holds a valid value. Else: satisfied if valid *or empty* */
+	void setRequired ();
+/** see setRequired () */
+	bool isSatisfied ();
+/** for RTTI. see RKComponentPropertyTypes */
+	virtual int type ();
+/** connect this property to a governor property (given as argument). If reconcile_requirements, the requirements of both properties are reconciled to the least common denominator. The dependent property will be notified on all changes made in the governing property, so it can update its value. 
+Generally with few exceptions, you can only connect to properties that are either of the same class as this property, or of an extended class. Maybe in the future we will add some sophisticated converters allowing to connect vastly different types of properties in a meaningful way.
+If you specify a modifier, only the sub-value indicated by the modifier will be retrieved from the governing property on governorValueChanged. In this case reconcile_requirements is ignored. */
+	virtual void connectGovernor (RKComponentPropertyBase *governor, const QString &modifier=QString::null, bool reconcile_requirements=true);
+private:
+	bool valid;
+	bool required;
+/** if we're only interested in a specific sub-information of the governor-property, we need to remember the corresponding modifier */
+	QString governor_modifier;
+};
+
+/** special type of RKComponentProperty, that is based on a bool setting */
+class RKComponentPropertyBool : public RKComponentPropertyBase {
+public:
+/** param value_true string value if true/on
+param value_false string value if false/off
+param default value to use, if invalid string value was set */
+	RKComponentPropertyBool (const QString &value_true, const QString &value_false, bool default);
+/** sets the bool value. Also takes care of notifying dependent components */
+	void setValue (bool value);
+/** current value as bool */
+	bool boolValue ();
+/** reimplemented from RKComponentPropertyBase. Modifier "true" returns value if true. Modifier "false" returns value if false. Modifier QString::null returns current value. */
+	QString value (const QString &modifier=QString::null);
+/** reimplemented from RKComponentPropertyBase to convert to bool value according to current settings */
+	bool setValue (const QString &value);
+/** reimplemented from RKComponentPropertyBase to test whether conversion to bool value is possible according to current settings */
+	bool isValid (const QString &value);
+};
+
+class RKComponentPropertyInt;		// min, max
+class RKComponentPropertyDouble;		// min, max
+
+/** special type of RKComponentProperty, that prepresents an RObject
+//TODO: this property should auto-connect to RKModificationTracker, to be safe when the object gets deleted/changed
+class RKComponentPropertyRObject : public RKComponentPropertyBase {
+public:
+	void setClassFilter (const QString &classes);
+	void setTypeFilter (const QString &types);
+	void setDimensionFilter (int dimensionality, int min_length=-1, int max_length=-1);
+	bool setValue (RObject *object);
+	bool isValid (RObject *object);
+	RObject *objectValue ();
+/** reimplemented from RKComponentPropertyBase. Modifier "label" returns label. Modifier "shortname" returns short name. Modifier QString::null returns full name. */
+	QString value (const QString &modifier=QString::null);
+/** reimplemented from RKComponentPropertyBase to convert to RObject, if possible with current constraints */
+	bool setValue (const QString &value);
+/** reimplemented from RKComponentPropertyBase to test whether conversion to RObject, is possible with current constraints */
+	bool isValid (const QString &value);
+};
+
+/** extension of RKComponentPropertyRObject, allowing to hold several RObjects at once. */
+class RKComponentPropertyRObjectList : public RKComponentPropertyRObject {
+public:
+	void setListLength (int min_length, int min_length_if_any=-1, int max_length=-1);
+	bool addValue (RObject *object);
+	void removeValue (RObject *object);
+	bool isValid (RObject *object);
+/** reimplemented from RKComponentPropertyBase to return the first RObject in the list */
+	RObject *objectValue ();
+	QValueList<RObject *> objectList ();
+/** reimplemented from RKComponentPropertyBase. Modifier "label" returns label. Modifier "shortname" returns short name. Modifier QString::null returns full name. */
+	QString value (const QString &modifier=QString::null);
+/** reimplemented from RKComponentPropertyBase to convert to list of RObject, if possible with current constraints */
+	bool setValue (const QString &value);
+/** reimplemented from RKComponentPropertyBase to test whether conversion to list of RObject, is possible with current constraints */
+	bool isValid (const QString &value);
+};
+
+/** special type of RKComponentProperty used to contain R code. All stand-alone RKComponents have this. The great thing about this, is that code can be made available to embedding RKComponents by just fetching the component.code.preprocess (or .calculate, .printout, .cleanup) value */
+class RKComponentPropertyCode : public RKComponentPropertyBase {
+public:
+/** the preprocess code */
+	QString preprocess ();
+/** the calculate code */
+	QString calculate ();
+/** the printout code */		// TODO, maybe we can abstract this away. A component should _either_ do calculation _or_ printout, hence it could all be calculate () only, as well.
+	QString printout ();
+/** the cleanup code */
+	QString cleanup ();
+};
+
+RKComponentPropertys are attached to and owned by RKComponents (those that use it as output)
+
+/** abstract base class of all RKComponents, including component widgets */
+class RKComponent : public QWidget {
+public slots:
+/** generally the valueChanged () signal of all RKComponentPropertys directly owned by this component should be connected to this (Qt-)slot, so the component can update itself accordingly */
+	void propertyValueChanged (RKComponentPropertyBase *property);
+public:
+/** standard property controlling visibility */
+	RKComponentPropertyBool *visibilityProperty ();
+/** standard property controlling enabledness */
+	RKComponentPropertyBool *enablednessProperty ();
+/** standard property controlling requiredness */
+	RKComponentPropertyBool *requirednessProperty ();
+
+/** The parent of this component. Should be notified, whenever isSatisfied () or isReady ()-state changed. */
+	RKComponent *parent ();
+	bool isSatisfied ();
+	bool isReady ();
+/** Locate the component.subcomponent.property.value described by modifier and return its value as a string. Especially useful as a callback in code templates! Recursively walks subcomponents/properties until the requested value is found. */
+	QString fetchStringValue (const QString &modifier);
+private:
+/** also notifies the parent, if applicable */
+	void setSatisfied (bool satisfied);
+	void setReady (bool ready);
+};
+
+/** "regular" components, described in XML format */
+class RKStandardComponent : public RKComponent {
+};
+
+/** wrapper class for "external" components, i.e. components implemented in stand-alone applets */
+class RKExternalComponent : public RKComponent {
+};
+
+/** (long-term): A special RKComponent doing some sort of logic conversion. It's used to connect to one or more governing properties, process/convert the value of those properties in some way, and provide one (or more) output properties.
+//TODO: how will these be programmed? Hopefully we will soon have a better picture on what logic elements are actually commonly needed */
+class RKLogicComponent;
+
+// TODO: do we need this at all?
+/** describes the external interface provided by an RKComponent. This means a list of all properties that can be used as input for this component. Used for matching/mapping external RKComponentPropertys to RKComponentPropertys inside this component */
+class RKComponentInterface {
+};
+
+
+
+Initialization steps in creating an RKComponent:
+On top level: probably a call to setUpdatesEnabled (false) should be done!
+	- create Subcomponents (depth first is important!)
+		- ...
+	- create RKComponentProperty's
+	- initialize
+		- set initial values in RKComponentProperty's
+			(- updates GUI)
+			(- may trigger changes in subcomponents)
+		- connect RKComponentPropertys within this component and to subcomponents (those are already fully connected!)
+			- connect
+			- retrieve values from governing properties
+				(- may trigger further changes in this, and subcomponents)
+	- return to parent
+On top level: probably a call to setUpdatesEnabled (true); update () should be done!
+
+/** A helper class used to build and initialize an RKComponent. Most importantly this will keep track of the properties yet to be connected. Used at least by RKStandardComponent. */
+class RKComponentBuilder {
+public:
+	RKComponentBuilder (RKComponent *parent);
+	~RKComponentBuilder ();
+	void buildElement (const QDomElement &element);
+	void makeConnections ();
+private:
+	RKComponent *parent;
+	struct RKComponentPropertyConnection {
+		QString governor_property;
+		QString client_property;
+		bool reconcile;
+	};
+	QValueList <RKComponentPropertyConnection *> connection_list;
+};
+
+
+Implementation plan:
+0) Create new directory component. Most of what's in plugin now will be migrated there.
+1) Create main RKComponentProperty classes (full API, basic implementation)
+2) Create an initial implementation of RKStandardComponent, copying heavily from RKPlugin (little code will remain in RKPlugin at the end)
+3) Create a few first RKComponentWidgets, copying from RKPluginWidgets, but using RKComponentProperty's internally, and deriving from RKComponent
+4) Test and get basic functionality working
+5) Finish migration
diff -Nuar rkward-0.5.3.orig/techdocs/release_recipe rkward-0.5.3/techdocs/release_recipe
--- rkward-0.5.3.orig/techdocs/release_recipe	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/techdocs/release_recipe	2009-05-29 12:56:37.311401000 +0300
@@ -0,0 +1,5 @@
+Since RKWard 0.5.0 and the use of cmake, creating a new source .tar.gz is as easy as:
+
+./makedist.sh VERSION
+
+in the toplevel source directory. Be sure to keep your sources clean, when producing official releases, tough. (If in doubt, get a clean SVN-checkout, and use that).
\ Dosya sonunda yenisatır yok.
diff -Nuar rkward-0.5.3.orig/techdocs/r_eventloop rkward-0.5.3/techdocs/r_eventloop
--- rkward-0.5.3.orig/techdocs/r_eventloop	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/techdocs/r_eventloop	2008-03-12 21:25:36.128261000 +0200
@@ -0,0 +1,66 @@
+** Notes for restructuring the R event processing **
+
+I've had it with fighting R's event processing. In the current design (two threads in one app), there appear to be some incompatibilities and threading issues with are very hard to solve. See e.g. https://sourceforge.net/tracker/index.php?func=detail&aid=1878594&group_id=50231&atid=459007 .
+
+The new plan: Move the R backend to a separate slave application, instead of just a separate thread.
+
+** The slave app **
+
+The slave app will be single threaded and mostly just run the regular R event loop using Rf_mainloop(). ptr_R_ReadConsole will be overridden, and responsible for getting the code (based on the R_Busy status), as before. We will instantiate a top level callback to find out, when a toplevel command has finished. Substack-calls are handled as before in a tryEval(). Since these are no user calls, they do not need to go through ReadConsole. We leave all event processing to R.
+
+Inside ptr_R_ReadConsole we will run a minimal loop, which simply checks for new commands available.
+
+** The main app **
+
+We can flatten the frontend to only single threaded as well. This will keep a command stack as before, and check for new output in regular intervals as before. However, it only needs to sumbit commands, when the slave app requests that, or a new command has been issued while the slave app is idle. So we save all the ugly processing, here.
+
+** Communication between the apps **
+
+Eventually, we will want network-transparent communication. For now, we focus on the more important single machine case. To keep things fast, we'll use a block of shared memory at least for command result data, and for output. For all other purposes, we can probably simply copy stuff around, even though this, too will probably go through shared memory.
+
+*** Communication routes ***
+
+- Send command string to execute and flags to slave
+- Retrieve current status flag from slave
+- Retrieve status flag of last command from slave
+- Retrieve data of finished command from slave
+- Retrieve list of changed symbols from slave
+- Retrieve callback request from slave
+- Write callback reply to slave
+- Retrieve current output (and type) from slave
+separately:
+- Send interrupt to slave
+
+** Dealing with shared memory **
+
+The devil will be in the details:
+- libmm seems to be a decent standard shared memory library
+	- other libraries: NSPR
+- can this handle only fork()ed processes? I sure hope it also support exec()ed ones!
+- I don't think the implicitely shared Qt classes (most importantly QStrings!) will make it through shared memory. Therefore we will basically pass plain char*s (all UTF8, though). For the other data types we need, we will not have a problem.
+
+** Alternatives **
+
+Maybe we really should use message passing, instead of shared memory? For the case of a local process, we should be able to safely pass raw binary data, so we can probably get very good speed. This would also make it easier to support a remote backend in the future.
+
+*** Outline of a communication protocol ***
+
+1. Main app opens server port, then starts slave, passing port number as command-line argument
+2. Main app waits for slave to connect
+3. Main app initiates handshake:
+	1. send 'H'
+		- slave inits R
+		- slave connects callbacks
+		- slave enters Rf_mainloop()
+		- when back in ReadConsole, slave sends
+			- reply 'H:pid:Version_number'
+	2. handle version number mismatch
+4. Main app sends startup sequence
+	1. intiate
+	2. send all initailization commands including "library(rkward)" (see below)
+	3. check for command results as usual
+
+Command sending:
+	- when slave enters ReadConsole, it sends 'ready'
+	- main app sends e.g. 'command:doSomething()"
+	- slave acks, then starts the command
\ Dosya sonunda yenisatır yok.
diff -Nuar rkward-0.5.3.orig/tests/analysis_plugins/RKTestStandard.basic_statistics_a.rkcommands.R rkward-0.5.3/tests/analysis_plugins/RKTestStandard.basic_statistics_a.rkcommands.R
--- rkward-0.5.3.orig/tests/analysis_plugins/RKTestStandard.basic_statistics_a.rkcommands.R	2009-10-05 19:27:37.000000000 +0300
+++ rkward-0.5.3/tests/analysis_plugins/RKTestStandard.basic_statistics_a.rkcommands.R	2010-06-27 15:02:13.037392000 +0300
@@ -34,7 +34,7 @@
 }
 
 # store results
-'my.data' <- results
+.GlobalEnv$my.data <- results
 ## Print result
 rk.header ("Univariate statistics", parameters=list (
 "Remove Missing values", TRUE, "Trimmed value for trimmed mean", "0.05"
@@ -48,5 +48,5 @@
 
 rk.results (results)
 })
-.rk.rerun.plugin.link(plugin="rkward::basic_statistics", settings="autre.real=6.00\nconstMad.real=1.4628\ncustomMu.state=1\ncustomS.state=1\nhuber.state=1\ninitmu.string=median\nirq.state=1\nlength.state=1\nmad.state=1\nmaximum.state=1\nmean.state=1\nmedian.state=1\nminimum.state=1\nmu.text=3\nnarm.state=1\nnbmaximum.real=0.00\nnbminimum.real=0.00\nnom.selection=my.data\npourcent.real=0.05\nquartile.state=1\nresult.state=1\ns.text=\nsd.state=1\ntol.real=0.07\ntrim.state=1\nvari.state=1\nwinsor.real=1.50\nz.available=women[[\\\"weight\\\"]]\\ntest50x", label="Run again")
+.rk.rerun.plugin.link(plugin="rkward::basic_statistics", settings="autre.real=6.00\nconstMad.real=1.4628\ncustomMu.state=1\ncustomS.state=1\nhuber.state=1\ninitmu.string=median\nirq.state=1\nlength.state=1\nmad.state=1\nmaximum.state=1\nmean.state=1\nmedian.state=1\nminimum.state=1\nmu.text=3\nnarm.state=1\nnbmaximum.real=0.00\nnbminimum.real=0.00\npourcent.real=0.05\nquartile.state=1\ns.text=\nsaveas.active=1\nsaveas.objectname=my.data\nsaveas.parent=.GlobalEnv\nsd.state=1\ntol.real=0.07\ntrim.state=1\nvari.state=1\nwinsor.real=1.50\nz.available=women[[\\\"weight\\\"]]\\ntest50x", label="Run again")
 .rk.make.hr()
diff -Nuar rkward-0.5.3.orig/tests/analysis_plugins/RKTestStandard.basic_statistics_b.rkcommands.R rkward-0.5.3/tests/analysis_plugins/RKTestStandard.basic_statistics_b.rkcommands.R
--- rkward-0.5.3.orig/tests/analysis_plugins/RKTestStandard.basic_statistics_b.rkcommands.R	2009-10-05 19:26:32.000000000 +0300
+++ rkward-0.5.3/tests/analysis_plugins/RKTestStandard.basic_statistics_b.rkcommands.R	2010-06-27 15:02:13.037392000 +0300
@@ -24,5 +24,5 @@
 
 rk.results (results)
 })
-.rk.rerun.plugin.link(plugin="rkward::basic_statistics", settings="autre.real=0.00\nhuber.state=\nirq.state=0\nlength.state=0\nmad.state=\nmaximum.state=0\nmean.state=0\nmedian.state=0\nminimum.state=0\nnarm.state=1\nnbmaximum.real=3.00\nnbminimum.real=2.00\nquartile.state=0\nresult.state=\nsd.state=0\ntrim.state=\nvari.state=0\nz.available=test10x\\nwomen[[\\\"height\\\"]]", label="Run again")
+.rk.rerun.plugin.link(plugin="rkward::basic_statistics", settings="autre.real=0.00\nhuber.state=\nirq.state=0\nlength.state=0\nmad.state=\nmaximum.state=0\nmean.state=0\nmedian.state=0\nminimum.state=0\nnarm.state=1\nnbmaximum.real=3.00\nnbminimum.real=2.00\nquartile.state=0\nsaveas.active=0\nsaveas.objectname=my.data\nsaveas.parent=.GlobalEnv\nsd.state=0\ntrim.state=\nvari.state=0\nz.available=test10x\\nwomen[[\\\"height\\\"]]", label="Run again")
 .rk.make.hr()
diff -Nuar rkward-0.5.3.orig/tests/analysis_plugins/RKTestStandard.hp_filter.rkcommands.R rkward-0.5.3/tests/analysis_plugins/RKTestStandard.hp_filter.rkcommands.R
--- rkward-0.5.3.orig/tests/analysis_plugins/RKTestStandard.hp_filter.rkcommands.R	2009-10-05 19:31:55.000000000 +0300
+++ rkward-0.5.3/tests/analysis_plugins/RKTestStandard.hp_filter.rkcommands.R	2010-06-27 15:02:13.037392000 +0300
@@ -3,7 +3,7 @@
 ## Compute
 ## Print result
 rk.header ("Hodrick-Prescott Filter", parameters=list("Lambda", 1600))
-x <- get("co2", envir=globalenv())
+x <- co2
 lambda <- 1600
 
 if (any (is.na (x))) stop ("Missing values cannot be handled")
@@ -15,8 +15,8 @@
 	trend <- ts(trend,start(x),frequency=frequency(x))
 	cycle <- ts(cycle,start(x),frequency=frequency(x))
 }
-assign("hptrend", trend, envir=globalenv())
-assign("hpcycle", cycle, envir=globalenv())
+.GlobalEnv$hptrend <- trend
+.GlobalEnv$hpcycle <- cycle
 rk.graph.on ()
 try({
 	par(mfrow=c(2,1),mar=c(2,4,2,2)+0.1)
@@ -25,5 +25,5 @@
 })
 rk.graph.off ()
 })
-.rk.rerun.plugin.link(plugin="rkward::hp_filter", settings="create_cycle.state=1\ncreate_trend.state=1\ncustom.state=0\ncycle_col.color.string=green4\ncycle_lty.string=\ncycle_lwd.real=1.00\ncycle_name.selection=hpcycle\ndownlab.text=\nlambda.string=1600\nplot_cycle.state=1\nseries_col.color.string=blue\nseries_lty.string=\nseries_lwd.real=1.00\ntrend_col.color.string=red\ntrend_lty.string=\ntrend_lwd.real=1.00\ntrend_name.selection=hptrend\nuplab.text=\nx.available=co2", label="Run again")
+.rk.rerun.plugin.link(plugin="rkward::hp_filter", settings="custom.state=0\ncycle_col.color.string=green4\ncycle_lty.string=\ncycle_lwd.real=1.00\ncycle_name.active=1\ncycle_name.objectname=hpcycle\ncycle_name.parent=.GlobalEnv\ndownlab.text=\nlambda.string=1600\nplot_cycle.state=1\nseries_col.color.string=blue\nseries_lty.string=\nseries_lwd.real=1.00\ntrend_col.color.string=red\ntrend_lty.string=\ntrend_lwd.real=1.00\ntrend_name.active=1\ntrend_name.objectname=hptrend\ntrend_name.parent=.GlobalEnv\nuplab.text=\nx.available=co2", label="Run again")
 .rk.make.hr()
diff -Nuar rkward-0.5.3.orig/tests/analysis_plugins.R rkward-0.5.3/tests/analysis_plugins.R
--- rkward-0.5.3.orig/tests/analysis_plugins.R	2010-04-21 17:00:16.000000000 +0300
+++ rkward-0.5.3/tests/analysis_plugins.R	2010-07-05 14:23:22.106233000 +0300
@@ -30,10 +30,10 @@
 	## the tests
 	), tests = list (
 		new ("RKTest", id="basic_statistics_a", call=function () {
-			rk.call.plugin ("rkward::basic_statistics", autre.real="6.00", constMad.real="1.4628", customMu.state="1", customS.state="1", huber.state="1", initmu.string="median", irq.state="1", length.state="1", mad.state="1", maximum.state="1", mean.state="1", median.state="1", minimum.state="1", mu.text="3", narm.state="1", nbmaximum.real="0.00", nbminimum.real="0.00", nom.selection="my.data", pourcent.real="0.05", quartile.state="1", result.state="1", s.text="", sd.state="1", tol.real="0.07", trim.state="1", vari.state="1", winsor.real="1.50", z.available="women[[\"weight\"]]\ntest50x", submit.mode="submit")
+			rk.call.plugin ("rkward::basic_statistics", autre.real="6.00", constMad.real="1.4628", customMu.state="1", customS.state="1", huber.state="1", initmu.string="median", irq.state="1", length.state="1", mad.state="1", maximum.state="1", mean.state="1", median.state="1", minimum.state="1", mu.text="3", narm.state="1", nbmaximum.real="0.00", nbminimum.real="0.00", saveas.active="1", saveas.objectname="my.data", pourcent.real="0.05", quartile.state="1", s.text="", sd.state="1", tol.real="0.07", trim.state="1", vari.state="1", winsor.real="1.50", z.available="women[[\"weight\"]]\ntest50x", submit.mode="submit")
 		}, libraries=c("MASS")),
 		new ("RKTest", id="basic_statistics_b", call=function () {
-			rk.call.plugin ("rkward::basic_statistics", autre.real="0.00", huber.state="", irq.state="0", length.state="0", mad.state="", maximum.state="0", mean.state="0", median.state="0", minimum.state="0", narm.state="1", nbmaximum.real="3.00", nbminimum.real="2.00", quartile.state="0", result.state="", sd.state="0", trim.state="", vari.state="0", z.available="test10x\nwomen[[\"height\"]]", submit.mode="submit")
+			rk.call.plugin ("rkward::basic_statistics", autre.real="0.00", huber.state="", irq.state="0", length.state="0", mad.state="", maximum.state="0", mean.state="0", median.state="0", minimum.state="0", narm.state="1", nbmaximum.real="3.00", nbminimum.real="2.00", quartile.state="0", sd.state="0", trim.state="", vari.state="0", z.available="test10x\nwomen[[\"height\"]]", submit.mode="submit")
 		}),
 		new ("RKTest", id="correlation_matrix", call=function () {		
 			rk.call.plugin ("rkward::corr_matrix", do_p.state="1", method.string="pearson", use.string="pairwise", x.available="test50x\ntest50y\ntest50z", submit.mode="submit")
@@ -137,10 +137,10 @@
 			rk.call.plugin ("rkward::kpss_test", length.state="1", lshort.string="FALSE", narm.state="0", null.string="Trend", x.available="test50x\ntest50y\ntest50z", submit.mode="submit")
 		}, libraries=c("tseries")),
 		new ("RKTest", id="hp_filter", call=function () {
-			data (co2)
+			.GlobalEnv$co2 <- datasets::co2		# another, incompatible co2 dataset exists in package locfit
 			rk.sync.global()
 
-			rk.call.plugin ("rkward::hp_filter", create_cycle.state="1", create_trend.state="1", custom.state="0", cycle_col.color.string="green4", cycle_lty.string="", cycle_lwd.real="1.00", cycle_name.selection="hpcycle", downlab.text="", lambda.string="1600", plot_cycle.state="1", series_col.color.string="blue", series_lty.string="", series_lwd.real="1.00", trend_col.color.string="red", trend_lty.string="", trend_lwd.real="1.00", trend_name.selection="hptrend", uplab.text="", x.available="co2", submit.mode="submit")
+			rk.call.plugin ("rkward::hp_filter", cycle_name.active="1", trend_name.active="1", custom.state="0", cycle_col.color.string="green4", cycle_lty.string="", cycle_lwd.real="1.00", cycle_name.objectname="hpcycle", downlab.text="", lambda.string="1600", plot_cycle.state="1", series_col.color.string="blue", series_lty.string="", series_lwd.real="1.00", trend_col.color.string="red", trend_lty.string="", trend_lwd.real="1.00", trend_name.objectname="hptrend", uplab.text="", x.available="co2", submit.mode="submit")
 
 			rk.print (summary (hptrend))
 			rk.print (summary (hpcycle))
diff -Nuar rkward-0.5.3.orig/tests/data rkward-0.5.3/tests/data
--- rkward-0.5.3.orig/tests/data	2009-08-25 16:53:10.000000000 +0300
+++ rkward-0.5.3/tests/data	1970-01-01 02:00:00.000000000 +0200
@@ -1,16 +0,0 @@
-"height"	"weight"
-58	115
-59	117
-60	120
-61	123
-62	126
-63	129
-64	132
-65	135
-66	139
-67	142
-68	146
-69	150
-70	154
-71	159
-72	164
diff -Nuar rkward-0.5.3.orig/tests/do_not_commit.R rkward-0.5.3/tests/do_not_commit.R
--- rkward-0.5.3.orig/tests/do_not_commit.R	2009-10-05 18:52:44.000000000 +0300
+++ rkward-0.5.3/tests/do_not_commit.R	1970-01-01 02:00:00.000000000 +0200
@@ -1,103 +0,0 @@
-      =\GG8u9K@ s`+*wwx{GDƒhL4vXc/3XcK,{X=5̼7o޼y͛ٮzP(Jσ|t'sS(䳘:)eRR׎	8aUyT!f+A?g /SKZ:+nAygjuT|if=NV'fYf#uPo9ՠNHqԤ	TDǠGٞ$AFwRl&mLIs2q5	X!٢p|tfUk0<؋b2X6/PDi1[L\FW#--&M5CEmOV(a5g·toӋm0%DO
-9#blE,g#Kk4\ED/5ޜ<dʪT*)XPlF#S@ccj@mc[# HڍMP*yv	|{X{)ވ:,7Xa:ǡM7]Q6_TM˽:NΨ%8r|ƻR҃WhN[*TKؒq9|pACGEYֈHhQJQ]LNपpY;P?t	7ikBMY'S+L3U(:Z
-Ɋ rAb	EWY$_(^"/J|:DOd	Ւeĭ,ĴJ2kHR%%@mQ$'b,ȈRi|88+c6de拲RsmD]?Sp6q̗/_B,dyU!WA֗"QL?,VATwE[4CUP U4~i,TbFaO	&e
-֥&%9"Vln`rwPrSIs!M䓊
-8sy5;XaPX3Y8-~g:pI]9g<P0Y
-jƭk`b
-Znu:ka+e#?R%DX*:bwV=Qe╡db4sv$:GpjJqSy;x7ZK*N\cO1WEd(	CIK2HN~
-o=b0A{FX*n-x]@U@,UleQkjz)&2vX	X3WŚ
-iI%>U[BlޚU?-]KT
-.0ʖgKGD饁|`QyXP*QAyU}Ld$_oM:3T*1TJ9w`#Z>R
-a$J<T8._I֓,ܤ!kKCR"aA0EhGBTխK23q}ݺ*78Jb*JDbJ]حT!a]RKY{"l"C0VmɈL#
-H\`Ra(+xo,6
-ZkctuR2uFcކcV3a )c`MQ+
-a'4?$2}uXf
-'[؃D-۷ (aT KP\وRF/*X_O@~}a\gg
-#nRC*xMOAERAPHeS('# Q-OoR.T@GwQWnP|}TA}k"lQ%~EyvtauI9Ck#Փ(38RJ;jpIu_1!AZ,sZ A_
-IBRerWD@'_`*vJ5P}9&⠂UhڼrV-@yo!a^
-#3T[ntw!Fc^ŋR_CI19psρ?82N｡h.5=yE</L}Kf(^#+(V{{q9Ly8L<"-sZ<]ȷjt󤘺֤7g	
-#k !&=yjU[[2.m~ϥS.YME@nÃ+~|w%^؛ya!ckD/G_}RU^nVېtޏuurNLOwm'դ2xAUۗ=^8=f_7;f,}C7y/w{S%fIU'XzN(<ն´Ao`o0.A~h*v#<Ie܏Of}\ⷵ+_Q=v]~_J8+Wn兞E[נng{T?M5yܴ([֞:=q͹3wWaCY~nq5or8vޚ{ƙxo9ERz^P8v^Q#<=_:}G以KclV,kBj~W٫^A{?9t/Y*=Uͨ,JnFԬKsl<5y-Oj]o
-YTEzokRnQqN*XZ{|×0e;{<Q3O*cnVe_ue5RW(7o/YRʕl)qGx'^oM?06?Ī7ZV\}<k:{^*,_;Bcw*m?f\h:ϽՎ}Tߧf?mW̪=^OMjE7sUWuXܱ_ZTPCkۧjQj'?mlS,y7*jȻ0Ⓣ}lUFjñVZs*zTcE~9iBݻͺ:<9#q[AM.Oѕb_9h>]&~vۘ2Ko+F||jPTz	nIte\i=g[(?Uu<0Zfk/^:tǜj쳅w[uj|%:V!z_%W>pvOjϜ4ًF_^Ӓ~h鋫nռ[ڧvuvJZ=lsNCwh3o2ZC	M]̬ӏ7 uT_S3lV]2}b^<s3ui%.!nOOPԗ._%>_%5%$i~H}kWn?d{֏LZ\OmCkrU5|O$)lٶ.ϙas~!t_\ !iy3y9i܃5rzv弡Gׇ{8xoqdbcG9+رg(Ien>>?m}tqǦxb咩:N0al̖m UKJk9s-6X|)w|3zMQ)cⱹw	~{>xjܤ>qnD^_6tՒ+u*|u/W?pR5E}8$o6!7M iNG떽pj}wG<oaV{UP~g>׃{Z?UeL]{m}o6Wo~awd?Sf-(8Skǿ>๪[CW,TZۄˑ|gk辽a^y6۶RX^Q[ovKk5Vwo-OkyKGfZvs]C3,Y8g%wbL[֌>\Qi{/g{	|`Gkf.S63t[iN[dYJ󣠉_DC5RiQnf.IsqtϷ]mԥk㋶O"vyiz=l&pRXNsϣ&,}px9R}ѝ+zAMgگڊEt|w̞t J1cWSnzo<vyUO~l^k뉨fS+|7PpDq߶EcCF|4O׮Jocq<.>MpS<wtZnUz6r}j~Vf͂s	tqi^/O??n)Yy39}5VݺG]fʏ+5slv,UTn^b羣[¤Ofr܌|jGٯ.NSȺ}]aJ_w&60e뉛n.snIoDl;v'gv/7Ē'F<ǫ=~kw~L<='̾eղEWquueP2uOj`&8ȡ3V}lҳ"~kpuEr߂	<R[_szޫ3utm]l>+{.ݪǉ#10ڂ,@(ǪM6@٪&JE'E
-vZL%Ơ_xVg%Mxq1ƂaRJ&k	.	R@ھIfrtf7R!Йo1䠜r9IF* fbȴ$~[ {,I6u<zMx!Қr͐DF<UA $~Ԣfne
-z2$AC`ĶNhٮ= ݁bcAxF57M'vwy2k{_'nI|%][Vg)#6Q78a<͹Lb	+n7CoڑXk!~ GP6N+A~|IdhquIëpW~x,ʵKI*
-F',azgH$ӂ[l&uіj0SJWS `J%B067r{AJ]VVYZ]au3lJf7<+H'+P˱ hDcA}=B>OpO%ld~d%d9%DQ}x)Ԗ2cP0wh=Bn8`Ug!ѿ
-R	<@	ah+Bu/YI,-տ
-7.,!o4P|<H#اT
-CIGq(<pSdrXUE҆5TdJQik?HuP){|y} )OM#_r ?-pff&=gU!~IFw;gZFV-U-	]ŗFYEi0Y]%4Z
-Uw+,Tr:XƕN4e9[$DM8`a#(!h!:bG"u8(j	'D u9&dCE+dKj\dYZ\*[J5HŰ)İ'ߑBЗ'QfL@kOR}ڛf8"§Gu,"@:tb;P+?5]R[B
-z?0]R`B%4.tUtp0
-P!KEgĵ&6a5B!XVTܚǂWz2-
-c:lR9҆  kHQdBU@c+G9%ta Fbkx'[pjMzEObFK*GM&qBmͱd	BݕA5Hm'NżFOnF/wbZP\i3!DKU0$Ikz(zݧs5Bģz'>"ϊ9@W _@wDVULfHHB'Gz	uC˨. ՗.y4Y3:}v:%m
-Ax^#Z|hK'(S(sFւ~k
-*SUNAEߟƪ8%*	2r%؏|MPU>Ozh2C"u̓"c<WFI*L%Ǩ}dPC~+&3jAxb8iG*0gBΌD:#!$,e޳`tR	jX9	X\ڏRyWX?NN}Rj!%%~T0.ӺoxbȬkhĦpd	Ϯ@McסImbKI^VAA,R-ȞJƍH8E={6akcdұGK&
-\oG+P OV,Qn$$YTb	fI#gʦbT\m$B"l31R>I#biZrh1a0\(1OM(Y9Mr^X0lN]*0a8
-l[e :Q⺃2k6 %d _>#Hr)͠ˇ]z沤oRxmK8p Q4;̆~Vp%}q,f%ʔvк>r%Ey(X:
-Z%+Ņ=JfY6Z03U]r$^zhO!X[/wը<!/yC$X7z$EO*\Nvdt#-_Cō7Ĥ$Q̗&=i)krx 'nށlg	8a2xBOmm!2aH({D܂$/zsN5QHL!DC|~u:I|BVV,3CAy17|2ĚVA6:qqr:uxP)5ZECZ^<\[B/1x֚D5Hm6(Jά	ȔERVȂ5s9L_gAR̪Eݫ5#5M2Nk{Fx\LhmF+&@'jryB-&%#pзIHJR'֌\Z0R$	iv P~s
-,4)9T3!v|"Dn1딅[,r&ll
-[apגfGIõzxSCCN:EbL#SB"$rj$g*&\_@z0WzU%.*
-q$߃\IMx7ֈ<*l8L9$^%0[I2HQ5N5bT/H0JAR8V3A1iR3aU+!22a#%Dv4Il-wj'Dǵݶu%V:SkTug
-/|)^?*ɐ
-$J3eRlxi<jVWNՒG3f+/{z$̃ʤ3_JH];?ap%S<0vU6DXi\WS 1>Vz*[trw|6=/z( jU	NƥxÎ^ڨ*`񐘥d֗[q)b[KG(5l#-FQ螅cޅ	4DlA㤌 dD2<!
-NT '.&$#rcɬ0E#P$[GWdTƠC(ރi%r9l5U4ѐLm>q'D&X3wM<rLEb!fd$:E	!mc.4$G}*ĂI!:`w3P>,0j~%x\LNbPXT,]DfJaM4F	wY<2EJŋ"ѠEel"u.l4j3	<
- .xS(_NPnWV@4m?Jq,l#%S7!lJ䠆YVI#QYjOŪFMcE60ːQGI@WiOQ(lYNcsK:nUJjoáx];ueJÏamz9}\[L\&3SQzH(Yfu	E33t!&;Vv10QJjȓ|bD]Fta..CG>.W`:c?m/d.+`"qh8YkrW89\;(fb0rAsMpua//XFT*(ˇ}Xg	+7{\m&D, O\,J+#0	-"Q78f_h4)c_%L)`pX'̜!D|7pW¦hqqNge#'ngT`іTww]uBQXr!upX"Ğ#S$uQ/3^%BU	`j.Ʒ%޻rJY+fVCɬS,NXťԝHfY:X26Ox?	r=	F)@)9:/IO:kxrd*5\mK?a-ߣ-iS=}g3Ht1'¥l1Q@IvHhL{DGÔf0"'p7(	"<M`,!V<P"JJ#gNSDgMQ:(B0b>nBgxZUЇ a)LB1pRՔƴlѫ3Ab0ס<u$CFDnFHR!aD[Rg&4!@#p%8K21C
-}9LYp-sY+%J%Y݉i310Y`̜C;π~oŃpQƂx1Jj@tj:*;2EKv&5
-Wbr<%qP-jÝ\B{f<C_{a/@.yg|͕bshG=+ R!
-nz灥hS![Y$5W	bZ ^>yB-8i'sY䉮Ug1]BRJ#8_,:K!%ZG+I/Am~O|.%1JVIi|yZH5Z?i|dP'TBURK,.vАZLk$!:=:܋z
-9''3UD68 %<Dc%x-w0*9)qOo(OGĩxU-qN!(p<k@Zu,sX>1Pq8*Ov]KR#[)%/6c!JNL4˙9ܦ]C22idT2z\#gTXAk*ph<*\.؁;@l"_) 	KqB 1wڸ"w#0bpdN4dHll'3q㙆zGE:ti
-TphS9,9VfNdzI
-.|s##*^/h;I 1.n3}f$չQdpFNķ\!e?teZW|
-^wgs`u;Is¿ea Q%J]VBw񙇛je4(~?e>S Gh0^fuFlY/fvgsPJ\-V-eiXtL ^OA<JbOGf4j8j}
-[6:s?jGfPI}TdE:׫OQ|#9qUUdEt2f!`_x-PG~nerb$ΜbSUBj'
-D$lrTP2-)s6ML8`amM	ݜӿlH8xET_8:}[k,F!?H-9gK35˥KF/2B<.xDH=:eP58f#-Ԫ>ddnYIx0>3"M&42444͜ZDPKz6٘ԈOJh3p
-&zGJb;LVk\Wuڦi1iuPXa(3$N]AnO&,>fi Ǹ	؏еmUU7]x&G&^oX5nbR]F=j_Scqş#;|9a?8YTˍfSn)w]Q'j19Nl`+=рwZ]/Wz<XR_zsG|7l1s;tKPlV4]Q kX4xwOӱIQ:[W]i=⛠AzLI{̭?;T>m]wz/Mظa9r/_r«oW'{gk|7+$e+snw,|LD}x.viRsOU5Wkuս2o-6??_m 78[vmo(ryި״Z;|w_1_ <]ݵ?~ӡJO͏O}wصrRovtC{|%lu5Nٯ[|M0wjeַg~C6)&[7yU3gg,x7ecױzJX8c[36;mچR'ss$6(N/)sZ{f_Ws[2&7=O|^iI[QG.jl0&#o.T~n%u&v>EMx`+يU9;phYl,ٿD[bNop{5zp=u#'m'm&߃[oSNZfi'7-]x왐prw?UA0>aip1L/?_d[O7 Mp`еޛxV;nxZ354YnEπa=IsǊ'm29{˭k۝h_bFRJ焤,?heO2E/x^k_>֬Q_.'+oSR|1n\L~ooOJM{>r7G~.ERgzuNL|^p.۞/'Ny,\V~~d=˱ڝjnUu}krmp\:>kp}s2J`o=ʛ+__ǘ򈓯O4hcЫH)U+MN_^,m*ho곦z?>dɗjڏ>m[mYUtm7[~{X}r_\JU>-nVE:iߏf7/]6	<i9\~Yujܟ<e?={v+)saQ+X\!l^χ9O>~}p	
--df9W#ޠ<l|pTmG}{,ԁ/珰_7w{uye}pN+,yH!g~~pk'Uk_ϖl0z=pZB[6wR/ܚZgo_|"	NߏiѨ02'O7LZ4Kbabe[)\~34tPZt\2|ue oPҁǾCP{	n2ı+{TѸoEV2KZXbq}-^oeRME	{m>O^[I?(zh?;c 9=jպgx{@ΎuEڛtOov.iUwd{rA7pM3_l0@e_;'V޸-'M>cvƗ]Sow1\4wt7qeN
-b?Gef{wxʣ짇.U^S7W<7<ϟ?^rϬ;%vpop9-oo8z%tO״͝e?{i˷v9˯/-n~r]qϿy`b]_+~;o^/}(P	Ek`?ǟ=}t{uex5o<~,Wkji׉\p^H;a~4ֶ+kTs3~dZJy[~i4_iXq[TYeFmW5qwxSokm?7>UΩmB|k-8׆%N7e<`~'}n.]i/-XMfOovT6e6t̞g?5~%<<:3k_f~4~Q88ILZ3_kpc["_9޷_pR__$L/\X9vF~8'~yy{=+bgbLZGn7c+Ʉ{toZ]\Ȋ⋾Օ=/>P|s̈Y3k}Kd6.Vۭi7Mͻ
--vt^t附ֵ7)Vvp+{YM_7+4
-n=̵ sw;;%mZd6禡>n.w^Y7U	h|f$ryPb6sNqdWS9S8
-]vkBgᚒ(8¢Ǧm[ng!j'+22}$^ݶy;_~g]߼Ts^יjl{ UKw#.<Nig{oM'}l:\n;A	܌Ml3U͟5\ 7PpyT e;cdys>?<;Gw3<د7%bԩ	`/wiS]ji޷{7Ԛ~߳\G'P0zd	}ۺ^fX\,fPr'zgB_3ڒio׫Q6woi3zu]&xM^F{^s<x?><=O}Kä>su\gQea\\11k'*Iο7/Uʮ9.o}ͦu&mZUM*zH礝b'q5z6X>QѶ#[[Ӹg`apq'=2<} q`i^64r@UӾ5X\rw?xc'L*}wv<2=a]g:3DkWZyGSSWpa7E/a(Yr7KF[e;pso;=<<?i~̠UI%F'k1iѽ+G^l\˃GMg0瓶4X2«5;{n<<Y~ZYap{C噧g_~yc _ϗLyb0n[uV,6O}8{ pcļ_/m:FD:_k52Kx3xXeĆ16VMଟfaBdėi%]M/ۖW/N6CK|չL"xO*ܨ	ڂ_~{Vg^ΫO WNpeo8p`+ 썰&Ñy/b^Kzwo?,^̫ͮ3_Ql*aTlX	6O9 u
-G)؀S(J}PTPTPTޠPT&(5l
-VۧPT@Z\PR(TdjBQ\P(>W(~KПH`)~-;O(MU!BQ1,BQ̿@PB>wɲ$M$ld}t2͋ P|F"a$,7ԇ4viOF,?]zŶ5+br+_l%<t(_5\Q&֬G/4ߚIb,]¿Z鎉}4|YFј|TӬF/GY>GɃ5^'N͔	)T7 Xfd4`4홥O=E1/||w۲iT3SF͜o5f=ck>R5gG^RtO	DiF,&=5S$wLkHɈσ^EWoq"؛k`efz\k[ۻ/m__	vmDI?;:UUt爹`ǳv{+C-f8:Sv΅-YpȨYw$ ;ƩKT+L>e,plN
-1nM'O_Zg:K{G=yZ/wgsUU,&$䀵Çi.+}1J]N\:d-_6s_yΖcXF	`IH_&-Icm2pإQ&8pf>Vh|ڦ\~i&v<TOgx俙Ͼ԰P>f䞱1=s	+?{)?9su'fɞZe3q!Ҵ8/#+jʱ,v[l6!C޲ҟ{gekMZc.a #Qx S΃}u>w&&=zJpF(HގV:yi3/8{k^wf`JU0;J% K߶Hn'a"?$撵dPF6Οކd.{#tGB::,(<2",ݍй$t=נ8B"FaÅt`qj `1#hm]姬^=|3(x-*E(Lr&]r(`lֻ74s'3i1.4oϦ
-:T$ۭ;$ŗ|'d$e?Nfa3SofZ KtD.	^.5iB~cWC*{jTa?8M5VG95fl՜k7Yq2M'ْq?ȀPlxYoKbi~JIg!Ö!Hµ&o[B.x5JUaZdao,1L"8-dsp7-mi7q ,@b!#~
-vXFk#䱠9YZ;4-w1rZ5F(5&&QeNU߾}L%h8p
-p+Plp_NE|A	$]ɽe\A sw?>
-*]7t
-,U"5EBp!/Vô@#Ҿ.^/
-J(7rr B#0iI$&HOaJK<48&&P
-3+!	
-bN	.6h/VZNT(O̩f1OO* 6}OpxY
-=ϏHDL/.oZlt|<Pqz8[mugkꅵіr=l)Q 0N&w͝0`9;a.X8-z\X	s0V"ZM1Gkyq@* XDD,L?&NwC 2N`Mwr28d %C! \dZ{IU9
-H|G(AߥF-be!ǉ+R9S}"T9&L˚fֳ˼L\k!pg#p.Ukd)yA~z{7ߗluߦJI4Plp<	Xz#sLeb#G~) Y-[ЅQn|)\nwMNeTQ%#h)60/QM}QѤB!O݃oĭڜL?ܙkv	Fbi3oYDѓSNRHrq ca$$޾kM8ܳ.OI7VĵY68*%<? \pD,=;L!qw;p{a-.	D"gY
-*Zן2e-tO WM
-͜xL&N_vS@&QG$rL0y͙RA+I #;pp{ifkNV;zS.pmZ#?Mj@&:&纸8WVqphpT0eʭL%6B8&4pqM%X')JV|~b>k9b&S*JUD6qKOtST3*\4gvP~ΜC.\,+T96R_v)(LqMu
-~UK%u^M&]T]El`$j*⎰ZLC:
-U7Bᦦwe$$RP%yVZuP(NV~֋;ąj-""=rqʑ"yPB7I
-YǼts8g+'Zde.F߄\r<`g/v"%]Rv\=Cq$P	d4·Uz^x*WwSrpW)=>(uZIވ羗5֙
-QRUVZ^1{։B}aWf_ b{Khz-n̚nopJ$O'iMgFG:aYIf[*&1h^4٢ǹ36Vփr-o%yy7c_񎊐AND	lHCX*OpűYT'\-ԤCEf9F2zg<捤odE&ZAtu'wp^!IB0H*%vVh4Cd<UNz(-3BN=)3[W\uxS'/ȳx6ޕ<[!sY,gMK3;A!/A
-Ap)'0\!}LL	?P8KdH]O䡚bU<	{+z`t#+W{	DWlΨ|g;~tCwڠgYCwEvOw&ew@wGC.sxDS_ğjog#/~vFOA]i<mP|6g4.\gPz.ďNog8T?/Ѩ\}D=2Cm#KJ'7DPz\$'H#>3B]_rNUU0$-Pz=:<F"iJ+ ȿ
-Z>*{/p%JWJt,QOT'޼zQ6
-S@ؚOY^!"Oq>h`*ʻ2:AtS2(;df4(zx4EUQ0m*ns=j.WܕO_Q}}^\@_ms }^S=݃Jl 5|"yjL绡t/T4di~u[J $o<SsMOՋTAM=ݮ򨞞wz̕c=/+{JJ]-X5MOLJ07}:tzF4_bkS|a<0O Hl~@7Fk<~l+[ggCjT30~DgCDS)1z#3(j߈iz.S/OOq^h(FZ:JJj00=ZoӡpyK5lZ7hMVubChNo͔e4DKbōYT]p#a61T-Ƣ5pn,kYA۲,ogN.m"-,\&H[nKY~xk-.;,`!;Fآ>Y8E(󻥙 &-C.\V&@[^vr1Z;`I!׈T6MϢ*kfxv$Bޝdbȟ#ܔ1.1Wn*nIXε=ؖש,XoHI:m<9YjAb$ZSLz8cֱPB)tLu$1=ubА)z<O-lkcmqŎke1j*7A`fQM/={G=Q~o'DH˃{ϓ6ր`n菞D.~ƅj"C COF5FfAJQ`,}h&kQ~A}P~_EŧP~?CI(?	'$=QsГ@?^^^ًU|2OF>'#dLKw#>pj ~  t|:OG>#x#7"x#7"x#7"x#7"3|@>g x7!x7!x7!x7!x37#x3/]̠zCq='fG솞ѳzDOff3͌bf2?N?ф~֡:[~o;NES4;6(?}>^{.BPb:u*_LSWP=w`:	ih	[+}Ͽ0++(&%%$%H;P/ӝuE)s4TQHIyxCjkpdSձ	M[|SIl _(<v`-U;zO&bxBp	$TVx
-qm0礻yO{si8ܿSJ!҈^d(.JWqe$!˫Eq\XXVMŝ%W#5k:'be(fIͦTkf"#98^(,9ny{:stdXH|K}輥QK$YQc{7`M H']Vݻ XNُGnE_JmhB`\R*8Y'֒jv#1iɐ%1Uĉ%8F# e8T8rs163pBCmw5a77`՚tx[zWP
->f.stF'0T3p5 [$i =^)?K3?H˿f"w+_qA^չ y|[2:)RJ#
-ʸ|YbWK'*,O
-?FɿCL1>`b|s>j%a5gRLf+T|n(гR%HTju5-~[ά	ϪKcKGD˗	Z " b1[
-Dk^Ь#,x&Z|k0d!HQ*|΅Ar"#?>맏Bb2,.9D1kG4 IpY[iBj$Grdn]"ݐUab CILQ	U1R]L4~H!a]RKuiZVgIq l"atڒ!*,`RaO$۔!40vIWV	JEhD= B0\,џK2D0Ȧn@%ּ΂CW)\Z	P(yO't_
-ΫHT7c6P_Jf V9ZrAv8.p#T^;ŷnnStVi5>3>-e-"8lBfC&CK&sf(ۀ
-͉<p}/UPSȉ0a
-BagU;c6}gl|!lY'3[u:OIj l5}JwVaAF򝱅#,6|gl6܊*,6~i"7/P{{߫j`93㛳0iwe}@^ҬP%}TdHjD{Ov)lxxt\><-S2Vܪ<*PK*3X>Ia4O|"lQ6xglu6i[3|ZM'Q^CsNW;oSQP_++>o/oOk\
-(o/]eWIs9CGro[g?~Ѽ.o	ߙnNz
- O\C"reEω<T0[
-
-׹̔lm6p+JQ[]qxp7YH'7/i{
-C8jdcK.YpIYWjcMpAm	|R1dH}R#=X"Z[>b ,1fgcIihu8&?xqϐ-~.ID񅎾L:>B\;BbH5HEmTQ].pmF588VҰtLkŒ\fT!9JJ$``Dg:6p*O RG[)'5l;&<=n|^8aVg':z7J͖	֤ZQg/W0tfcN+1P[Y)*rR[hplG<Z6#LB!*g9,r
-*d2-])C v4i$oe(l,T
-[")J3aV Lh/a(5`A̜G5	5R̘VO\EIq^zs M'j:\ARɚ7,w0NjcIDXq~-+礑]Ė3ڍr^Y+b[Ng`L	lDow-! PJ6R:ZAPEC,Vf2tw6H"3X#EtD$~7ÑBĂ;RJ%@$#"D!e2\ĉ.<Ut=GJd S.RR(dY!&tGv[|gIO-$25vp"ўXrS!vHfHBOThԉ OG<nŰbb/Sg+n<镃\*NDQpCJ!	ˈ˗5Ƒ'[rw6ۏ	X0GfG\.ZxFc@~,<!sí+AqjGp	.;\-|hUQZ[Y8jZ=Wn`Bn	.24-pt3gqd Y'3edm I6K=~+9/BScp=VSi36l̹TPQMs(xiFV.$|TJett=WCqueՑA<8W0yV\G'	RQ@i${1WEwyl]""G	lIkښe'3mhZ~(P@PlH˥!8$P&$.΅pKδ	[svZvm3V#tH:M0AIJ*⟊]('spi8۴v̆s5zi)zc>;Ĳ神nƖMKˑa-^6тzޔvY7pk܀D'j̅ZQ	M/M7ʮԢgF]8i狒cS|`
-;a"P]UƺH~.r((  vYQ{>1dhOqlֽpx '~>y45rc/л+ɍ}^j^PdKTO4YAQ4iu w:-a'ngbqv%as^iecQEXn3Stp
-ܮ@$8ri%c5 +Zufg$QB`T߁	YSQVu{Uۙf޷(ʑTnftpZ;0 :QNӓ|1y ly8rJJ
-DzGڗV좵jg-0"iƐlzkduK!4ޓ0l+g>Ni~z՘<ܒ,
-Ψ)E`_ݚ{@$(dy#ܸ66P6YL5Ԁp5?R@egv(e,Ң$ՁěBb9q9Tc&xJUvNU8eޜUʐ~YЛ҈Ľ?,ؑY?WxZuDƦUufʳ2xwq&bUV%DMZufH!"ưv7V,Kª]${!0g|y|9o>60Vm;[!e mk/kN+VlTvVak9]c&mbB@YZ5pHy2Duܛbd{U۪[Hy6pڜ@ih$D엛BNפ&K#䐪	T$B"l0ȅg`K%Y1Öݻ[ÓON[~gifTt	#PM%ˊIa%Nx-ej35jUJ|G<LkZlx8-dWn	N:^^bH4Xkx@EY=Ft9%ֱO	+qK*#	kihECn]/BlE,TPL%j=J%JEBk0mEeu8҆(|7cr~b䐧>˙α+aU{mг*oT*lG|'w3Z
-Y$;k{D^zmG^:F}J4'}'w>jԟsghHô4ARyiT5{$x*d,r1BsG/dN\O
-J+iocbX}k~#ځ=3:.v,Djqh[ka:P9w3*9[c{ԍE!:nt{
-jy:7tgl%$V`l%[	VV?:B'Pӿ3j8.2橎LΨLx6`Lhjӿ3j?i0`ó)LrDB6Nݛ> ݮ##ʕ6AOr*oX}v''d{''uo{h-b+)z;T9aCO`ɇB/{8
-.EB4ȑT|ExDL2cbv3YZym!ՈgGh\tV +Ro;ח$z}&b>0SHmBvZU MNMb+!uc` shW)m`|%4cX
-"Zq@ (vvB1G#s.nvc_H黈=A~xwS4PxLs.OC,Â\3W̕<s%\7Us\_	7ges١eV65$2kߋ⏖S~*GROy%pN{Wϸς{MZr/J.y_AruR}$pGHt1)p/I8+c9gx|/l{ }JA66%ϧTUg_a=M;oqC$j8LƲ*Gl6>\Ǉ+q˧]Laٺm=t͖j]m_iFɖocc㏐"!|?bC鄣KyZw痿87_1.?O@<J	/OC?!,p!,Й }!ݰhIf|ʖu44 Px/#̕EnxrcQ/.!o_qY5  
\ Dosya sonunda yenisatır yok.
diff -Nuar rkward-0.5.3.orig/tests/graph.png rkward-0.5.3/tests/graph.png
--- rkward-0.5.3.orig/tests/graph.png	2010-03-02 22:47:03.000000000 +0200
+++ rkward-0.5.3/tests/graph.png	1970-01-01 02:00:00.000000000 +0200
@@ -1,115 +0,0 @@
-PNG
-
-   IHDR       )    IDATxw@S [P27ZjJ[;lmRնhh.\u2DdHB#1$!^K/5^L&Be: BaF!B,	!X
-4B&hb)L!RB0A#KaF!B,	!X
-4B&hb)L!RB0A#KaF!B,	!X
-4B&hb)L!RB0A#KaF!B,	!Xʌ #ݻt!ԁzyy4%ZjڴiLB  {vv;XūW^t)Ӂ   kooipF!B,	!X
-4B&hvPQt14b)S@	c:	Zu57o2BLX-3"##ӄ	ZF2q LЈ23ao)X\\ 0!0A#*/WW L&h^.ȑ  AAp D&h^	rr!0A#?!  bA8LЈjkvvLЈJJk`OL&hRˀ \ȁL&hRrAAp6s LЈ'h@4bFy%>$D&4bV<ث1B!.]eff}||/_^SSC, d@7p
-25tTTURRP(lnnNLLtpp7o CnFƌؕ܎_	>>>6lׯ |֯W<1B!w/bqAALB!XZ*ǚvԐKбMMMᕕ@"/Pr_?(.&B!7}vbCKR)pq2N7Q}LEEdA9KMMhqF#G\t)3>a2CQ5Q-~B// &tXX O>O>ppٲe4eΝ_}ؘRW/[`t1!0Eqq0b>t(ܾ*%	m.^ѣab`S[*
-< (L&'3.aJ7yw23`41\(C, $~ؽhʂu'@e%hb}#GF, $'v >RFB"|u~BD;w\rzIĮu;L͛9؜-1QJ|A/Z(<<rΝEӍ-*-9&Mb: &1{#>>%%0Mt@ VF4=`: mRWW07W<p!#u546S	ڄt]ՌpD"L++hn? d2M+$mfӦѣzw.
-'5(+kdw꫰kـQE+}h"@m-8;30AC`luwsss`@ݨUp%g+èQL&hSq̚䀆-A?3HIIԝ3y2HD*@iWW9 JKaPGe:.0A#G`ƌr!2 P7W!ZoLU9s
-Ŵ	 |NL&A0X;I	h9g)t0̞ÆLbΞGa:a6~MMP_}|3L͗p͆jpFKƴ%%L0L	xqMO^v3WfݡC0g `fޅ0z4A<;p 5wTG!3ZZfjMX˙TWJ
-!0kkG<G[@\Æi]Z!D"puȄAXAt	%&j]X_FM)Xg@gG>~d.ӖĮr\\<v/__B #>fm!;Km]Xk*COЯ߃#\@&\\4H&hc&#!/H允p6tbqAWW(/g(ƪ]a6fZP믔F+;zsBkg9#8Lܮ:'h
--o3}7NC3";BLF+=FnqqWVV0t(9CiLhɻS^Ju4$$(ߴk$LF{omyTxFЕJ!E\iGk';{Ək(
-HptP,qx@m5m 8eC/?DE@*<-g%oZJJcd2(*OOP\^dIkkkiiidd݂pg+=t_OC\d>1`(8M歊A.AرC"K...EEEEEE{^x1 L
-Uˆ0)J)=!6'JU>\	8M'RRRjjjlll  &&Ņp  /<=A fE`j2TT@޺jjga8u'	7䥦2^seee/,--I`"]ѕ/RB,XLE4X{_"@m-8;3j	W7nx Ș0auwLF倯
-?Hrzov.^*15bt5 R<O>)))k4H+={V&wA3gsXO&3g-v-Q:%v AA:bĥK0bDЬ=a4ؼNNw}w^z֭[}||p8nnnnnn +W(˓ThD!33:Y63-w CZawQ;L?L_*70+fD,v&o͗Qoc	zRAӧ5/8d\J4M(llC-wГ&MZb͛wߝBS056888^k׮UF+ժ;;G|(( oojgwWpp횦,,Ҟ'CΞGa:<=====w0itx5عt@ >Virs%%)W**_ܼ~,WUU-]̌'kn+:Dc~1HMݕaNLԨQNg4&0Ne޲e@ p]TTURRP(lnnNLLtpp7oâNJbU\3l 99!OH: ss艺}%Yz^)==}˖-|>_ lذ!?X1xqz/+{75C骻@_UG		,ڢ1yUBi|H$
-
-֯_O%L{pꔾ%V NHS8_  $2mIIl_-2A_uKKUWmjjj|'Be%YO~O>排=<]pq^eMe6 4rҥK୷<,v9LթSt3R`gsЯ\O<AYH|>4XIޟp`2meeBAtTA˺!ҖVKԯ	/:ՍH6	KvX@!!r%<<kZZZʊxؼlmZMN]\\<a@PXXpiRS!<Eg͂)S@-Kq0lnN[x<NtQWX1}tX\[[5EL%x(t)gi*
-W@wbs﫣Gu2x0\Fi4&/?ߐLiiiV ++{BZJ5Io7nj6ywڥUU傃/ih4I\.cN@	Y9
-*Á]EM_r*Bq,Bgul K9׀Je3f̱c 1::zVA$o(%[oA^^'K 5{agyn,D-ӓ842Ao߾}֭|>[(n۶dX̺qqp..w/"TVpfNд{A$ҫ:
-/gD
-ѴSQ%888''Օd4lAM$efС<` |DEѣn1-'_A>3dPrFHC5j?쳯d4lf̟))Lǡxfo(5z4&t,cR)bdA>T&_}ͶT5ii`gVARӡhNY`XV	}dBf}7|';Jjkٙ8[JazS<eݻaaE{;kQY+}@i)-#	jz{CAt5 G'C>@~.d:ea7oB6TtzNlu-N[ha-SLWMpKeD$&2POgeiK~nUlDm]\[ܿOَ5[X>\q}bvsxLauH`x5P~;Aeꯦi!:ZB!H$`cCipSLHIp
-+_੧. Ol>GfKvu)/kX\+W_qYxbxC>@wkI$㏰d	qh $>yD"3+)Ib1Po_HC$$<}=΅VJJɓf0AI,]l0s&?µko;w轄&RSoH4;xa-Z=gk=HPLd$]6)9-¶mLǡa@5-*x<V:p(&8GBT񧟆h15,,XD]=S_q~46\޳իa@%S(ק?tJU꫿4m;N_~	.IK3tX}Ǐ<aXpDZѐT
-G0*jyjG2XB?aG;Bӧ} B݅|ܺIش^[Q?Hm~n6׃T
-RiǓkLmk:]S@t4z&{U0y2$&2@&NeނB(@CC& ;>t@$
-mm_X](x^Qoοuw򿣅u$:7XK$U8mi6p])	J\S8Vꇏ[[+tlm ! cfG6*ujl|h^I$N|*|)ki3=`k[ysn6&F_͒e{˕ginޱҲcjV1]SCZsyD4Nnoxf!ϒd-[*X&: Vǃfzeoނ|C)urz;:+u&wa[ٸ^={믩NBƑkjX&_O פ5l߲q.T!Rj?<598<HvJAv&A視\[DAZ@OU sUM/+A5̂xSjݺuǏ/..p8O<ۀ=ڎ_ԝPojJMs֎tdA"
-ȶ<"2p(5/ϧNjeA;J-OO07x/vJ{|1p7H?Q	*4B`z6AZlqr#G *
-jkJvQtTT԰aÒ<==e2Yqq={͛HߎM܎)φ|>X[WTq-v踵KyyЉMpo ̚EW+د.ҒW?E#!-Lr/8X 7VQ Q*tVVVHegΜ߳k}||6lOjjl٢;K hP}gcj`bcIagut>bt{ܹZ7E_arӇAAHʍ*'Z[[,XBCCE"X,.((X~?MJMGGM[oΊңR`gGb[;捕Dvź˅33X|~>e%2A_t)33sڴiWRMMMᕕz->Pw\.BI	1):ɥctV
-~Q2G}!!szLq8ٳzbtvv޾}o^2ܴxɐ/@[L=sgƮnpԭmG^bHt	*LJaN8yRq-''3RR`f*c;	&deeeff9sfΝ>,ɰh;vokI)z@J
-@߾`pmJ[R)$O?atj<,\	3gBf&xzR0 STA\r޼y `ggwɭ[R~m=UC:*c_賆 /OkkfGƮnE\iʰaZ.٣G)pT`[ͨL,rSW͞={
--[VkQHM?嵃@ԙ3MAQSXL[0mWKx4ILM6`PQL3x=k|}!?SRW0s4`VX8؇\ZtY|yMMˋ>뼒}" 9땗QNC9}{eee$
-NjU5455ٴ	֮%zE!iGLr2\FJG&\NOO߲e/Ds!$D'G+եK`kK cD4A8A
-NCl?qF `%r	b1|9|KOrF].+n^A"ѫ|ʠN>kh8s4p*XZB@ .\G[Hz`Eo\J$%ApvL
-$X
-&S'&F倨;ܻ_I5
-22XI͛᧟Ō|'5?%_.H~Dl!GBjF@iww`1cN99Ce܈иxdJ&	Fz}ؠAp\
-Q6me=0v-|?Zmhm齊) #-Yy4<\}2s+3{CYc*ظoG]+N*YY:a#8}^xҰ5a	Dn)ͅz1M9EJUyzG8ra
-曇Zr	vv̿gƜ@k޴	֬GAe    IDATkpdg(&EEп?p
-e/ 9XdksoQ]𓢆0Ak=P^G2i
-
-˗iqrhWZ&U~"˖k\_#F>g=G'O23 \.ڪ	,\W--!*
-v#Fbb)LZ<Y{Hb{HQmPS}2&4,!ܹ0n)%Kয়TuRr;&h1'z5c" xWZF>Ǝedi2]Wf/«<W/X v6:pY+TVrrsXNk
-}Z`שǺ0s&>DF0+CK)MM0l2u1r$e;VRxmғFgR5&/"#o ,x5;S>k.(عLoojFC-Y骨 GG=&%^|~t_@A3&h]Aj*㔗/`1\zAMTTP9&7>W`J
-\	ZefF-ok|c	Z٭Z61#f^yvr@2={}:>6m#GtY^p8][{^z	k4jƏwf3)	|oo́Ç)+$Ba!+fΝ/p萎)\X?{I^~&hMɺ֭-[&Ip85/[xx{`~}4$eeGTi:0Ah(8^*8;SRk"ʖ2+7߄zصx<FpwoWaVlL	ZG|>88@e.ͅgQݻ
-C!8<<`mܺ9ӡ /`x0;Lкyʕu+5?NHsÎR_^Ԛ:֮wޡl@VťK
-e0ANпCBp0!{RSA$k{QX1NסDAa
-Gfʱpv/o>' p^<XQ>T^bRƁ\^dIkkkiiidd݂h-N?__5k`ݺr鈼W^wW[0hEѰXX>e/O<AeH\ޱcD"y饗\\\zxbbAiO3 3jӍDi@,n|./ͅ͛$HII/bbbN<I8 jM)W_ҥm=q$7ƎJ> H;w@@OX&h(-vUUwwr}<$RGU5zSP}7kΊ2q\XXo @FFƄ	/_N, `bu*HdZ.FfySrXƐL+={V&wA3g$ MLD9R9o_|./D矇mbS?4jXV|'N)!:p܆
- fn!%E	GB0jPO!$D'OaWpL֭`kK$,:T#Hvv P--11dcB=Q!{j$&Vo0BGn0L*444HIGgad%ڰVб#OHBU
-
-:y@t7=%i`2Aw+f.ɓ1%	vr=aI~[+W*Oe!#rɒ%xfff˖-j~￧)B&NT<(&O0D[lTsh^{Mvˎ#,]}fJJJ
-͉# }V,s{7L ~~ńz"ĉb1ւ+1(
-?D@GzzzBBi<6׏X d;Jؽ[+Ew{,K$  )A1ؽ[pHgCCCE"X,.((X~? hP#:>͙i]T9yo ֮M:,^tlllSSSDDExxxeeell, hYYNKv5@jc?w  }СWX؋ۉ]0wo_XiftuLŏBi)8:O6,sA*JxE1]fgp&O7nLG4̙p <NbQX0c3i`fl n$HJ^c:U?u
-'q#nB2CF\bJdJPX3[98AfrI֋`@[>N!Bb&Aggg3r]8ӕT:uʤwx#qÁ(%UL4bL "БZ= .=8hZaFҥ=*4*U0A#apχ/oބ FB&4B3 @V02yz *
-bcA&'aTA&4BXXѐ
-
-#C,<F!xA#ӓ Pw>t Nq kaF!B,	!X޽{>r
-ӁٳgۍǣZZZ|>;r+#%VSUF&cjr	G&44Z[[
-},X{Y[[3o!!!f:6:;wϟt lw}rh2]^ElmmǏoޔ9aƏt l a2Ӂ4B&hb)L!RB0A#K2; 77Ϗ(Xʊ@ب͍@H&'4BNq KaF!B,	!X
-4B&hb)L!RB0A#KaF!my,Yt8l!Jb*06"Fq 9L&...nlllllܺu+?0u[nu=~C644:tݺuLƸ8._r#Gjkk.\/ȏ#C:$$?cLG
-GQxW{zzd3tw\BBnjj?ᝃҕ+W[77wy:..؂y]mff"bX,f06uw5k۷m*++-'hPE"&h?.:y5kƌ_XZZ;9f/   |>{qqwIId2ٻ{}wg;{L,oܸ122k{={L>pXEriii)))g߾}YadI*ĸ͝;XD]]QQ1qDwwwb)b8.裏fE6sp!X
-8B0A#KaF!B,	!X
-4B&hb)L!RB0A#KaF!B,	!X
-4B&hb)L!RB0A#KaF!B,	!X
-4B&hb)L!RB0A#KaF!B,	!X
-4B&hb)3ЎX,wQ P.E<jժiӦ1B tn`	Z,^zҥLB  <q!X
-4B&hb)L!R%&VT0Bn)r0B@][!  LЈժC\ܬt 1 4bH{"LЈ22F-ɘ!`FY9u;D#	ZeKKSPvM6ӱ D&h^-V ]	LЈ22G  [5!%說Kzyy|˗ KF ?\A4r	:***))I(677'&&:88̛7X tAE"A4r܎_	>>>6lׯ iq(m][=!!D;|H$
-
-֯_O, dX7kݷ`[8Laiiiaa^YYK, dX22BB;tĕvԐpvv޾};!CYecƃym{7K\|g!MBfyU_9mx"Bqqqffs988b^C[K{sA<&tXX"8F5j{UWWb^QCQ
-<A[{9Ϝ"w"6T~i~~99ă#0A#6TviHAAXLЈ.W\:L ִC\(C, d@DM|kWr	G=X Pv?aQTB>B.As\y$bWDJEE8T&%BL!:hѢC볭kWDde	U-OϢ" |HhMeev1rW+q[XLЦ؝c_}ϽXXdY*YY(..@&)ˍ{HEQ^] 9	mrʛ˽_	yewnQtJIƃ0AwON? -{[f饲>J|TL2	?ϋ,ym'(Vym`5'8[8W	Ń0AT[$~^,(S]"Wȶ~d| IֵM	8]s;!@9Njh mjxɮG^{G-*-(YqMT&ZyuX9rtqϪb*lwЈV)E)LG	ڤn\qݏ/xVͪ
-qQID&dRq][Ӂ `6)q9qO?U^c<I 0܆͊o"n?"d22Ft0A
-.^P{6?$7:L}TĒm:22r_	 	h Gc+t$ȩ Sτ~&hSuJwvv$CRp\®l!;|w;@ :⳥l=&hSV6cYbtwfS&gBTlͷnmoe:KNwt`6	7n88<5tS j UWvSa>V}ʚ{3}gJZY㒋't`6	r\s@<eU+3YxH:s //6XL݅*3IpgsA~wtY9M'r^^w1RZ嵡tyᘴg:0A|wkw!.!J/JAFiF[
-t]sx9SrG  -44pLZJQJ'b6~)xbF;k~~SCL|n|PsK6ܛ$	(81{'qRPXVGkH
-Z%@m`!dIOO.k7uCtVBmJJz9h3}!uw6ުxy1.wKX`. r,Y422nuuDLP\NܜszIT`Tlv,M(uVOf\n\_d#]G^*H*bN;$K/RTTTTTԻwŋ4stL^bafz4M!uQ*}61Ow='42#0m s0j @LL LJeK%˷3,hG鈪}Uc}׫:vݛSSwޗ(p(+VUUeiiI2 Ss8pOКv
-h ӛEbaf99Cq BW^JQL֭[NLG=nܸ 1a˗kZ@Q
-M^4l5풋Ozb;F(`r	ٳUUU[l/W^M, SSV/],uDz鸜8Ȩ;͋)˩1Ԫyuy6wtH*JɢNqp877C@hhY8?"?ycM.J0$4/o"1Ծ*
-{B9!iʖJ7+7QC®RSSe2h)))S8xYC3~>#,hݙutYxyZMF`CmHs'~K&o]3rL&谰0U jkkp栌D]AE-宖T@]U6(n,vp+yBpyB̂|`m%Fb2A0b'޽{WWW3a9QpqA/ڽfRJϛ 5.AƫY]3+WK2$SRdPtUUҥK|kjj`R*|frANAp;8MR[{H*a tTTURRP(lnnNLLtpp7o LG[{[IS	%<Agɻ'JKe:.t4-|C#F0Ҥ+97{?HOOOHHr;~%lذ_~0.|mkRWQ2aݽ{6?upn5)CyWG1^!(@:444:::??_$₂kQi(.7)z>O3v";յs>/)Cyz=d-n7ĝ~\qLGaiiiaa^YYKj)h߮=y c2]Y(PN	hj(vY{>ˬӁD.A;;;o߾P"H$wn۶ٙX &"^~{>O3}gsS`X~Oih2u&BN~	n̸fy=v1j	\!%胹5d$tw'LFE*^.m{M:Hee5ڶZMv[4R?hK<LFb}FPG6ULpyxk8(81{';ri]4*k.stZ0A9k_TFU.` h3m$NC*^
-;Kv	ڨ5C{?T$J(-,-쿉|\A7jDe...0a@ (,,\paCCɰ.W\2\wCy(5vrANANXՆ,M``+VL>],;;;֮XdXHq9q
--(Je+[*un& 10	:.7i5?e
-1qu>~aj* ڻw+]X%^
-݋:XrgK9NyKe%LXJ"ܮkyK9M!8ֶPQ2As\@ 00&V-??>O~ӻiy-**8MC8M6׀Je3f    IDATc 1::zԩBZh\,]NW)dJ's9q{i"ٽt2Ao߾}֭|>[(n۶dXH[		y=FZČyvn#PPܮ)*vtQYn=!!d(HgnVn[D'3~'W}1(G^et=ˡ{Q/%FRH|Hd74O7wѫYbwknS;&UKCOҀK	g:
-(&hjć4qα>!ѫKJ~V(ˠ	BSq)',D#65I$ffͥ|kFc?zd_B4 :d0AS.4}tLG)={xxx444$bV̅CB\NJfYUYbmlxPRQwxwRׯ_|5k֐A)E)&9:w&ؙįN.l[-ax6ʇՓM"}Eŧ(QhJenjj
-Djqן]#kAjG5bkѨq3
-#ZvmWdo~]>U!fq3 XDS6|Gqh(5XnW֮3O,Ld:;4k@Hg#|;cQE+Vˍӿa>O?ݼy?ɰ j)맕#V=˾}f:|gwZ5\*+Ap!GbaT/}3*4xPrQA2Aor}$zT|@7n0Q?ajIY!=FQ+*^.<0:.pE%
-\\=4eʫ.^gQhAeqL?t^]H#GKa6m1Z7I(L8d k4aQTLȺjP/^vT&(W-5%PPB*]JJJVXqԩ<3Gt~YM_FxF|bEgg;t~-ݩCk\=C,|IREK%ha'uG|ر6('SRyҵF.fmg9K\T--[T,j(o|Q{(OhFY%CWwL=1T&课j	<s;SQQ|rݮTUUtR///333>|r6Q/Otڟ^0Jl휺٣ַw(Cr y$\|n<L0tDַZ
-}2"vT&7o]?̙3{ :AGEEYYY%%%	Dy8uK?j`j1}~ r!]1)v-+J&?B7j.y{^u]]yzPSYP(MVQQQXXyϝ;W+oٲח6dg3.si]oMv/|H=TvV`t =>O,OZ R̂:a!GR{d2&q> <ock[k=h]-АvxwRLuuuQQQǏO?/bqAA2])HDH>*ҡK>Ynmճ%|q@7پr_~ѐE<NG=poz>6&
-|ɓ/ϟ_VVz-=aiiiaa^YYPXZxgJΐGkŷ
-p`:-l|tʫkNiJ'>φ̃)O&8"nύ4__8V}4@Çny?t萞Wrvv޾}{aaD"H$wݶm[I'%&G^0v85uW|nؾc龖K jJ2;xmkf\%]V_9yJZ5f  $A1ABNNNͤB"Һszt⊅Ec Ӂh͒o)[%		ijtubalv_PuAϏ<$ڟNӰaÎ?>sC<8x0SRSSUj9tз~p0;;;(߄}~	xkuMkc/G/O/|LGjN5ĉˍ2Kʇqx<O.B?\aw=jvflrQ:F͛y?pΜ9...裏OʯٳgV[lYuuޕkM>yK%k\~S0ӁZc~gBJXaAn_W[=ǽ[>8{~e-nVnTIGXXXBBBZZڐ!C|~HHHZZZRRɓY.nr,§x)Nִ;yShtweza~Voy0P	e_u!!!dС&j5ĞQiXfl+WGYUYrt lgͷdR&Hʍ?AEAhn#wM̑gvvO*2ޝte$qi.axOXzlBU7%[KzY/^_н4kڽ4}1\fNuשׁ,BC91V-Zrqcaf2R{^>0	w]y*iKt$\fNBMu7dfK\`>k*ȑ*'пzz\qK0s=}Ez/;sX}Or	uݫX7nHŠ  FB'&=ik?,DA-GtqӡC /1j;;)٥CNBbNu;`tHyT=gm:~WD*i{󔴪1-/Ғo8vvz3M׏[OIx w,uT[շ۴1qnVnM/O?M*vt_Ww>uJF[5_.[HJji]wLu7t	w9Ypr45ma}fΠ xxٰK Dvi]wt]sYLSlm}+fe]On̲L"I*~7A<u_j$$K#ױDC=4)j(rq,[L#2ˍ-A�4]GOк-pڜFQnQeVS0愧
-OѽS5ʤ^vp7#O:/pO7tDt)ɂt_LFFwgyirksDd42sNNB
-j:d_#d:2 jؕKus!f.dx'wk4CS`sVV7d:`״֌3>V}JI>uLC@5s;#a:2=i tv>+1 4ӄMacw3@˘AvuNEKŘ>D?2%2	6{՜-l+jM?Sn>o3s}oo)LSPQʭL6yޝzy:Qpbޖ
- `
-JKG&ޏ^'zyZX=#n˟zn4yBW1uuC	Z;vtqӚkhX-^)Y^]њr=',j(?kӣ~ F(j$Sba Aȕ$LڡōS>ɲ4?2::U}+HԎvt-`n7P]϶oyo{kp0AkX
-tޡB?}agnWVK/.<(L{]thɷ??C/cD&hn]«Lߙr7~rQrg}iYPəz9eǭ'|9}3ދhѹ-KKin7d2i?wG"Z/{Lo;~6\aօUegngx g{14yN8yF`47/lgaeow^JFC
-^/7cd={ru?>Պ}46?nt)	Zv:'d4~ :R\lvcŷj@[RtY2TX7v'?:FE.nZ3	ZTu*l(<dٰeDZ:t+ۨ3.އjՖ!v??~?<z[>w1>\||軄!,YZZZiiiigg`:bPX+W~%VI&kZ
-<uun7?y>u>=OAkά5mM+r	zǎ䥗^rqq)*****ݻŋ@-;`󗯽pon8o0MkT@P"PՊEǙl5*T3`T{іJ[TE"A@KbE@ȋ$	a*BlrN,I8{<#pM95hdW~4נ׈~lLl߰F B|M0c8.]hnnnbb/
-u.vw{`P>8tVR]~\nqտϿVڮT)Kov;ݗ+y:-НMM%8.HX1Wcb=cIczSL]\6z[zr)M`NʥTy[y#<N['Nw0sX{AdUgzxMáR[[uV }}}##=~'0ZGnR9XL@+89wrSqg?vv@(eȼo-a7RtbbbPP.: :ks~ٮ+IR*,Y}KcK/Gl0gA'MtF&-0:+6Pmݺcl6Nq0JU4^߇!{a.a)S4Hi2{2iDIsOtUg(ͧO;9i ;=uz]UQ[e]kؾ#|$"959vSjcor:_y^TW},/TIwSC-Y}noo܏EˡFGKִ;w|ވ!4b:I+aa0'Txտ^5kzHPaXXg3((ܹ5H$CGKSnv?ySᄺnެvVf3gvVǣ/GΞ4`FwZ$ٳjʕ{53SvwɴQSmwjiK*IV?CiiY?TO曆`ѧ>]yn̪sk)A!!!\.7//["N4)8Xg|+r^l&[rTv5XM@kx3W|t>?K@_~=!!Ύ$Iekko߾rU:`]~|WދQA]=ul?mU9%ߘ1ii<Ehww說*T*=zgo#2^W%:F !!^I#9>g>uh&]X茌X9ommY -ymoi#[7 6{b?W0#@ypmO~^{+%%lA*áG-nm
-
-}*0.7n,-Rr.pZ[OW>\|1`XAm~F-n"\#}kt1%[oI-KwEPa°o̞` M։<u	lԅUU(o+3yV#adcÝ\d]>A@i)Sv{F
-L0OZ!hwJҗt)H~퀵`2@%1$A[.^Hbcmr4tVL?nZ@σꀕ[4b?}8c3ً-_Sr`nLbNJd#"=O*՘S'0[oF>_]_vMe䒗KrW٭Bj̃M*O6fO-%#f/ߺ]ATvTuCqPiU&*+m-U2=Uv/n*桛<8c1m;tT.]vnhhXqu xM0k'XՏ!(дp=!:ȘF3WdVewF.-b3b	nu 6q((A<ˑS|&L@yNa(@)=
-v@E\[^1[rJ,iּ8  |ݵk<w@
-4 IGe@
-4 `;)?38<Ђ AIz7u6c1,A t_8Sm$ZP[5B--TOöl>/w!LT2u`@ZǵgP @QPW_o:0tPxE}}&MPg
-4 p0sw=pD  ؘؠN h n 0        ҳ555_|Eii) (,,u=$I&dJd>6:("IrŪ$tim驫c2}E{]Qӧ]\`K%׭[:bqrrrRR*'h)U	&ۣN7xySub `Aiii4  
-
-4  `
-
-4  `
-
-4  `
-
-4  `JϖفA***fϞ:LMM\. 8H$<uQUYY_h  Lq   @  @  @  @  @  @  @  @  @  @+ooos<󍍍|H$BC_E
-'N655{ #
-^(~@)))˗/qqqϞ=suuݳgl}q`)TUUر#33}ׯWbP@566;;;$lٲFԉ9hTϘ1Jkkk400ŁQpHbb)anvz4:::))ܹӧξ]  IIDATC
-+d>bd2#fCnh\SWWN1r@VD:.n$R)˅OFP(<x !9LJb 	`X$IN/KK3g644XYYE
-EEEEۿ8ȁz>hjjd_fD
-LMM%"55500u(R|KΜ9caa!b8#7P||<311y:::P'ȠQgiiX,*&80KUs  )   LA  L'W}    IENDB`
\ Dosya sonunda yenisatır yok.
diff -Nuar rkward-0.5.3.orig/tests/import_export_plugins/RKTestStandard.import_csv.rkcommands.R rkward-0.5.3/tests/import_export_plugins/RKTestStandard.import_csv.rkcommands.R
--- rkward-0.5.3.orig/tests/import_export_plugins/RKTestStandard.import_csv.rkcommands.R	2009-10-05 18:52:44.000000000 +0300
+++ rkward-0.5.3/tests/import_export_plugins/RKTestStandard.import_csv.rkcommands.R	2010-06-27 15:02:13.037392000 +0300
@@ -1,13 +1,13 @@
 local({
 ## Prepare
 ## Compute
-imported <<- read.csv (file="women.csv", row.names = 1, na.strings = "NA", nrows = -1, skip = 0, check.names = TRUE, strip.white = FALSE, blank.lines.skip = TRUE)
+imported <- read.csv (file="women.csv", row.names = 1, na.strings = "NA", nrows = -1, skip = 0, check.names = TRUE, strip.white = FALSE, blank.lines.skip = TRUE)
 
 # copy from the local environment to globalenv()
-assign("women", imported, envir=globalenv())
+.GlobalEnv$women <- imported
 ## Print result
 rk.header("Import text / csv data", parameters=list("File", "women.csv",
 	"Import as", "women"))
 })
-.rk.rerun.plugin.link(plugin="rkward::import_csv", settings="allow_escapes.state=\nblanklinesskip.state=TRUE\ncheckname.state=TRUE\ncolclass.string=\ncolname.string=\ndec.string='.'\ndoedit.state=0\nfile.selection=women.csv\nflush.state=\nisrow.state=true\nna.text=NA\nname.selection=women\nnomrow.text=1\nnrows.text=-1\nquick.string=csv\nquote.string='\\\\\\\"'\nrowname.string=rowcol\nsep.string=','\nskip.text=0\nstrings_as_factors.string=\nstripwhite.state=FALSE", label="Run again")
+.rk.rerun.plugin.link(plugin="rkward::import_csv", settings="allow_escapes.state=\nblanklinesskip.state=TRUE\ncheckname.state=TRUE\ncolclass.string=\ncolname.string=\ndec.string='.'\ndoedit.state=0\nfile.selection=women.csv\nflush.state=\nisrow.state=true\nna.text=NA\nname.objectname=women\nname.parent=.GlobalEnv\nnomrow.text=1\nnrows.text=-1\nquick.string=csv\nquote.string='\\\\\\\"'\nrowname.string=rowcol\nsep.string=','\nskip.text=0\nstrings_as_factors.string=\nstripwhite.state=FALSE", label="Run again")
 .rk.make.hr()
diff -Nuar rkward-0.5.3.orig/tests/import_export_plugins/RKTestStandard.import_spss.rkcommands.R rkward-0.5.3/tests/import_export_plugins/RKTestStandard.import_spss.rkcommands.R
--- rkward-0.5.3.orig/tests/import_export_plugins/RKTestStandard.import_spss.rkcommands.R	2009-10-05 18:57:40.000000000 +0300
+++ rkward-0.5.3/tests/import_export_plugins/RKTestStandard.import_spss.rkcommands.R	2010-06-27 15:02:13.037392000 +0300
@@ -15,10 +15,10 @@
 	}
 }
 
-my.spss.data <<- data		# assign to globalenv()
+.GlobalEnv$my.spss.data <- data		# assign to globalenv()
 ## Print result
 rk.header("Import SPSS data", parameters=list("File", "../import_export_plugins_testfile.sav",
 	"Import as", "my.spss.data"))
 })
-.rk.rerun.plugin.link(plugin="rkward::import_spss", settings="convert_var_labels.state=1\ndata_frame.state=1\ndo_locale_conversion.state=0\ndoedit.state=0\nfile.selection=../import_export_plugins_testfile.sav\nlabels_limit.real=1.00\nsaveto.selection=my.spss.data\ntrim_labels.state=0\nuse_labels.state=1", label="Run again")
+.rk.rerun.plugin.link(plugin="rkward::import_spss", settings="convert_var_labels.state=1\ndata_frame.state=1\ndo_locale_conversion.state=0\ndoedit.state=0\nfile.selection=../import_export_plugins_testfile.sav\nlabels_limit.real=1.00\nsaveto.objectname=my.spss.data\nsaveto.parent=.GlobalEnv\ntrim_labels.state=0\nuse_labels.state=1", label="Run again")
 .rk.make.hr()
diff -Nuar rkward-0.5.3.orig/tests/import_export_plugins/RKTestStandard.import_stata.rkcommands.R rkward-0.5.3/tests/import_export_plugins/RKTestStandard.import_stata.rkcommands.R
--- rkward-0.5.3.orig/tests/import_export_plugins/RKTestStandard.import_stata.rkcommands.R	2010-02-25 22:55:32.000000000 +0200
+++ rkward-0.5.3/tests/import_export_plugins/RKTestStandard.import_stata.rkcommands.R	2010-06-27 15:02:13.037392000 +0300
@@ -15,10 +15,10 @@
         }
 }
 
-my.stata.data <<- data		# assign to globalenv()
+.GlobalEnv$my.stata.data <- data		# assign to globalenv()
 ## Print result
 rk.header("Import Stata File", parameters=list("File", "../import_export_plugins_testfile.dta",
 	"Imported to", "my.stata.data"))
 })
-.rk.rerun.plugin.link(plugin="rkward::import_stata", settings="convert_dates.state=1\nconvert_factors.state=1\nconvert_underscore.state=0\ndoedit.state=0\nfile.selection=../import_export_plugins_testfile.dta\nmissing_type.state=0\nsaveto.selection=my.stata.data", label="Run again")
+.rk.rerun.plugin.link(plugin="rkward::import_stata", settings="convert_dates.state=1\nconvert_factors.state=1\nconvert_underscore.state=0\ndoedit.state=0\nfile.selection=../import_export_plugins_testfile.dta\nmissing_type.state=0\nsaveto.objectname=my.stata.data\nsaveto.parent=.GlobalEnv", label="Run again")
 .rk.make.hr()
diff -Nuar rkward-0.5.3.orig/tests/import_export_plugins/RKTestStandard.load_r_object.rkcommands.R rkward-0.5.3/tests/import_export_plugins/RKTestStandard.load_r_object.rkcommands.R
--- rkward-0.5.3.orig/tests/import_export_plugins/RKTestStandard.load_r_object.rkcommands.R	2009-10-05 18:52:44.000000000 +0300
+++ rkward-0.5.3/tests/import_export_plugins/RKTestStandard.load_r_object.rkcommands.R	2010-06-27 15:02:13.037392000 +0300
@@ -6,5 +6,5 @@
 rk.header("Load data", parameters=list("File", "women.RData",
 	"Import to environment", "globalenv()"))
 })
-.rk.rerun.plugin.link(plugin="rkward::load_r_object", settings="file.selection=women.RData\nother_env.state=0", label="Run again")
+.rk.rerun.plugin.link(plugin="rkward::load_r_object", settings="envir.active=0\nenvir.objectname=my.env\nenvir.parent=.GlobalEnv\nfile.selection=women.RData", label="Run again")
 .rk.make.hr()
diff -Nuar rkward-0.5.3.orig/tests/import_export_plugins.R rkward-0.5.3/tests/import_export_plugins.R
--- rkward-0.5.3.orig/tests/import_export_plugins.R	2010-04-19 21:31:10.000000000 +0300
+++ rkward-0.5.3/tests/import_export_plugins.R	2010-06-27 15:02:13.037392000 +0300
@@ -23,12 +23,12 @@
 	## the tests
 	), tests = list (
 		new ("RKTest", id="load_r_object", call=function () {
-			rk.call.plugin ("rkward::load_r_object", file.selection="women.RData", other_env.state="0", submit.mode="submit")
+			rk.call.plugin ("rkward::load_r_object", file.selection="women.RData", envir.active="0", submit.mode="submit")
 
 			stopifnot (all.equal (.GlobalEnv$women, datasets::women))
 		}),
 		new ("RKTest", id="import_csv", call=function () {
-			rk.call.plugin ("rkward::import_csv", allow_escapes.state="", blanklinesskip.state="TRUE", checkname.state="TRUE", colclass.string="", colname.string="", dec.string="'.'", doedit.state="0", file.selection="women.csv", flush.state="", isrow.state="true", na.text="NA", name.selection="women", nrows.text="-1", quick.string="csv", quote.string="'\\\"'", sep.string="','", skip.text="0", strings_as_factors.string="", stripwhite.state="FALSE", rowname.string="rowcol", nomrow.text="1", submit.mode="submit")
+			rk.call.plugin ("rkward::import_csv", allow_escapes.state="", blanklinesskip.state="TRUE", checkname.state="TRUE", colclass.string="", colname.string="", dec.string="'.'", doedit.state="0", file.selection="women.csv", flush.state="", isrow.state="true", na.text="NA", name.objectname="women", nrows.text="-1", quick.string="csv", quote.string="'\\\"'", sep.string="','", skip.text="0", strings_as_factors.string="", stripwhite.state="FALSE", rowname.string="rowcol", nomrow.text="1", submit.mode="submit")
 
 			stopifnot (all.equal (.GlobalEnv$women, datasets::women))
 		}),
@@ -37,7 +37,7 @@
 			rk.sync.global ()
 
 			# this one is expected to fail, as it would overwrite the existing "women" in globalenv()
-			rk.call.plugin ("rkward::import_csv", file.selection="women.csv", name.selection="women", submit.mode="submit")
+			rk.call.plugin ("rkward::import_csv", file.selection="women.csv", name.objectname="women", submit.mode="submit")
 		}, expect_error=TRUE),
 		new ("RKTest", id="setworkdir", call=function () {
 			oldwd <- getwd ()
@@ -51,7 +51,7 @@
 			stopifnot (oldwd == getwd ())
 		}),
 		new ("RKTest", id="import_spss", call=function () {
-			rk.call.plugin ("rkward::import_spss", convert_var_labels.state="1", data_frame.state="1", do_locale_conversion.state="0", doedit.state="0", file.selection="../import_export_plugins_testfile.sav", labels_limit.real="1.00", saveto.selection="my.spss.data", trim_labels.state="0", use_labels.state="1", submit.mode="submit")
+			rk.call.plugin ("rkward::import_spss", convert_var_labels.state="1", data_frame.state="1", do_locale_conversion.state="0", doedit.state="0", file.selection="../import_export_plugins_testfile.sav", labels_limit.real="1.00", saveto.objectname="my.spss.data", trim_labels.state="0", use_labels.state="1", submit.mode="submit")
 
 			# In order to check, whether the import was correct
 			rk.print (my.spss.data)
@@ -61,7 +61,7 @@
 			# variable, yet.
 		}, libraries=c("foreign")),
 		new ("RKTest", id="import_stata", call=function () {
-			rk.call.plugin ("rkward::import_stata", convert_dates.state="1", convert_factors.state="1", convert_underscore.state="0", doedit.state="0", file.selection="../import_export_plugins_testfile.dta", missing_type.state="0", saveto.selection="my.stata.data", submit.mode="submit")
+			rk.call.plugin ("rkward::import_stata", convert_dates.state="1", convert_factors.state="1", convert_underscore.state="0", doedit.state="0", file.selection="../import_export_plugins_testfile.dta", missing_type.state="0", saveto.objectname="my.stata.data", submit.mode="submit")
 
 			# In order to check, whether the import was correct
 			rk.print (my.stata.data)
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.2PL_parameter_estimation.rkcommands.R rkward-0.5.3/tests/item_response_theory/RKTestStandard.2PL_parameter_estimation.rkcommands.R
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.2PL_parameter_estimation.rkcommands.R	2010-03-03 12:11:55.000000000 +0200
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.2PL_parameter_estimation.rkcommands.R	2010-06-27 15:02:13.037392000 +0300
@@ -11,7 +11,7 @@
 rk.print (coef(estimates.2pl))
 rk.print (paste("Log-likelihood value at convergence:",round(estimates.2pl$log.Lik, digits=1)))
 # keep results in current workspace
-estimates.2pl <<- estimates.2pl
+.GlobalEnv$estimates.2pl <- estimates.2pl
 })
-.rk.rerun.plugin.link(plugin="rkward::par_est_2pl", settings="chk_save.state=save\nconstraint.available=\nghk_2pl.real=15.00\ninteract.state=TRUE\nirtparam.state=TRUE\niterem.real=40.00\niterqn_2pl.real=150.00\nnaaction.state=\noptimeth.string=BFGS\nsave_name.selection=estimates.2pl\nstartval.string=NULL\nverbose.state=\nx.available=WIRS", label="Run again")
+.rk.rerun.plugin.link(plugin="rkward::par_est_2pl", settings="constraint.available=\nghk_2pl.real=15.00\ninteract.state=TRUE\nirtparam.state=TRUE\niterem.real=40.00\niterqn_2pl.real=150.00\nnaaction.state=\noptimeth.string=BFGS\nsave_name.active=1\nsave_name.objectname=estimates.2pl\nsave_name.parent=.GlobalEnv\nstartval.string=NULL\nverbose.state=\nx.available=WIRS", label="Run again")
 .rk.make.hr()
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.2PL_parameter_estimation.rkout rkward-0.5.3/tests/item_response_theory/RKTestStandard.2PL_parameter_estimation.rkout
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.2PL_parameter_estimation.rkout	2010-03-03 12:11:55.000000000 +0200
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.2PL_parameter_estimation.rkout	2010-08-06 18:06:45.667225000 +0300
@@ -1,22 +1,57 @@
 <h1>2PL parameter estimation</h1>
 DATE<br>
-<p class='character'>Call:</p><pre>ltm(formula = WIRS ~ z1 * z2)</pre>
+
+<p class='character'>Call:</p>
+<pre>ltm(formula = WIRS ~ z1 * z2)</pre>
 <h4>Coefficients:</h4>
 <br>
 
+
 <p align= center >
-<table cellspacing=0 border=1><caption align=bottom class=captiondataframe></caption><tr><td>
+<table cellspacing=0 border=1><caption align=bottom class=captiondataframe></caption>
+<tr><td>
 	<table border=0 class=dataframe>
 	<tbody> <tr class= firstline > <th></th><th>(Intercept)</th><th>z1</th><th>z2</th><th>z1:z2</th> </tr>
- <tr><td class=firstcolumn>Item 1</td><td class=cellinside>-1.10</td><td class=cellinside> 0.27</td><td class=cellinside>-3.32</td><td class=cellinside>-1.16</td></tr>
- <tr><td class=firstcolumn>Item 2</td><td class=cellinside> 0.94</td><td class=cellinside> 1.09</td><td class=cellinside> 2.17</td><td class=cellinside> 2.95</td></tr>
- <tr><td class=firstcolumn>Item 3</td><td class=cellinside>-1.46</td><td class=cellinside> 1.81</td><td class=cellinside>-0.31</td><td class=cellinside> 0.54</td></tr>
- <tr><td class=firstcolumn>Item 4</td><td class=cellinside>-1.46</td><td class=cellinside> 1.12</td><td class=cellinside> 0.56</td><td class=cellinside> 0.27</td></tr>
- <tr><td class=firstcolumn>Item 5</td><td class=cellinside>-1.08</td><td class=cellinside> 2.13</td><td class=cellinside>-0.47</td><td class=cellinside> 1.15</td></tr>
- <tr><td class=firstcolumn>Item 6</td><td class=cellinside>-2.75</td><td class=cellinside> 1.70</td><td class=cellinside>-0.94</td><td class=cellinside> 1.07</td></tr>
+ 
+<tr><td class=firstcolumn>Item 1</td>
+<td class=cellinside>-1.10</td>
+<td class=cellinside> 0.27</td>
+<td class=cellinside>-3.32</td>
+<td class=cellinside>-1.16</td></tr>
+ 
+<tr><td class=firstcolumn>Item 2</td>
+<td class=cellinside> 0.94</td>
+<td class=cellinside> 1.09</td>
+<td class=cellinside> 2.17</td>
+<td class=cellinside> 2.95</td></tr>
+ 
+<tr><td class=firstcolumn>Item 3</td>
+<td class=cellinside>-1.46</td>
+<td class=cellinside> 1.81</td>
+<td class=cellinside>-0.31</td>
+<td class=cellinside> 0.54</td></tr>
+ 
+<tr><td class=firstcolumn>Item 4</td>
+<td class=cellinside>-1.46</td>
+<td class=cellinside> 1.12</td>
+<td class=cellinside> 0.56</td>
+<td class=cellinside> 0.27</td></tr>
+ 
+<tr><td class=firstcolumn>Item 5</td>
+<td class=cellinside>-1.08</td>
+<td class=cellinside> 2.13</td>
+<td class=cellinside>-0.47</td>
+<td class=cellinside> 1.15</td></tr>
+ 
+<tr><td class=firstcolumn>Item 6</td>
+<td class=cellinside>-2.75</td>
+<td class=cellinside> 1.70</td>
+<td class=cellinside>-0.94</td>
+<td class=cellinside> 1.07</td></tr>
  
 	</tbody>
 </table>
  </td></table>
  <br>
-<p class='character'>Log-likelihood value at convergence: -3293.2</p>
\ Dosya sonunda yenisatır yok.
+
+<p class='character'>Log-likelihood value at convergence: -3293.2</p>
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.3PL_parameter_estimation.rkcommands.R rkward-0.5.3/tests/item_response_theory/RKTestStandard.3PL_parameter_estimation.rkcommands.R
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.3PL_parameter_estimation.rkcommands.R	2010-03-03 12:11:55.000000000 +0200
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.3PL_parameter_estimation.rkcommands.R	2010-06-27 15:02:13.037392000 +0300
@@ -11,7 +11,7 @@
 rk.print (coef(estimates.3pl))
 rk.print (paste("Log-likelihood value at convergence:",round(estimates.3pl$log.Lik, digits=1)))
 # keep results in current workspace
-estimates.3pl <<- estimates.3pl
+.GlobalEnv$estimates.3pl <- estimates.3pl
 })
-.rk.rerun.plugin.link(plugin="rkward::par_est_3pl", settings="chk_save.state=save\nconstraint.available=\nepshess.real=0.001\nghk_3pl.real=21.00\nirtparam.state=TRUE\niterqn_3pl.real=1000.00\nmaxguess.real=1.00\nnaaction.state=\noptimeth.string=BFGS\noptimizer.string=optim\nsave_name.selection=estimates.3pl\nstartval.string=NULL\ntype.state=\nverbose.state=\nx.available=LSAT", label="Run again")
+.rk.rerun.plugin.link(plugin="rkward::par_est_3pl", settings="constraint.available=\nepshess.real=0.001\nghk_3pl.real=21.00\nirtparam.state=TRUE\niterqn_3pl.real=1000.00\nmaxguess.real=1.00\nnaaction.state=\noptimeth.string=BFGS\noptimizer.string=optim\nsave_name.active=1\nsave_name.objectname=estimates.3pl\nsave_name.parent=.GlobalEnv\nstartval.string=NULL\ntype.state=\nverbose.state=\nx.available=LSAT", label="Run again")
 .rk.make.hr()
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.3PL_parameter_estimation.rkout rkward-0.5.3/tests/item_response_theory/RKTestStandard.3PL_parameter_estimation.rkout
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.3PL_parameter_estimation.rkout	2010-03-03 12:11:55.000000000 +0200
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.3PL_parameter_estimation.rkout	2010-08-06 18:06:45.667225000 +0300
@@ -1,21 +1,46 @@
 <h1>3PL parameter estimation</h1>
 DATE<br>
-<p class='character'>Call:</p><pre>tpm(data = LSAT)</pre>
+
+<p class='character'>Call:</p>
+<pre>tpm(data = LSAT)</pre>
 <h4>Coefficients:</h4>
 <br>
 
+
 <p align= center >
-<table cellspacing=0 border=1><caption align=bottom class=captiondataframe></caption><tr><td>
+<table cellspacing=0 border=1><caption align=bottom class=captiondataframe></caption>
+<tr><td>
 	<table border=0 class=dataframe>
 	<tbody> <tr class= firstline > <th></th><th>Gussng</th><th>Dffclt</th><th>Dscrmn</th> </tr>
- <tr><td class=firstcolumn>Item 1</td><td class=cellinside> 0.037</td><td class=cellinside>-3.296</td><td class=cellinside> 0.829</td></tr>
- <tr><td class=firstcolumn>Item 2</td><td class=cellinside> 0.078</td><td class=cellinside>-1.145</td><td class=cellinside> 0.760</td></tr>
- <tr><td class=firstcolumn>Item 3</td><td class=cellinside> 0.012</td><td class=cellinside>-0.249</td><td class=cellinside> 0.902</td></tr>
- <tr><td class=firstcolumn>Item 4</td><td class=cellinside> 0.035</td><td class=cellinside>-1.766</td><td class=cellinside> 0.701</td></tr>
- <tr><td class=firstcolumn>Item 5</td><td class=cellinside> 0.053</td><td class=cellinside>-2.990</td><td class=cellinside> 0.666</td></tr>
+ 
+<tr><td class=firstcolumn>Item 1</td>
+<td class=cellinside> 0.037</td>
+<td class=cellinside>-3.296</td>
+<td class=cellinside> 0.829</td></tr>
+ 
+<tr><td class=firstcolumn>Item 2</td>
+<td class=cellinside> 0.078</td>
+<td class=cellinside>-1.145</td>
+<td class=cellinside> 0.760</td></tr>
+ 
+<tr><td class=firstcolumn>Item 3</td>
+<td class=cellinside> 0.012</td>
+<td class=cellinside>-0.249</td>
+<td class=cellinside> 0.902</td></tr>
+ 
+<tr><td class=firstcolumn>Item 4</td>
+<td class=cellinside> 0.035</td>
+<td class=cellinside>-1.766</td>
+<td class=cellinside> 0.701</td></tr>
+ 
+<tr><td class=firstcolumn>Item 5</td>
+<td class=cellinside> 0.053</td>
+<td class=cellinside>-2.990</td>
+<td class=cellinside> 0.666</td></tr>
  
 	</tbody>
 </table>
  </td></table>
  <br>
-<p class='character'>Log-likelihood value at convergence: -2466.7</p>
\ Dosya sonunda yenisatır yok.
+
+<p class='character'>Log-likelihood value at convergence: -2466.7</p>
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.Cronbach_alpha.rkout rkward-0.5.3/tests/item_response_theory/RKTestStandard.Cronbach_alpha.rkout
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.Cronbach_alpha.rkout	2009-11-30 20:22:39.000000000 +0200
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.Cronbach_alpha.rkout	2010-08-06 18:06:45.667225000 +0300
@@ -1,28 +1,55 @@
 <h1>Cronbach's alpha</h1>
 DATE<br>
-<p class='character'>for the 'LSAT' data-set (subset: Item 1, Item 2, Item 3, Item 4, Item 5)</p><p class='character'>Items: 5 <br />Sample units: 1000 <br /><strong>alpha: 0.29 </strong></p><p class='character'>Effects on alpha if items are removed:</p>
+
+<p class='character'>for the 'LSAT' data-set (subset: Item 1, Item 2, Item 3, Item 4, Item 5)</p>
+
+<p class='character'>Items: 5 <br />Sample units: 1000 <br /><strong>alpha: 0.29 </strong></p>
+
+<p class='character'>Effects on alpha if items are removed:</p>
+
+
 <p align= center >
-<table cellspacing=0 border=1><caption align=bottom class=captiondataframe></caption><tr><td>
+<table cellspacing=0 border=1><caption align=bottom class=captiondataframe></caption>
+<tr><td>
 	<table border=0 class=dataframe>
 	<tbody> <tr class= firstline > <th></th><th>value</th> </tr>
- <tr><td class=firstcolumn>All Items</td><td class=cellinside>0.29</td></tr>
- <tr><td class=firstcolumn>Excluding Item 1</td><td class=cellinside>0.28</td></tr>
- <tr><td class=firstcolumn>Excluding Item 2</td><td class=cellinside>0.24</td></tr>
- <tr><td class=firstcolumn>Excluding Item 3</td><td class=cellinside>0.22</td></tr>
- <tr><td class=firstcolumn>Excluding Item 4</td><td class=cellinside>0.25</td></tr>
- <tr><td class=firstcolumn>Excluding Item 5</td><td class=cellinside>0.27</td></tr>
+ 
+<tr><td class=firstcolumn>All Items</td>
+<td class=cellinside>0.29</td></tr>
+ 
+<tr><td class=firstcolumn>Excluding Item 1</td>
+<td class=cellinside>0.28</td></tr>
+ 
+<tr><td class=firstcolumn>Excluding Item 2</td>
+<td class=cellinside>0.24</td></tr>
+ 
+<tr><td class=firstcolumn>Excluding Item 3</td>
+<td class=cellinside>0.22</td></tr>
+ 
+<tr><td class=firstcolumn>Excluding Item 4</td>
+<td class=cellinside>0.25</td></tr>
+ 
+<tr><td class=firstcolumn>Excluding Item 5</td>
+<td class=cellinside>0.27</td></tr>
  
 	</tbody>
 </table>
  </td></table>
  <br>
+
 <p class='character'>95% Confidence interval:</p>
 
+
+
 <p align= center >
-<table cellspacing=0 border=1><caption align=bottom class=captiondataframe></caption><tr><td>
+<table cellspacing=0 border=1><caption align=bottom class=captiondataframe></caption>
+<tr><td>
 	<table border=0 class=dataframe>
 	<tbody> <tr class= firstline > <th></th><th>2.5%</th><th>97.5%</th> </tr>
- <tr><td class=firstcolumn></td><td class=cellinside>0.22</td><td class=cellinside>0.36</td></tr>
+ 
+<tr><td class=firstcolumn></td>
+<td class=cellinside>0.22</td>
+<td class=cellinside>0.36</td></tr>
  
 	</tbody>
 </table>
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.goodnes-of-fit_Rasch.rkcommands.R rkward-0.5.3/tests/item_response_theory/RKTestStandard.goodnes-of-fit_Rasch.rkcommands.R
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.goodnes-of-fit_Rasch.rkcommands.R	2010-03-03 12:11:55.000000000 +0200
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.goodnes-of-fit_Rasch.rkcommands.R	2010-08-06 18:06:45.667225000 +0300
@@ -5,7 +5,12 @@
 GoFRasch.res <- GoF.rasch(estimates.rasch)
 ## Print result
 rk.header ("Goodness of Fit for Rasch Models (estimates.rasch)")
-rk.print (GoFRasch.res)
+rk.print ("Call:")
+rk.print.literal (deparse(GoFRasch.res$call, width.cutoff=500))
+rk.header ("Parametric Bootstrap test:", level=4)
+rk.print (paste("Chi-squared statistic:", round(GoFRasch.res$Tobs, digits=3)))
+rk.print (paste("Bootstrap samples:", GoFRasch.res$B))
+rk.print (paste("p-value:", GoFRasch.res$p.value))
 })
 .rk.rerun.plugin.link(plugin="rkward::ltm_gof_rasch", settings="spin_samples.real=49.00\nx.available=estimates.rasch", label="Run again")
 .rk.make.hr()
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.goodnes-of-fit_Rasch.rkout rkward-0.5.3/tests/item_response_theory/RKTestStandard.goodnes-of-fit_Rasch.rkout
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.goodnes-of-fit_Rasch.rkout	2009-12-01 11:36:36.000000000 +0200
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.goodnes-of-fit_Rasch.rkout	2010-08-06 18:06:45.667225000 +0300
@@ -1,3 +1,13 @@
 <h1>Goodness of Fit for Rasch Models (estimates.rasch)</h1>
 DATE<br>
-<p class='character'><br>Bootstrap Goodness-of-Fit using Pearson chi-squared<br><br>Call:<br>rasch(data = LSAT)<br><br>Tobs: 18.34 <br># data-sets: 50 <br>p-value: 0.94 <br></p>
\ Dosya sonunda yenisatır yok.
+
+<p class='character'>Call:</p>
+<pre>rasch(data = LSAT)</pre>
+<h4>Parametric Bootstrap test:</h4>
+<br>
+
+<p class='character'>Chi-squared statistic: 18.345</p>
+
+<p class='character'>Bootstrap samples: 49</p>
+
+<p class='character'>p-value: 0.78</p>
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.GPCM_parameter_estimation.rkcommands.R rkward-0.5.3/tests/item_response_theory/RKTestStandard.GPCM_parameter_estimation.rkcommands.R
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.GPCM_parameter_estimation.rkcommands.R	2010-03-03 12:11:55.000000000 +0200
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.GPCM_parameter_estimation.rkcommands.R	2010-06-27 15:02:13.037392000 +0300
@@ -11,7 +11,7 @@
 rk.print (coef(estimates.gpcm))
 rk.print (paste("Log-likelihood value at convergence:",round(estimates.gpcm$log.Lik, digits=1)))
 # keep results in current workspace
-estimates.gpcm <<- estimates.gpcm
+.GlobalEnv$estimates.gpcm <- estimates.gpcm
 })
-.rk.rerun.plugin.link(plugin="rkward::par_est_gpcm", settings="chk_save.state=save\nchk_select.state=select\nconstraint.string=rasch\nepshess.real=0.000001\nghk_gpcm.real=21.00\ninp_items.available=Science[[\\\"Work\\\"]]\\nScience[[\\\"Industry\\\"]]\\nScience[[\\\"Future\\\"]]\\nScience[[\\\"Benefit\\\"]]\nirtparam.state=TRUE\niterqn_gpcm.real=150.00\nnaaction.state=\nnumrderiv.string=fd\noptimeth.string=BFGS\noptimizer.string=optim\nsave_name.selection=estimates.gpcm\nstartval.string=NULL\nverbose.state=\nx.available=Science", label="Run again")
+.rk.rerun.plugin.link(plugin="rkward::par_est_gpcm", settings="chk_select.state=select\nconstraint.string=rasch\nepshess.real=0.000001\nghk_gpcm.real=21.00\ninp_items.available=Science[[\\\"Work\\\"]]\\nScience[[\\\"Industry\\\"]]\\nScience[[\\\"Future\\\"]]\\nScience[[\\\"Benefit\\\"]]\nirtparam.state=TRUE\niterqn_gpcm.real=150.00\nnaaction.state=\nnumrderiv.string=fd\noptimeth.string=BFGS\noptimizer.string=optim\nsave_name.active=1\nsave_name.objectname=estimates.gpcm\nsave_name.parent=.GlobalEnv\nstartval.string=NULL\nverbose.state=\nx.available=Science", label="Run again")
 .rk.make.hr()
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.GPCM_parameter_estimation.rkout rkward-0.5.3/tests/item_response_theory/RKTestStandard.GPCM_parameter_estimation.rkout
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.GPCM_parameter_estimation.rkout	2010-03-03 12:11:55.000000000 +0200
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.GPCM_parameter_estimation.rkout	2010-08-06 18:06:45.667225000 +0300
@@ -1,20 +1,45 @@
 <h1>GPCM parameter estimation</h1>
 DATE<br>
-<p class='character'>Call:</p><pre>gpcm(data = subset(Science, select = c("Work", "Industry", "Future", "Benefit")), constraint = "rasch")</pre>
+
+<p class='character'>Call:</p>
+<pre>gpcm(data = subset(Science, select = c("Work", "Industry", "Future", "Benefit")), constraint = "rasch")</pre>
 <h4>Coefficients:</h4>
 <br>
 
+
 <p align= center >
-<table cellspacing=0 border=1><caption align=bottom class=captiondataframe></caption><tr><td>
+<table cellspacing=0 border=1><caption align=bottom class=captiondataframe></caption>
+<tr><td>
 	<table border=0 class=dataframe>
 	<tbody> <tr class= firstline > <th></th><th>Catgr.1</th><th>Catgr.2</th><th>Catgr.3</th><th>Dscrmn</th> </tr>
- <tr><td class=firstcolumn>Work</td><td class=cellinside>-1.80</td><td class=cellinside>-0.90</td><td class=cellinside> 1.80</td><td class=cellinside> 1.00</td></tr>
- <tr><td class=firstcolumn>Industry</td><td class=cellinside>-2.54</td><td class=cellinside>-1.76</td><td class=cellinside> 0.20</td><td class=cellinside> 1.00</td></tr>
- <tr><td class=firstcolumn>Future</td><td class=cellinside>-2.50</td><td class=cellinside>-1.39</td><td class=cellinside> 1.09</td><td class=cellinside> 1.00</td></tr>
- <tr><td class=firstcolumn>Benefit</td><td class=cellinside>-2.33</td><td class=cellinside>-0.88</td><td class=cellinside> 1.31</td><td class=cellinside> 1.00</td></tr>
+ 
+<tr><td class=firstcolumn>Work</td>
+<td class=cellinside>-1.80</td>
+<td class=cellinside>-0.90</td>
+<td class=cellinside> 1.80</td>
+<td class=cellinside> 1.00</td></tr>
+ 
+<tr><td class=firstcolumn>Industry</td>
+<td class=cellinside>-2.54</td>
+<td class=cellinside>-1.76</td>
+<td class=cellinside> 0.20</td>
+<td class=cellinside> 1.00</td></tr>
+ 
+<tr><td class=firstcolumn>Future</td>
+<td class=cellinside>-2.50</td>
+<td class=cellinside>-1.39</td>
+<td class=cellinside> 1.09</td>
+<td class=cellinside> 1.00</td></tr>
+ 
+<tr><td class=firstcolumn>Benefit</td>
+<td class=cellinside>-2.33</td>
+<td class=cellinside>-0.88</td>
+<td class=cellinside> 1.31</td>
+<td class=cellinside> 1.00</td></tr>
  
 	</tbody>
 </table>
  </td></table>
  <br>
-<p class='character'>Log-likelihood value at convergence: -1756.8</p>
\ Dosya sonunda yenisatır yok.
+
+<p class='character'>Log-likelihood value at convergence: -1756.8</p>
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.GRM_parameter_estimation.rkcommands.R rkward-0.5.3/tests/item_response_theory/RKTestStandard.GRM_parameter_estimation.rkcommands.R
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.GRM_parameter_estimation.rkcommands.R	2010-03-03 12:11:55.000000000 +0200
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.GRM_parameter_estimation.rkcommands.R	2010-06-27 15:02:13.037392000 +0300
@@ -11,7 +11,7 @@
 rk.print (coef(estimates.grm))
 rk.print (paste("Log-likelihood value at convergence:",round(estimates.grm$log.Lik, digits=1)))
 # keep results in current workspace
-estimates.grm <<- estimates.grm
+.GlobalEnv$estimates.grm <- estimates.grm
 })
-.rk.rerun.plugin.link(plugin="rkward::par_est_grm", settings="chk_save.state=save\nconstraint.state=\ndig_abbrv.real=6.00\nghk_grm.real=21.00\nhessian.state=\nirtparam.state=TRUE\niterqn_grm.real=150.00\nnaaction.state=\noptimeth.string=BFGS\nsave_name.selection=estimates.grm\nstartval.string=NULL\nverbose.state=\nx.available=Environment", label="Run again")
+.rk.rerun.plugin.link(plugin="rkward::par_est_grm", settings="constraint.state=\ndig_abbrv.real=6.00\nghk_grm.real=21.00\nhessian.state=\nirtparam.state=TRUE\niterqn_grm.real=150.00\nnaaction.state=\noptimeth.string=BFGS\nsave_name.active=1\nsave_name.objectname=estimates.grm\nsave_name.parent=.GlobalEnv\nstartval.string=NULL\nverbose.state=\nx.available=Environment", label="Run again")
 .rk.make.hr()
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.GRM_parameter_estimation.rkout rkward-0.5.3/tests/item_response_theory/RKTestStandard.GRM_parameter_estimation.rkout
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.GRM_parameter_estimation.rkout	2010-03-03 12:11:55.000000000 +0200
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.GRM_parameter_estimation.rkout	2010-08-06 18:06:45.667225000 +0300
@@ -1,22 +1,51 @@
 <h1>GRM parameter estimation</h1>
 DATE<br>
-<p class='character'>Call:</p><pre>grm(data = Environment)</pre>
+
+<p class='character'>Call:</p>
+<pre>grm(data = Environment)</pre>
 <h4>Coefficients:</h4>
 <br>
 
+
 <p align= center >
-<table cellspacing=0 border=1><caption align=bottom class=captiondataframe></caption><tr><td>
+<table cellspacing=0 border=1><caption align=bottom class=captiondataframe></caption>
+<tr><td>
 	<table border=0 class=dataframe>
 	<tbody> <tr class= firstline > <th></th><th>Extrmt1</th><th>Extrmt2</th><th>Dscrmn</th> </tr>
- <tr><td class=firstcolumn>LeadPetrol</td><td class=cellinside>0.487</td><td class=cellinside>2.584</td><td class=cellinside>1.378</td></tr>
- <tr><td class=firstcolumn>RiverSea</td><td class=cellinside>1.058</td><td class=cellinside>2.499</td><td class=cellinside>2.341</td></tr>
- <tr><td class=firstcolumn>RadioWaste</td><td class=cellinside>0.779</td><td class=cellinside>1.793</td><td class=cellinside>3.123</td></tr>
- <tr><td class=firstcolumn>AirPollution</td><td class=cellinside>0.457</td><td class=cellinside>2.157</td><td class=cellinside>3.283</td></tr>
- <tr><td class=firstcolumn>Chemicals</td><td class=cellinside>0.809</td><td class=cellinside>1.868</td><td class=cellinside>2.947</td></tr>
- <tr><td class=firstcolumn>Nuclear</td><td class=cellinside>0.073</td><td class=cellinside>1.427</td><td class=cellinside>1.761</td></tr>
+ 
+<tr><td class=firstcolumn>LeadPetrol</td>
+<td class=cellinside>0.487</td>
+<td class=cellinside>2.584</td>
+<td class=cellinside>1.378</td></tr>
+ 
+<tr><td class=firstcolumn>RiverSea</td>
+<td class=cellinside>1.058</td>
+<td class=cellinside>2.499</td>
+<td class=cellinside>2.341</td></tr>
+ 
+<tr><td class=firstcolumn>RadioWaste</td>
+<td class=cellinside>0.779</td>
+<td class=cellinside>1.793</td>
+<td class=cellinside>3.123</td></tr>
+ 
+<tr><td class=firstcolumn>AirPollution</td>
+<td class=cellinside>0.457</td>
+<td class=cellinside>2.157</td>
+<td class=cellinside>3.283</td></tr>
+ 
+<tr><td class=firstcolumn>Chemicals</td>
+<td class=cellinside>0.809</td>
+<td class=cellinside>1.868</td>
+<td class=cellinside>2.947</td></tr>
+ 
+<tr><td class=firstcolumn>Nuclear</td>
+<td class=cellinside>0.073</td>
+<td class=cellinside>1.427</td>
+<td class=cellinside>1.761</td></tr>
  
 	</tbody>
 </table>
  </td></table>
  <br>
-<p class='character'>Log-likelihood value at convergence: -1090.4</p>
\ Dosya sonunda yenisatır yok.
+
+<p class='character'>Log-likelihood value at convergence: -1090.4</p>
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.item_fit_statistics.rkcommands.R rkward-0.5.3/tests/item_response_theory/RKTestStandard.item_fit_statistics.rkcommands.R
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.item_fit_statistics.rkcommands.R	2010-03-03 12:11:55.000000000 +0200
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.item_fit_statistics.rkcommands.R	2010-08-06 18:06:45.667225000 +0300
@@ -5,7 +5,12 @@
 itemfit.res <- item.fit(estimates.rasch)
 ## Print result
 rk.header ("Item-fit statistics (estimates.rasch)")
-rk.print (itemfit.res)
+rk.print ("Call:")
+rk.print.literal (deparse(itemfit.res$call, width.cutoff=500))
+rk.print ("Alternative: Items do not fit the model")
+rk.print (paste("Ability Categories:", itemfit.res$G))
+rk.header ("Item-Fit Statistics and P-values:", level=4)
+rk.print(cbind("X^2"=round(itemfit.res$Tobs, digits=3), "Pr (&gt;X^2)"=format(round(itemfit.res$p.values, digits=3), nsmall=3)))
 })
 .rk.rerun.plugin.link(plugin="rkward::ltm_item_fit", settings="drop_sumgroups.string=median\nrad_pvalue.string=chi2\nspin_groups.real=10.00\nx.available=estimates.rasch", label="Run again")
 .rk.make.hr()
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.item_fit_statistics.rkout rkward-0.5.3/tests/item_response_theory/RKTestStandard.item_fit_statistics.rkout
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.item_fit_statistics.rkout	2009-11-30 20:22:39.000000000 +0200
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.item_fit_statistics.rkout	2010-08-06 18:06:45.667225000 +0300
@@ -1,3 +1,43 @@
 <h1>Item-fit statistics (estimates.rasch)</h1>
 DATE<br>
-<p class='character'><br>Item-Fit Statistics and P-values<br><br>Call:<br>rasch(data = LSAT)<br><br>Alternative: Items do not fit the model<br>Ability Categories: 10<br><br>          X^2 Pr(>X^2)<br>Item 1  61.93  <0.0001<br>Item 2 159.01  <0.0001<br>Item 3 233.79  <0.0001<br>Item 4 132.47  <0.0001<br>Item 5  84.76  <0.0001<br><br></p>
\ Dosya sonunda yenisatır yok.
+
+<p class='character'>Call:</p>
+<pre>rasch(data = LSAT)</pre>
+
+<p class='character'>Alternative: Items do not fit the model</p>
+
+<p class='character'>Ability Categories: 10</p>
+<h4>Item-Fit Statistics and P-values:</h4>
+<br>
+
+
+<p align= center >
+<table cellspacing=0 border=1><caption align=bottom class=captiondataframe></caption>
+<tr><td>
+	<table border=0 class=dataframe>
+	<tbody> <tr class= firstline > <th></th><th>X^2</th><th>Pr (&gt;X^2)</th> </tr>
+ 
+<tr><td class=firstcolumn>Item 1</td>
+<td class=cellinside>61.929 </td>
+<td class=cellinside>0.000  </td></tr>
+ 
+<tr><td class=firstcolumn>Item 2</td>
+<td class=cellinside>159.01 </td>
+<td class=cellinside>0.000  </td></tr>
+ 
+<tr><td class=firstcolumn>Item 3</td>
+<td class=cellinside>233.787</td>
+<td class=cellinside>0.000  </td></tr>
+ 
+<tr><td class=firstcolumn>Item 4</td>
+<td class=cellinside>132.473</td>
+<td class=cellinside>0.000  </td></tr>
+ 
+<tr><td class=firstcolumn>Item 5</td>
+<td class=cellinside>84.76  </td>
+<td class=cellinside>0.000  </td></tr>
+ 
+	</tbody>
+</table>
+ </td></table>
+ <br>
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.LLTM_parameter_estimation.rkcommands.R rkward-0.5.3/tests/item_response_theory/RKTestStandard.LLTM_parameter_estimation.rkcommands.R
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.LLTM_parameter_estimation.rkcommands.R	2010-03-03 12:11:55.000000000 +0200
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.LLTM_parameter_estimation.rkcommands.R	2010-06-27 15:02:13.037392000 +0300
@@ -12,7 +12,7 @@
 rk.print (paste("Conditional log-likelihood:",round(estimates.lltm$loglik, digits=1),
 "<br />Number of iterations:",estimates.lltm$iter,"<br />Number of parameters:",estimates.lltm$npar))
 # keep results in current workspace
-estimates.lltm <<- estimates.lltm
+.GlobalEnv$estimates.lltm <- estimates.lltm
 })
-.rk.rerun.plugin.link(plugin="rkward::par_est_lltm", settings="chk_save.state=save\ndesign.string=auto\netastart.string=NULL\ngroups.string=1\nmpoints.real=2.00\nsave_name.selection=estimates.lltm\nstderr.state=se\nsumnull.state=sum0\nx.available=lltmdat1", label="Run again")
+.rk.rerun.plugin.link(plugin="rkward::par_est_lltm", settings="design.string=auto\netastart.string=NULL\ngroups.string=1\nmpoints.real=2.00\nsave_name.active=1\nsave_name.objectname=estimates.lltm\nsave_name.parent=.GlobalEnv\nstderr.state=se\nsumnull.state=sum0\nx.available=lltmdat1", label="Run again")
 .rk.make.hr()
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.LLTM_parameter_estimation.rkout rkward-0.5.3/tests/item_response_theory/RKTestStandard.LLTM_parameter_estimation.rkout
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.LLTM_parameter_estimation.rkout	2010-03-03 12:11:55.000000000 +0200
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.LLTM_parameter_estimation.rkout	2010-08-06 18:06:45.667225000 +0300
@@ -1,31 +1,81 @@
 <h1>LLTM  parameter estimation</h1>
 DATE<br>
-<p class='character'>Call:</p><pre>LLTM(X = lltmdat1, mpoints = 2)</pre>
+
+<p class='character'>Call:</p>
+<pre>LLTM(X = lltmdat1, mpoints = 2)</pre>
 <h4>Coefficients:</h4>
 <br>
 
+
 <p align= center >
-<table cellspacing=0 border=1><caption align=bottom class=captiondataframe></caption><tr><td>
+<table cellspacing=0 border=1><caption align=bottom class=captiondataframe></caption>
+<tr><td>
 	<table border=0 class=dataframe>
 	<tbody> <tr class= firstline > <th></th><th>Eta</th><th>StdErr</th> </tr>
- <tr><td class=firstcolumn>eta 1</td><td class=cellinside> 0.182</td><td class=cellinside> 0.149</td></tr>
- <tr><td class=firstcolumn>eta 2</td><td class=cellinside> 0.324</td><td class=cellinside> 0.149</td></tr>
- <tr><td class=firstcolumn>eta 3</td><td class=cellinside>-0.704</td><td class=cellinside> 0.158</td></tr>
- <tr><td class=firstcolumn>eta 4</td><td class=cellinside>-0.247</td><td class=cellinside> 0.151</td></tr>
- <tr><td class=firstcolumn>eta 5</td><td class=cellinside> 0.491</td><td class=cellinside> 0.150</td></tr>
- <tr><td class=firstcolumn>eta 6</td><td class=cellinside> 0.810</td><td class=cellinside> 0.154</td></tr>
- <tr><td class=firstcolumn>eta 7</td><td class=cellinside> 0.686</td><td class=cellinside> 0.152</td></tr>
- <tr><td class=firstcolumn>eta 8</td><td class=cellinside> 0.253</td><td class=cellinside> 0.149</td></tr>
- <tr><td class=firstcolumn>eta 9</td><td class=cellinside>-0.953</td><td class=cellinside> 0.164</td></tr>
- <tr><td class=firstcolumn>eta 10</td><td class=cellinside> 0.253</td><td class=cellinside> 0.149</td></tr>
- <tr><td class=firstcolumn>eta 11</td><td class=cellinside> 0.135</td><td class=cellinside> 0.149</td></tr>
- <tr><td class=firstcolumn>eta 12</td><td class=cellinside>-0.840</td><td class=cellinside> 0.161</td></tr>
- <tr><td class=firstcolumn>eta 13</td><td class=cellinside>-1.325</td><td class=cellinside> 0.176</td></tr>
- <tr><td class=firstcolumn>eta 14</td><td class=cellinside> 0.515</td><td class=cellinside> 0.150</td></tr>
- <tr><td class=firstcolumn>eta 15</td><td class=cellinside> 0.245</td><td class=cellinside> 0.082</td></tr>
+ 
+<tr><td class=firstcolumn>eta 1</td>
+<td class=cellinside> 0.182</td>
+<td class=cellinside> 0.149</td></tr>
+ 
+<tr><td class=firstcolumn>eta 2</td>
+<td class=cellinside> 0.324</td>
+<td class=cellinside> 0.149</td></tr>
+ 
+<tr><td class=firstcolumn>eta 3</td>
+<td class=cellinside>-0.704</td>
+<td class=cellinside> 0.158</td></tr>
+ 
+<tr><td class=firstcolumn>eta 4</td>
+<td class=cellinside>-0.247</td>
+<td class=cellinside> 0.151</td></tr>
+ 
+<tr><td class=firstcolumn>eta 5</td>
+<td class=cellinside> 0.491</td>
+<td class=cellinside> 0.150</td></tr>
+ 
+<tr><td class=firstcolumn>eta 6</td>
+<td class=cellinside> 0.810</td>
+<td class=cellinside> 0.154</td></tr>
+ 
+<tr><td class=firstcolumn>eta 7</td>
+<td class=cellinside> 0.686</td>
+<td class=cellinside> 0.152</td></tr>
+ 
+<tr><td class=firstcolumn>eta 8</td>
+<td class=cellinside> 0.253</td>
+<td class=cellinside> 0.149</td></tr>
+ 
+<tr><td class=firstcolumn>eta 9</td>
+<td class=cellinside>-0.953</td>
+<td class=cellinside> 0.164</td></tr>
+ 
+<tr><td class=firstcolumn>eta 10</td>
+<td class=cellinside> 0.253</td>
+<td class=cellinside> 0.149</td></tr>
+ 
+<tr><td class=firstcolumn>eta 11</td>
+<td class=cellinside> 0.135</td>
+<td class=cellinside> 0.149</td></tr>
+ 
+<tr><td class=firstcolumn>eta 12</td>
+<td class=cellinside>-0.840</td>
+<td class=cellinside> 0.161</td></tr>
+ 
+<tr><td class=firstcolumn>eta 13</td>
+<td class=cellinside>-1.325</td>
+<td class=cellinside> 0.176</td></tr>
+ 
+<tr><td class=firstcolumn>eta 14</td>
+<td class=cellinside> 0.515</td>
+<td class=cellinside> 0.150</td></tr>
+ 
+<tr><td class=firstcolumn>eta 15</td>
+<td class=cellinside> 0.245</td>
+<td class=cellinside> 0.082</td></tr>
  
 	</tbody>
 </table>
  </td></table>
  <br>
-<p class='character'>Conditional log-likelihood: -1511.2 <br />Number of iterations: 15 <br />Number of parameters: 15</p>
\ Dosya sonunda yenisatır yok.
+
+<p class='character'>Conditional log-likelihood: -1511.2 <br />Number of iterations: 15 <br />Number of parameters: 15</p>
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.LPCM_parameter_estimation.rkcommands.R rkward-0.5.3/tests/item_response_theory/RKTestStandard.LPCM_parameter_estimation.rkcommands.R
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.LPCM_parameter_estimation.rkcommands.R	2010-03-03 12:11:55.000000000 +0200
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.LPCM_parameter_estimation.rkcommands.R	2010-06-27 15:02:13.037392000 +0300
@@ -12,7 +12,7 @@
 rk.print (paste("Conditional log-likelihood:",round(estimates.lpcm$loglik, digits=1),
 "<br />Number of iterations:",estimates.lpcm$iter,"<br />Number of parameters:",estimates.lpcm$npar))
 # keep results in current workspace
-estimates.lpcm <<- estimates.lpcm
+.GlobalEnv$estimates.lpcm <- estimates.lpcm
 })
-.rk.rerun.plugin.link(plugin="rkward::par_est_lpcm", settings="chk_save.state=save\ndesign.string=auto\netastart.string=NULL\ngroup_vec.available=G\ngroups.string=contrasts\nmpoints.real=2.00\nsave_name.selection=estimates.lpcm\nstderr.state=se\nsumnull.state=sum0\nx.available=lpcmdat", label="Run again")
+.rk.rerun.plugin.link(plugin="rkward::par_est_lpcm", settings="design.string=auto\netastart.string=NULL\ngroup_vec.available=G\ngroups.string=contrasts\nmpoints.real=2.00\nsave_name.active=1\nsave_name.objectname=estimates.lpcm\nsave_name.parent=.GlobalEnv\nstderr.state=se\nsumnull.state=sum0\nx.available=lpcmdat", label="Run again")
 .rk.make.hr()
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.LPCM_parameter_estimation.rkout rkward-0.5.3/tests/item_response_theory/RKTestStandard.LPCM_parameter_estimation.rkout
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.LPCM_parameter_estimation.rkout	2010-03-03 12:11:55.000000000 +0200
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.LPCM_parameter_estimation.rkout	2010-08-06 18:06:45.667225000 +0300
@@ -1,26 +1,61 @@
 <h1>LPCM  parameter estimation</h1>
 DATE<br>
-<p class='character'>Call:</p><pre>LPCM(X = lpcmdat, mpoints = 2, groupvec = G)</pre>
+
+<p class='character'>Call:</p>
+<pre>LPCM(X = lpcmdat, mpoints = 2, groupvec = G)</pre>
 <h4>Coefficients:</h4>
 <br>
 
+
 <p align= center >
-<table cellspacing=0 border=1><caption align=bottom class=captiondataframe></caption><tr><td>
+<table cellspacing=0 border=1><caption align=bottom class=captiondataframe></caption>
+<tr><td>
 	<table border=0 class=dataframe>
 	<tbody> <tr class= firstline > <th></th><th>Eta</th><th>StdErr</th> </tr>
- <tr><td class=firstcolumn>eta 1</td><td class=cellinside> 0.412</td><td class=cellinside> 0.397</td></tr>
- <tr><td class=firstcolumn>eta 2</td><td class=cellinside>-0.299</td><td class=cellinside> 0.494</td></tr>
- <tr><td class=firstcolumn>eta 3</td><td class=cellinside>-0.135</td><td class=cellinside> 0.409</td></tr>
- <tr><td class=firstcolumn>eta 4</td><td class=cellinside> 0.035</td><td class=cellinside> 0.394</td></tr>
- <tr><td class=firstcolumn>eta 5</td><td class=cellinside>-0.429</td><td class=cellinside> 0.478</td></tr>
- <tr><td class=firstcolumn>eta 6</td><td class=cellinside>-0.286</td><td class=cellinside> 0.449</td></tr>
- <tr><td class=firstcolumn>eta 7</td><td class=cellinside> 0.164</td><td class=cellinside> 0.399</td></tr>
- <tr><td class=firstcolumn>eta 8</td><td class=cellinside> 0.101</td><td class=cellinside> 0.435</td></tr>
- <tr><td class=firstcolumn>eta 9</td><td class=cellinside>-0.201</td><td class=cellinside> 0.261</td></tr>
- <tr><td class=firstcolumn>eta 10</td><td class=cellinside> 1.094</td><td class=cellinside> 0.387</td></tr>
+ 
+<tr><td class=firstcolumn>eta 1</td>
+<td class=cellinside> 0.412</td>
+<td class=cellinside> 0.397</td></tr>
+ 
+<tr><td class=firstcolumn>eta 2</td>
+<td class=cellinside>-0.299</td>
+<td class=cellinside> 0.494</td></tr>
+ 
+<tr><td class=firstcolumn>eta 3</td>
+<td class=cellinside>-0.135</td>
+<td class=cellinside> 0.409</td></tr>
+ 
+<tr><td class=firstcolumn>eta 4</td>
+<td class=cellinside> 0.035</td>
+<td class=cellinside> 0.394</td></tr>
+ 
+<tr><td class=firstcolumn>eta 5</td>
+<td class=cellinside>-0.429</td>
+<td class=cellinside> 0.478</td></tr>
+ 
+<tr><td class=firstcolumn>eta 6</td>
+<td class=cellinside>-0.286</td>
+<td class=cellinside> 0.449</td></tr>
+ 
+<tr><td class=firstcolumn>eta 7</td>
+<td class=cellinside> 0.164</td>
+<td class=cellinside> 0.399</td></tr>
+ 
+<tr><td class=firstcolumn>eta 8</td>
+<td class=cellinside> 0.101</td>
+<td class=cellinside> 0.435</td></tr>
+ 
+<tr><td class=firstcolumn>eta 9</td>
+<td class=cellinside>-0.201</td>
+<td class=cellinside> 0.261</td></tr>
+ 
+<tr><td class=firstcolumn>eta 10</td>
+<td class=cellinside> 1.094</td>
+<td class=cellinside> 0.387</td></tr>
  
 	</tbody>
 </table>
  </td></table>
  <br>
-<p class='character'>Conditional log-likelihood: -103.7 <br />Number of iterations: 28 <br />Number of parameters: 10</p>
\ Dosya sonunda yenisatır yok.
+
+<p class='character'>Conditional log-likelihood: -103.7 <br />Number of iterations: 28 <br />Number of parameters: 10</p>
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.LRSM_parameter_estimation.rkcommands.R rkward-0.5.3/tests/item_response_theory/RKTestStandard.LRSM_parameter_estimation.rkcommands.R
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.LRSM_parameter_estimation.rkcommands.R	2010-03-03 12:11:55.000000000 +0200
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.LRSM_parameter_estimation.rkcommands.R	2010-06-27 15:02:13.037392000 +0300
@@ -12,7 +12,7 @@
 rk.print (paste("Conditional log-likelihood:",round(estimates.lrsm$loglik, digits=1),
 "<br />Number of iterations:",estimates.lrsm$iter,"<br />Number of parameters:",estimates.lrsm$npar))
 # keep results in current workspace
-estimates.lrsm <<- estimates.lrsm
+.GlobalEnv$estimates.lrsm <- estimates.lrsm
 })
-.rk.rerun.plugin.link(plugin="rkward::par_est_lrsm", settings="chk_save.state=save\ndesign.string=auto\netastart.string=NULL\ngroups.string=1\nmpoints.real=2.00\nsave_name.selection=estimates.lrsm\nstderr.state=\nsumnull.state=\nx.available=lrsmdat", label="Run again")
+.rk.rerun.plugin.link(plugin="rkward::par_est_lrsm", settings="design.string=auto\netastart.string=NULL\ngroups.string=1\nmpoints.real=2.00\nsave_name.active=1\nsave_name.objectname=estimates.lrsm\nsave_name.parent=.GlobalEnv\nstderr.state=\nsumnull.state=\nx.available=lrsmdat", label="Run again")
 .rk.make.hr()
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.LRSM_parameter_estimation.rkout rkward-0.5.3/tests/item_response_theory/RKTestStandard.LRSM_parameter_estimation.rkout
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.LRSM_parameter_estimation.rkout	2010-03-03 12:11:55.000000000 +0200
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.LRSM_parameter_estimation.rkout	2010-08-06 18:06:45.667225000 +0300
@@ -1,21 +1,41 @@
 <h1>LRSM  parameter estimation</h1>
 DATE<br>
-<p class='character'>Call:</p><pre>LRSM(X = lrsmdat, mpoints = 2, se = FALSE, sum0 = FALSE)</pre>
+
+<p class='character'>Call:</p>
+<pre>LRSM(X = lrsmdat, mpoints = 2, se = FALSE, sum0 = FALSE)</pre>
 <h4>Coefficients:</h4>
 <br>
 
+
 <p align= center >
-<table cellspacing=0 border=1><caption align=bottom class=captiondataframe></caption><tr><td>
+<table cellspacing=0 border=1><caption align=bottom class=captiondataframe></caption>
+<tr><td>
 	<table border=0 class=dataframe>
 	<tbody> <tr class= firstline > <th></th><th>Eta</th><th>StdErr</th> </tr>
- <tr><td class=firstcolumn>eta 1</td><td class=cellinside>-0.046</td><td class=cellinside>    NA</td></tr>
- <tr><td class=firstcolumn>eta 2</td><td class=cellinside> 0.114</td><td class=cellinside>    NA</td></tr>
- <tr><td class=firstcolumn>eta 3</td><td class=cellinside> 0.197</td><td class=cellinside>    NA</td></tr>
- <tr><td class=firstcolumn>eta 4</td><td class=cellinside>-0.042</td><td class=cellinside>    NA</td></tr>
- <tr><td class=firstcolumn>eta 5</td><td class=cellinside> 0.346</td><td class=cellinside>    NA</td></tr>
+ 
+<tr><td class=firstcolumn>eta 1</td>
+<td class=cellinside>-0.046</td>
+<td class=cellinside>    NA</td></tr>
+ 
+<tr><td class=firstcolumn>eta 2</td>
+<td class=cellinside> 0.114</td>
+<td class=cellinside>    NA</td></tr>
+ 
+<tr><td class=firstcolumn>eta 3</td>
+<td class=cellinside> 0.197</td>
+<td class=cellinside>    NA</td></tr>
+ 
+<tr><td class=firstcolumn>eta 4</td>
+<td class=cellinside>-0.042</td>
+<td class=cellinside>    NA</td></tr>
+ 
+<tr><td class=firstcolumn>eta 5</td>
+<td class=cellinside> 0.346</td>
+<td class=cellinside>    NA</td></tr>
  
 	</tbody>
 </table>
  </td></table>
  <br>
-<p class='character'>Conditional log-likelihood: -109.3 <br />Number of iterations: 11 <br />Number of parameters: 5</p>
\ Dosya sonunda yenisatır yok.
+
+<p class='character'>Conditional log-likelihood: -109.3 <br />Number of iterations: 11 <br />Number of parameters: 5</p>
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.PCM_parameter_estimation.rkcommands.R rkward-0.5.3/tests/item_response_theory/RKTestStandard.PCM_parameter_estimation.rkcommands.R
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.PCM_parameter_estimation.rkcommands.R	2010-03-03 12:11:55.000000000 +0200
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.PCM_parameter_estimation.rkcommands.R	2010-06-27 15:02:13.037392000 +0300
@@ -12,7 +12,7 @@
 rk.print (paste("Conditional log-likelihood:",round(estimates.pcm$loglik, digits=1),
 "<br />Number of iterations:",estimates.pcm$iter,"<br />Number of parameters:",estimates.pcm$npar))
 # keep results in current workspace
-estimates.pcm <<- estimates.pcm
+.GlobalEnv$estimates.pcm <- estimates.pcm
 })
-.rk.rerun.plugin.link(plugin="rkward::par_est_pcm", settings="chk_save.state=save\ndesign.string=auto\netastart.string=NULL\nsave_name.selection=estimates.pcm\nstderr.state=se\nsumnull.state=sum0\nx.available=pcmdat", label="Run again")
+.rk.rerun.plugin.link(plugin="rkward::par_est_pcm", settings="design.string=auto\netastart.string=NULL\nsave_name.active=1\nsave_name.objectname=estimates.pcm\nsave_name.parent=.GlobalEnv\nstderr.state=se\nsumnull.state=sum0\nx.available=pcmdat", label="Run again")
 .rk.make.hr()
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.PCM_parameter_estimation.rkout rkward-0.5.3/tests/item_response_theory/RKTestStandard.PCM_parameter_estimation.rkout
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.PCM_parameter_estimation.rkout	2010-04-24 20:16:42.000000000 +0300
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.PCM_parameter_estimation.rkout	2010-08-06 18:06:45.667225000 +0300
@@ -1,35 +1,97 @@
 <h1>PCM  parameter estimation</h1>
 DATE<br>
-<p class='character'>Call:</p><pre>PCM(X = pcmdat)</pre>
+
+<p class='character'>Call:</p>
+<pre>PCM(X = pcmdat)</pre>
 <h4>Coefficients:</h4>
 <br>
 
+
 <p align= center >
-<table cellspacing=0 border=1><caption align=bottom class=captiondataframe></caption><tr><td>
+<table cellspacing=0 border=1><caption align=bottom class=captiondataframe></caption>
+<tr><td>
 	<table border=0 class=dataframe>
 	<tbody> <tr class= firstline > <th></th><th>Eta</th><th>StdErr</th> </tr>
- <tr><td class=firstcolumn>I1.c2</td><td class=cellinside>-0.937</td><td class=cellinside> 0.565</td></tr>
- <tr><td class=firstcolumn>I1.c3</td><td class=cellinside> 0.330</td><td class=cellinside> 0.809</td></tr>
- <tr><td class=firstcolumn>I2.c1</td><td class=cellinside>-0.251</td><td class=cellinside> 0.525</td></tr>
- <tr><td class=firstcolumn>I2.c2</td><td class=cellinside>-0.065</td><td class=cellinside> 0.580</td></tr>
- <tr><td class=firstcolumn>I2.c3</td><td class=cellinside> 1.432</td><td class=cellinside> 1.024</td></tr>
- <tr><td class=firstcolumn>I3.c1</td><td class=cellinside> 0.224</td><td class=cellinside> 0.561</td></tr>
- <tr><td class=firstcolumn>I3.c2</td><td class=cellinside> 0.074</td><td class=cellinside> 0.568</td></tr>
- <tr><td class=firstcolumn>I3.c3</td><td class=cellinside> 0.878</td><td class=cellinside> 0.784</td></tr>
- <tr><td class=firstcolumn>I4.c1</td><td class=cellinside>-0.423</td><td class=cellinside> 0.547</td></tr>
- <tr><td class=firstcolumn>I4.c2</td><td class=cellinside> 0.263</td><td class=cellinside> 0.689</td></tr>
- <tr><td class=firstcolumn>I4.c3</td><td class=cellinside>-0.140</td><td class=cellinside> 0.650</td></tr>
- <tr><td class=firstcolumn>I5.c1</td><td class=cellinside> 0.980</td><td class=cellinside> 0.788</td></tr>
- <tr><td class=firstcolumn>I5.c2</td><td class=cellinside>-0.096</td><td class=cellinside> 0.585</td></tr>
- <tr><td class=firstcolumn>I5.c3</td><td class=cellinside>-0.403</td><td class=cellinside> 0.579</td></tr>
- <tr><td class=firstcolumn>I6.c1</td><td class=cellinside> 0.586</td><td class=cellinside> 0.826</td></tr>
- <tr><td class=firstcolumn>I6.c2</td><td class=cellinside>-0.504</td><td class=cellinside> 0.634</td></tr>
- <tr><td class=firstcolumn>I6.c3</td><td class=cellinside>-1.100</td><td class=cellinside> 0.587</td></tr>
- <tr><td class=firstcolumn>I7.c1</td><td class=cellinside>-0.849</td><td class=cellinside> 0.504</td></tr>
- <tr><td class=firstcolumn>I7.c2</td><td class=cellinside> 0.298</td><td class=cellinside> 0.701</td></tr>
+ 
+<tr><td class=firstcolumn>I1.c2</td>
+<td class=cellinside>-0.937</td>
+<td class=cellinside> 0.565</td></tr>
+ 
+<tr><td class=firstcolumn>I1.c3</td>
+<td class=cellinside> 0.330</td>
+<td class=cellinside> 0.809</td></tr>
+ 
+<tr><td class=firstcolumn>I2.c1</td>
+<td class=cellinside>-0.251</td>
+<td class=cellinside> 0.525</td></tr>
+ 
+<tr><td class=firstcolumn>I2.c2</td>
+<td class=cellinside>-0.065</td>
+<td class=cellinside> 0.580</td></tr>
+ 
+<tr><td class=firstcolumn>I2.c3</td>
+<td class=cellinside> 1.432</td>
+<td class=cellinside> 1.024</td></tr>
+ 
+<tr><td class=firstcolumn>I3.c1</td>
+<td class=cellinside> 0.224</td>
+<td class=cellinside> 0.561</td></tr>
+ 
+<tr><td class=firstcolumn>I3.c2</td>
+<td class=cellinside> 0.074</td>
+<td class=cellinside> 0.568</td></tr>
+ 
+<tr><td class=firstcolumn>I3.c3</td>
+<td class=cellinside> 0.878</td>
+<td class=cellinside> 0.784</td></tr>
+ 
+<tr><td class=firstcolumn>I4.c1</td>
+<td class=cellinside>-0.423</td>
+<td class=cellinside> 0.547</td></tr>
+ 
+<tr><td class=firstcolumn>I4.c2</td>
+<td class=cellinside> 0.263</td>
+<td class=cellinside> 0.689</td></tr>
+ 
+<tr><td class=firstcolumn>I4.c3</td>
+<td class=cellinside>-0.140</td>
+<td class=cellinside> 0.650</td></tr>
+ 
+<tr><td class=firstcolumn>I5.c1</td>
+<td class=cellinside> 0.980</td>
+<td class=cellinside> 0.788</td></tr>
+ 
+<tr><td class=firstcolumn>I5.c2</td>
+<td class=cellinside>-0.096</td>
+<td class=cellinside> 0.585</td></tr>
+ 
+<tr><td class=firstcolumn>I5.c3</td>
+<td class=cellinside>-0.403</td>
+<td class=cellinside> 0.579</td></tr>
+ 
+<tr><td class=firstcolumn>I6.c1</td>
+<td class=cellinside> 0.586</td>
+<td class=cellinside> 0.826</td></tr>
+ 
+<tr><td class=firstcolumn>I6.c2</td>
+<td class=cellinside>-0.504</td>
+<td class=cellinside> 0.634</td></tr>
+ 
+<tr><td class=firstcolumn>I6.c3</td>
+<td class=cellinside>-1.100</td>
+<td class=cellinside> 0.587</td></tr>
+ 
+<tr><td class=firstcolumn>I7.c1</td>
+<td class=cellinside>-0.849</td>
+<td class=cellinside> 0.504</td></tr>
+ 
+<tr><td class=firstcolumn>I7.c2</td>
+<td class=cellinside> 0.298</td>
+<td class=cellinside> 0.701</td></tr>
  
 	</tbody>
 </table>
  </td></table>
  <br>
-<p class='character'>Conditional log-likelihood: -121.1 <br />Number of iterations: 16 <br />Number of parameters: 19</p>
\ Dosya sonunda yenisatır yok.
+
+<p class='character'>Conditional log-likelihood: -121.1 <br />Number of iterations: 16 <br />Number of parameters: 19</p>
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.person_fit_statistics.rkcommands.R rkward-0.5.3/tests/item_response_theory/RKTestStandard.person_fit_statistics.rkcommands.R
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.person_fit_statistics.rkcommands.R	2010-03-03 12:11:55.000000000 +0200
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.person_fit_statistics.rkcommands.R	2010-08-06 18:06:45.667225000 +0300
@@ -5,7 +5,10 @@
 personfit.res <- person.fit(estimates.rasch)
 ## Print result
 rk.header ("Person-fit statistics (estimates.rasch)")
-rk.print (personfit.res)
+rk.print ("Call:")
+rk.print.literal (deparse(personfit.res$call, width.cutoff=500))
+rk.header ("Response patterns, person-fit statistics (L0, Lz) and probabilities for each response pattern (Pr):", level=4)
+rk.print(cbind(format(personfit.res$resp.patterns, nsmall=0), round(personfit.res$Tobs, digits=3), "Pr (&lt;Lz)"=round(c(personfit.res$p.values), digits=3)))
 })
 .rk.rerun.plugin.link(plugin="rkward::ltm_person_fit", settings="rad_hypot.string=less\nrad_pvalue.string=normal\nrad_resppat.string=observed\nx.available=estimates.rasch", label="Run again")
 .rk.make.hr()
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.person_fit_statistics.rkout rkward-0.5.3/tests/item_response_theory/RKTestStandard.person_fit_statistics.rkout
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.person_fit_statistics.rkout	2009-10-05 19:34:37.000000000 +0300
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.person_fit_statistics.rkout	2010-08-06 18:06:45.667225000 +0300
@@ -1,3 +1,319 @@
 <h1>Person-fit statistics (estimates.rasch)</h1>
 DATE<br>
-<p class='character'><br>Person-Fit Statistics and P-values<br><br>Call:<br>rasch(data = LSAT)<br><br>Alternative: Inconsistent response pattern under the estimated model<br><br>   Item 1 Item 2 Item 3 Item 4 Item 5      L0      Lz Pr(<Lz)<br>1       0      0      0      0      0 -3.9914 -1.1186  0.1317<br>2       0      0      0      0      1 -3.9467 -1.0917  0.1375<br>3       0      0      0      1      0 -4.7396 -2.0187  0.0218<br>4       0      0      0      1      1 -4.1206 -1.3376  0.0905<br>5       0      0      1      0      0 -5.8062 -3.2656  0.0005<br>6       0      0      1      0      1 -5.1872 -2.4767  0.0066<br>7       0      0      1      1      0 -5.9802 -3.3235  0.0004<br>8       0      0      1      1      1 -4.7717 -2.0310  0.0211<br>9       0      1      0      0      0 -5.0475 -2.3786  0.0087<br>10      0      1      0      0      1 -4.4284 -1.6664  0.0478<br>11      0      1      0      1      1 -4.0129 -1.3093  0.0952<br>12      0      1      1      0      1 -5.0795 -2.3238  0.0101<br>13      0      1      1      1      0 -5.8725 -3.0780   0.001<br>14      0      1      1      1      1 -4.0395 -1.4551  0.0728<br>15      1      0      0      0      0 -3.3161 -0.3545  0.3615<br>16      1      0      0      0      1 -2.6970  0.1827  0.5725<br>17      1      0      0      1      0 -3.4900 -0.6641  0.2533<br>18      1      0      0      1      1 -2.2815  0.3375  0.6321<br>19      1      0      1      0      0 -4.5566 -1.8032  0.0357<br>20      1      0      1      0      1 -3.3481 -0.6769  0.2492<br>21      1      0      1      1      0 -4.1411 -1.4312  0.0762<br>22      1      0      1      1      1 -2.3081  0.0190  0.5076<br>23      1      1      0      0      0 -3.7978 -0.9929  0.1604<br>24      1      1      0      0      1 -2.5894  0.0447  0.5178<br>25      1      1      0      1      0 -3.3823 -0.7095   0.239<br>26      1      1      0      1      1 -1.5494  0.6651   0.747<br>27      1      1      1      0      0 -4.4489 -1.7240  0.0424<br>28      1      1      1      0      1 -2.6160 -0.2431   0.404<br>29      1      1      1      1      0 -3.4089 -0.9182  0.1793<br>30      1      1      1      1      1 -0.8945  0.8407  0.7997<br><br></p>
\ Dosya sonunda yenisatır yok.
+
+<p class='character'>Call:</p>
+<pre>rasch(data = LSAT)</pre>
+<h4>Response patterns, person-fit statistics (L0, Lz) and probabilities for each response pattern (Pr):</h4>
+<br>
+
+
+<p align= center >
+<table cellspacing=0 border=1><caption align=bottom class=captiondataframe></caption>
+<tr><td>
+	<table border=0 class=dataframe>
+	<tbody> <tr class= firstline > <th></th><th>Item 1</th><th>Item 2</th><th>Item 3</th><th>Item 4</th><th>Item 5</th><th>L0</th><th>Lz</th><th>Pr (&lt;Lz)</th> </tr>
+ 
+<tr><td class=firstcolumn>1</td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>-3.991</td>
+<td class=cellinside>-1.119</td>
+<td class=cellinside>0.132 </td></tr>
+ 
+<tr><td class=firstcolumn>2</td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>-3.947</td>
+<td class=cellinside>-1.092</td>
+<td class=cellinside>0.137 </td></tr>
+ 
+<tr><td class=firstcolumn>3</td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>-4.74 </td>
+<td class=cellinside>-2.019</td>
+<td class=cellinside>0.022 </td></tr>
+ 
+<tr><td class=firstcolumn>4</td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>-4.121</td>
+<td class=cellinside>-1.338</td>
+<td class=cellinside>0.091 </td></tr>
+ 
+<tr><td class=firstcolumn>5</td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>-5.806</td>
+<td class=cellinside>-3.266</td>
+<td class=cellinside>0.001 </td></tr>
+ 
+<tr><td class=firstcolumn>6</td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>-5.187</td>
+<td class=cellinside>-2.477</td>
+<td class=cellinside>0.007 </td></tr>
+ 
+<tr><td class=firstcolumn>7</td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>-5.98 </td>
+<td class=cellinside>-3.324</td>
+<td class=cellinside>0     </td></tr>
+ 
+<tr><td class=firstcolumn>8</td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>-4.772</td>
+<td class=cellinside>-2.031</td>
+<td class=cellinside>0.021 </td></tr>
+ 
+<tr><td class=firstcolumn>9</td>
+<td class=cellinside>0     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>-5.047</td>
+<td class=cellinside>-2.379</td>
+<td class=cellinside>0.009 </td></tr>
+ 
+<tr><td class=firstcolumn>10</td>
+<td class=cellinside>0     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>-4.428</td>
+<td class=cellinside>-1.666</td>
+<td class=cellinside>0.048 </td></tr>
+ 
+<tr><td class=firstcolumn>11</td>
+<td class=cellinside>0     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>-4.013</td>
+<td class=cellinside>-1.309</td>
+<td class=cellinside>0.095 </td></tr>
+ 
+<tr><td class=firstcolumn>12</td>
+<td class=cellinside>0     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>-5.08 </td>
+<td class=cellinside>-2.324</td>
+<td class=cellinside>0.01  </td></tr>
+ 
+<tr><td class=firstcolumn>13</td>
+<td class=cellinside>0     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>-5.872</td>
+<td class=cellinside>-3.078</td>
+<td class=cellinside>0.001 </td></tr>
+ 
+<tr><td class=firstcolumn>14</td>
+<td class=cellinside>0     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>-4.04 </td>
+<td class=cellinside>-1.455</td>
+<td class=cellinside>0.073 </td></tr>
+ 
+<tr><td class=firstcolumn>15</td>
+<td class=cellinside>1     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>-3.316</td>
+<td class=cellinside>-0.354</td>
+<td class=cellinside>0.361 </td></tr>
+ 
+<tr><td class=firstcolumn>16</td>
+<td class=cellinside>1     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>-2.697</td>
+<td class=cellinside>0.183 </td>
+<td class=cellinside>0.572 </td></tr>
+ 
+<tr><td class=firstcolumn>17</td>
+<td class=cellinside>1     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>-3.49 </td>
+<td class=cellinside>-0.664</td>
+<td class=cellinside>0.253 </td></tr>
+ 
+<tr><td class=firstcolumn>18</td>
+<td class=cellinside>1     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>-2.282</td>
+<td class=cellinside>0.338 </td>
+<td class=cellinside>0.632 </td></tr>
+ 
+<tr><td class=firstcolumn>19</td>
+<td class=cellinside>1     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>-4.557</td>
+<td class=cellinside>-1.803</td>
+<td class=cellinside>0.036 </td></tr>
+ 
+<tr><td class=firstcolumn>20</td>
+<td class=cellinside>1     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>-3.348</td>
+<td class=cellinside>-0.677</td>
+<td class=cellinside>0.249 </td></tr>
+ 
+<tr><td class=firstcolumn>21</td>
+<td class=cellinside>1     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>-4.141</td>
+<td class=cellinside>-1.431</td>
+<td class=cellinside>0.076 </td></tr>
+ 
+<tr><td class=firstcolumn>22</td>
+<td class=cellinside>1     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>-2.308</td>
+<td class=cellinside>0.019 </td>
+<td class=cellinside>0.508 </td></tr>
+ 
+<tr><td class=firstcolumn>23</td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>-3.798</td>
+<td class=cellinside>-0.993</td>
+<td class=cellinside>0.16  </td></tr>
+ 
+<tr><td class=firstcolumn>24</td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>-2.589</td>
+<td class=cellinside>0.045 </td>
+<td class=cellinside>0.518 </td></tr>
+ 
+<tr><td class=firstcolumn>25</td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>-3.382</td>
+<td class=cellinside>-0.709</td>
+<td class=cellinside>0.239 </td></tr>
+ 
+<tr><td class=firstcolumn>26</td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>-1.549</td>
+<td class=cellinside>0.665 </td>
+<td class=cellinside>0.747 </td></tr>
+ 
+<tr><td class=firstcolumn>27</td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>-4.449</td>
+<td class=cellinside>-1.724</td>
+<td class=cellinside>0.042 </td></tr>
+ 
+<tr><td class=firstcolumn>28</td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>-2.616</td>
+<td class=cellinside>-0.243</td>
+<td class=cellinside>0.404 </td></tr>
+ 
+<tr><td class=firstcolumn>29</td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>0     </td>
+<td class=cellinside>-3.409</td>
+<td class=cellinside>-0.918</td>
+<td class=cellinside>0.179 </td></tr>
+ 
+<tr><td class=firstcolumn>30</td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>1     </td>
+<td class=cellinside>-0.895</td>
+<td class=cellinside>0.841 </td>
+<td class=cellinside>0.8   </td></tr>
+ 
+	</tbody>
+</table>
+ </td></table>
+ <br>
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.Rasch_parameter_estimation.rkcommands.R rkward-0.5.3/tests/item_response_theory/RKTestStandard.Rasch_parameter_estimation.rkcommands.R
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.Rasch_parameter_estimation.rkcommands.R	2010-03-03 12:11:55.000000000 +0200
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.Rasch_parameter_estimation.rkcommands.R	2010-06-27 15:02:13.037392000 +0300
@@ -11,7 +11,7 @@
 rk.print (coef(estimates.rasch))
 rk.print (paste("Log-likelihood value at convergence:",round(estimates.rasch$log.Lik, digits=1)))
 # keep results in current workspace
-estimates.rasch <<- estimates.rasch
+.GlobalEnv$estimates.rasch <- estimates.rasch
 })
-.rk.rerun.plugin.link(plugin="rkward::par_est_rasch", settings="chk_save.state=save\nconstraint.available=\nghk_rasch.real=21.00\nirtparam.state=TRUE\niterqn_rasch.real=150.00\nnaaction.state=\noptimeth.string=BFGS\nsave_name.selection=estimates.rasch\nstartval.string=NULL\nverbose.state=\nx.available=LSAT", label="Run again")
+.rk.rerun.plugin.link(plugin="rkward::par_est_rasch", settings="constraint.available=\nghk_rasch.real=21.00\nirtparam.state=TRUE\niterqn_rasch.real=150.00\nnaaction.state=\noptimeth.string=BFGS\nsave_name.active=1\nsave_name.objectname=estimates.rasch\nsave_name.parent=.GlobalEnv\nstartval.string=NULL\nverbose.state=\nx.available=LSAT", label="Run again")
 .rk.make.hr()
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.Rasch_parameter_estimation.rkout rkward-0.5.3/tests/item_response_theory/RKTestStandard.Rasch_parameter_estimation.rkout
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.Rasch_parameter_estimation.rkout	2010-03-03 12:11:55.000000000 +0200
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.Rasch_parameter_estimation.rkout	2010-08-06 18:06:45.667225000 +0300
@@ -1,21 +1,41 @@
 <h1>Rasch parameter estimation</h1>
 DATE<br>
-<p class='character'>Call:</p><pre>rasch(data = LSAT)</pre>
+
+<p class='character'>Call:</p>
+<pre>rasch(data = LSAT)</pre>
 <h4>Coefficients:</h4>
 <br>
 
+
 <p align= center >
-<table cellspacing=0 border=1><caption align=bottom class=captiondataframe></caption><tr><td>
+<table cellspacing=0 border=1><caption align=bottom class=captiondataframe></caption>
+<tr><td>
 	<table border=0 class=dataframe>
 	<tbody> <tr class= firstline > <th></th><th>Dffclt</th><th>Dscrmn</th> </tr>
- <tr><td class=firstcolumn>Item 1</td><td class=cellinside>-3.62</td><td class=cellinside> 0.76</td></tr>
- <tr><td class=firstcolumn>Item 2</td><td class=cellinside>-1.32</td><td class=cellinside> 0.76</td></tr>
- <tr><td class=firstcolumn>Item 3</td><td class=cellinside>-0.32</td><td class=cellinside> 0.76</td></tr>
- <tr><td class=firstcolumn>Item 4</td><td class=cellinside>-1.73</td><td class=cellinside> 0.76</td></tr>
- <tr><td class=firstcolumn>Item 5</td><td class=cellinside>-2.78</td><td class=cellinside> 0.76</td></tr>
+ 
+<tr><td class=firstcolumn>Item 1</td>
+<td class=cellinside>-3.62</td>
+<td class=cellinside> 0.76</td></tr>
+ 
+<tr><td class=firstcolumn>Item 2</td>
+<td class=cellinside>-1.32</td>
+<td class=cellinside> 0.76</td></tr>
+ 
+<tr><td class=firstcolumn>Item 3</td>
+<td class=cellinside>-0.32</td>
+<td class=cellinside> 0.76</td></tr>
+ 
+<tr><td class=firstcolumn>Item 4</td>
+<td class=cellinside>-1.73</td>
+<td class=cellinside> 0.76</td></tr>
+ 
+<tr><td class=firstcolumn>Item 5</td>
+<td class=cellinside>-2.78</td>
+<td class=cellinside> 0.76</td></tr>
  
 	</tbody>
 </table>
  </td></table>
  <br>
-<p class='character'>Log-likelihood value at convergence: -2466.9</p>
\ Dosya sonunda yenisatır yok.
+
+<p class='character'>Log-likelihood value at convergence: -2466.9</p>
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.RSM_parameter_estimation.rkcommands.R rkward-0.5.3/tests/item_response_theory/RKTestStandard.RSM_parameter_estimation.rkcommands.R
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.RSM_parameter_estimation.rkcommands.R	2010-03-03 12:11:55.000000000 +0200
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.RSM_parameter_estimation.rkcommands.R	2010-06-27 15:02:13.037392000 +0300
@@ -12,7 +12,7 @@
 rk.print (paste("Conditional log-likelihood:",round(estimates.rsm$loglik, digits=1),
 "<br />Number of iterations:",estimates.rsm$iter,"<br />Number of parameters:",estimates.rsm$npar))
 # keep results in current workspace
-estimates.rsm <<- estimates.rsm
+.GlobalEnv$estimates.rsm <- estimates.rsm
 })
-.rk.rerun.plugin.link(plugin="rkward::par_est_rsm", settings="chk_save.state=save\ndesign.string=auto\netastart.string=NULL\nsave_name.selection=estimates.rsm\nstderr.state=se\nsumnull.state=sum0\nx.available=rsmdat", label="Run again")
+.rk.rerun.plugin.link(plugin="rkward::par_est_rsm", settings="design.string=auto\netastart.string=NULL\nsave_name.active=1\nsave_name.objectname=estimates.rsm\nsave_name.parent=.GlobalEnv\nstderr.state=se\nsumnull.state=sum0\nx.available=rsmdat", label="Run again")
 .rk.make.hr()
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.RSM_parameter_estimation.rkout rkward-0.5.3/tests/item_response_theory/RKTestStandard.RSM_parameter_estimation.rkout
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.RSM_parameter_estimation.rkout	2010-04-24 20:16:42.000000000 +0300
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.RSM_parameter_estimation.rkout	2010-08-06 18:06:45.667225000 +0300
@@ -1,23 +1,49 @@
 <h1>RSM  parameter estimation</h1>
 DATE<br>
-<p class='character'>Call:</p><pre>RSM(X = rsmdat)</pre>
+
+<p class='character'>Call:</p>
+<pre>RSM(X = rsmdat)</pre>
 <h4>Coefficients:</h4>
 <br>
 
+
 <p align= center >
-<table cellspacing=0 border=1><caption align=bottom class=captiondataframe></caption><tr><td>
+<table cellspacing=0 border=1><caption align=bottom class=captiondataframe></caption>
+<tr><td>
 	<table border=0 class=dataframe>
 	<tbody> <tr class= firstline > <th></th><th>Eta</th><th>StdErr</th> </tr>
- <tr><td class=firstcolumn>I2</td><td class=cellinside> 0.305</td><td class=cellinside> 0.205</td></tr>
- <tr><td class=firstcolumn>I3</td><td class=cellinside> 0.256</td><td class=cellinside> 0.203</td></tr>
- <tr><td class=firstcolumn>I4</td><td class=cellinside> 0.067</td><td class=cellinside> 0.197</td></tr>
- <tr><td class=firstcolumn>I5</td><td class=cellinside>-0.160</td><td class=cellinside> 0.197</td></tr>
- <tr><td class=firstcolumn>I6</td><td class=cellinside>-0.444</td><td class=cellinside> 0.208</td></tr>
- <tr><td class=firstcolumn>Cat 2</td><td class=cellinside>-0.167</td><td class=cellinside> 0.460</td></tr>
- <tr><td class=firstcolumn>Cat 3</td><td class=cellinside> 0.138</td><td class=cellinside> 0.732</td></tr>
+ 
+<tr><td class=firstcolumn>I2</td>
+<td class=cellinside> 0.305</td>
+<td class=cellinside> 0.205</td></tr>
+ 
+<tr><td class=firstcolumn>I3</td>
+<td class=cellinside> 0.256</td>
+<td class=cellinside> 0.203</td></tr>
+ 
+<tr><td class=firstcolumn>I4</td>
+<td class=cellinside> 0.067</td>
+<td class=cellinside> 0.197</td></tr>
+ 
+<tr><td class=firstcolumn>I5</td>
+<td class=cellinside>-0.160</td>
+<td class=cellinside> 0.197</td></tr>
+ 
+<tr><td class=firstcolumn>I6</td>
+<td class=cellinside>-0.444</td>
+<td class=cellinside> 0.208</td></tr>
+ 
+<tr><td class=firstcolumn>Cat 2</td>
+<td class=cellinside>-0.167</td>
+<td class=cellinside> 0.460</td></tr>
+ 
+<tr><td class=firstcolumn>Cat 3</td>
+<td class=cellinside> 0.138</td>
+<td class=cellinside> 0.732</td></tr>
  
 	</tbody>
 </table>
  </td></table>
  <br>
-<p class='character'>Conditional log-likelihood: -107.6 <br />Number of iterations: 11 <br />Number of parameters: 7</p>
\ Dosya sonunda yenisatır yok.
+
+<p class='character'>Conditional log-likelihood: -107.6 <br />Number of iterations: 11 <br />Number of parameters: 7</p>
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.unidimensional.rkcommands.R rkward-0.5.3/tests/item_response_theory/RKTestStandard.unidimensional.rkcommands.R
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.unidimensional.rkcommands.R	2010-03-03 12:11:55.000000000 +0200
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.unidimensional.rkcommands.R	2010-08-06 18:06:45.667225000 +0300
@@ -5,9 +5,18 @@
 unidim.res <- unidimTest(estimates.rasch)
 ## Print result
 rk.header ("Unidimensionality check (estimates.rasch)")
-rk.print (unidim.res)
+rk.print ("Call:")
+rk.print.literal (deparse(unidim.res$call, width.cutoff=500))
+rk.header ("Matrix of tertachoric correlations:", level=4)
+rk.print (unidim.res$Rho)
+rk.header ("Unidimensionality Check using Modified Parallel Analysis:", level=4)
+rk.print ("Alternative hypothesis: <em>The second eigenvalue of the observed data is substantially larger than the second eigenvalue of data under the assumed IRT model</em>")
+rk.print (paste("Second eigenvalue in the observed data:", round(unidim.res$Tobs[2], digits=3)))
+rk.print (paste("Average of second eigenvalues in Monte Carlo samples:", round(mean(unidim.res$T.boot[,2]), digits=3)))
+rk.print (paste("Monte Carlo samples:", dim(unidim.res$T.boot)[1]))
+rk.print (paste("p-value:", round(unidim.res$p.value, digits=3)))
 # keep results in current workspace
-unidim.res <<- unidim.res
+.GlobalEnv$unidim.res <- unidim.res
 })
-.rk.rerun.plugin.link(plugin="rkward::ltm_unidimensional", settings="chk_save.state=save\nsave_name.selection=unidim.res\nspin_samples.real=100.00\nx.available=estimates.rasch", label="Run again")
+.rk.rerun.plugin.link(plugin="rkward::ltm_unidimensional", settings="save_name.active=1\nsave_name.objectname=unidim.res\nsave_name.parent=.GlobalEnv\nspin_samples.real=100.00\nx.available=estimates.rasch", label="Run again")
 .rk.make.hr()
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.unidimensional.rkout rkward-0.5.3/tests/item_response_theory/RKTestStandard.unidimensional.rkout
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.unidimensional.rkout	2009-12-01 11:36:36.000000000 +0200
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.unidimensional.rkout	2010-08-06 18:06:45.667225000 +0300
@@ -1,3 +1,66 @@
 <h1>Unidimensionality check (estimates.rasch)</h1>
 DATE<br>
-<p class='character'><br>Unidimensionality Check using Modified Parallel Analysis<br><br>Call:<br>rasch(data = LSAT)<br><br>Matrix of tertachoric correlations<br>       Item 1 Item 2 Item 3 Item 4 Item 5<br>Item 1  1.000  0.170  0.228  0.107  0.067<br>Item 2  0.170  1.000  0.189  0.111  0.172<br>Item 3  0.228  0.189  1.000  0.187  0.105<br>Item 4  0.107  0.111  0.187  1.000  0.201<br>Item 5  0.067  0.172  0.105  0.201  1.000<br><br>Alternative hypothesis: the second eigenvalue of the observed data is substantially larger <br>			than the second eigenvalue of data under the assumed IRT model<br><br>Second eigenvalue in the observed data: 0.225<br>Average of second eigenvalues in Monte Carlo samples: 0.254<br>Monte Carlo samples: 100<br>p-value: 0.673<br></p>
\ Dosya sonunda yenisatır yok.
+
+<p class='character'>Call:</p>
+<pre>rasch(data = LSAT)</pre>
+<h4>Matrix of tertachoric correlations:</h4>
+<br>
+
+
+<p align= center >
+<table cellspacing=0 border=1><caption align=bottom class=captiondataframe></caption>
+<tr><td>
+	<table border=0 class=dataframe>
+	<tbody> <tr class= firstline > <th></th><th>Item 1</th><th>Item 2</th><th>Item 3</th><th>Item 4</th><th>Item 5</th> </tr>
+ 
+<tr><td class=firstcolumn>Item 1</td>
+<td class=cellinside>1.000</td>
+<td class=cellinside>0.170</td>
+<td class=cellinside>0.228</td>
+<td class=cellinside>0.107</td>
+<td class=cellinside>0.067</td></tr>
+ 
+<tr><td class=firstcolumn>Item 2</td>
+<td class=cellinside>0.170</td>
+<td class=cellinside>1.000</td>
+<td class=cellinside>0.189</td>
+<td class=cellinside>0.111</td>
+<td class=cellinside>0.172</td></tr>
+ 
+<tr><td class=firstcolumn>Item 3</td>
+<td class=cellinside>0.228</td>
+<td class=cellinside>0.189</td>
+<td class=cellinside>1.000</td>
+<td class=cellinside>0.187</td>
+<td class=cellinside>0.105</td></tr>
+ 
+<tr><td class=firstcolumn>Item 4</td>
+<td class=cellinside>0.107</td>
+<td class=cellinside>0.111</td>
+<td class=cellinside>0.187</td>
+<td class=cellinside>1.000</td>
+<td class=cellinside>0.201</td></tr>
+ 
+<tr><td class=firstcolumn>Item 5</td>
+<td class=cellinside>0.067</td>
+<td class=cellinside>0.172</td>
+<td class=cellinside>0.105</td>
+<td class=cellinside>0.201</td>
+<td class=cellinside>1.000</td></tr>
+ 
+	</tbody>
+</table>
+ </td></table>
+ <br>
+<h4>Unidimensionality Check using Modified Parallel Analysis:</h4>
+<br>
+
+<p class='character'>Alternative hypothesis: <em>The second eigenvalue of the observed data is substantially larger than the second eigenvalue of data under the assumed IRT model</em></p>
+
+<p class='character'>Second eigenvalue in the observed data: 0.225</p>
+
+<p class='character'>Average of second eigenvalues in Monte Carlo samples: 0.255</p>
+
+<p class='character'>Monte Carlo samples: 100</p>
+
+<p class='character'>p-value: 0.634</p>
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.Wald_test.messages.txt rkward-0.5.3/tests/item_response_theory/RKTestStandard.Wald_test.messages.txt
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.Wald_test.messages.txt	2009-07-29 22:17:38.000000000 +0300
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.Wald_test.messages.txt	2010-08-06 18:06:45.667225000 +0300
@@ -1,7 +1,3 @@
 Warning in Waldtest.Rm(estimates.rsm) :
   
 The following items were excluded due to inappropriate response patterns within subgroups: 
-Warning messages:
-1: In sqrt(diag(solve(parest$hessian))) : NaNs produced
-2: In sqrt(diag(lres$W %*% solve(parest$hessian) %*% t(lres$W))) :
-  NaNs produced
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.Wald_test.rkcommands.R rkward-0.5.3/tests/item_response_theory/RKTestStandard.Wald_test.rkcommands.R
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.Wald_test.rkcommands.R	2010-03-03 12:11:55.000000000 +0200
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.Wald_test.rkcommands.R	2010-08-06 18:06:45.667225000 +0300
@@ -2,10 +2,15 @@
 ## Prepare
 require(eRm)
 ## Compute
+.GlobalEnv$fitctrl <- "optim"
 waldtest.res <- Waldtest(estimates.rsm)
+rm(fitctrl, envir=.GlobalEnv)
 ## Print result
 rk.header ("Wald test (estimates.rsm)")
-rk.print (waldtest.res)
+rk.print ("Call:")
+rk.print.literal (deparse(waldtest.res$call, width.cutoff=500))
+rk.header ("Wald test on item level (z-values):", level=4)
+rk.print(waldtest.res$coef.table)
 })
-.rk.rerun.plugin.link(plugin="rkward::eRm_waldtest", settings="rad_splitcr.string=median\nx.available=estimates.rsm", label="Run again")
+.rk.rerun.plugin.link(plugin="rkward::eRm_waldtest", settings="drop_optimizer.string=optim\nrad_splitcr.string=median\nx.available=estimates.rsm", label="Run again")
 .rk.make.hr()
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.Wald_test.rkout rkward-0.5.3/tests/item_response_theory/RKTestStandard.Wald_test.rkout
--- rkward-0.5.3.orig/tests/item_response_theory/RKTestStandard.Wald_test.rkout	2009-10-05 19:34:37.000000000 +0300
+++ rkward-0.5.3/tests/item_response_theory/RKTestStandard.Wald_test.rkout	2010-08-06 18:06:45.667225000 +0300
@@ -1,6 +1,47 @@
 <h1>Wald test (estimates.rsm)</h1>
 DATE<br>
-<p class='character'><br>Wald test on item level (z-values):<br><br>           z-statistic p-value<br>beta I1.c1       0.388   0.698<br>beta I1.c2         NaN     NaN<br>beta I1.c3         NaN     NaN<br>beta I6.c1      -0.388   0.698<br>beta I6.c2         NaN     NaN<br>beta I6.c3         NaN     NaN<br></p><h2>Messages, warnings, or errors:</h2>
+
+<p class='character'>Call:</p>
+<pre>Waldtest.Rm(object = estimates.rsm)</pre>
+<h4>Wald test on item level (z-values):</h4>
+<br>
+
+
+<p align= center >
+<table cellspacing=0 border=1><caption align=bottom class=captiondataframe></caption>
+<tr><td>
+	<table border=0 class=dataframe>
+	<tbody> <tr class= firstline > <th></th><th>z-statistic</th><th>p-value</th> </tr>
+ 
+<tr><td class=firstcolumn>beta I1.c1</td>
+<td class=cellinside> 0.39</td>
+<td class=cellinside> 0.70</td></tr>
+ 
+<tr><td class=firstcolumn>beta I1.c2</td>
+<td class=cellinside> 0.15</td>
+<td class=cellinside> 0.88</td></tr>
+ 
+<tr><td class=firstcolumn>beta I1.c3</td>
+<td class=cellinside> 0.16</td>
+<td class=cellinside> 0.88</td></tr>
+ 
+<tr><td class=firstcolumn>beta I6.c1</td>
+<td class=cellinside>-0.39</td>
+<td class=cellinside> 0.70</td></tr>
+ 
+<tr><td class=firstcolumn>beta I6.c2</td>
+<td class=cellinside> 0.14</td>
+<td class=cellinside> 0.89</td></tr>
+ 
+<tr><td class=firstcolumn>beta I6.c3</td>
+<td class=cellinside> 0.15</td>
+<td class=cellinside> 0.88</td></tr>
+ 
+	</tbody>
+</table>
+ </td></table>
+ <br>
+<h2>Messages, warnings, or errors:</h2>
 <pre>I2 I3 I4 I5 
 Subgroup models are estimated without these items!
 </pre>
diff -Nuar rkward-0.5.3.orig/tests/item_response_theory.R rkward-0.5.3/tests/item_response_theory.R
--- rkward-0.5.3.orig/tests/item_response_theory.R	2010-04-19 21:31:16.000000000 +0300
+++ rkward-0.5.3/tests/item_response_theory.R	2010-08-06 18:18:12.664803000 +0300
@@ -36,43 +36,43 @@
 		## first, let's test all parameter estimations
 		## some parameters are later recycled for fitting tests and plotting
                 new ("RKTest", id="Rasch_parameter_estimation", call=function () {
-                        rk.call.plugin ("rkward::par_est_rasch", chk_save.state="save", constraint.available="", ghk_rasch.real="21.00", irtparam.state="TRUE", iterqn_rasch.real="150.00", naaction.state="", optimeth.string="BFGS", save_name.selection="estimates.rasch", startval.string="NULL", verbose.state="", x.available="LSAT", submit.mode="submit")
+                        rk.call.plugin ("rkward::par_est_rasch", save_name.active="1", constraint.available="", ghk_rasch.real="21.00", irtparam.state="TRUE", iterqn_rasch.real="150.00", naaction.state="", optimeth.string="BFGS", save_name.objectname="estimates.rasch", startval.string="NULL", verbose.state="", x.available="LSAT", submit.mode="submit")
 			estimates$rasch <<- estimates.rasch
                 }),
                 new ("RKTest", id="2PL_parameter_estimation", call=function () {
-			rk.call.plugin ("rkward::par_est_2pl", chk_save.state="save", constraint.available="", ghk_2pl.real="15.00", interact.state="TRUE", irtparam.state="TRUE", iterem.real="40.00", iterqn_2pl.real="150.00", naaction.state="", optimeth.string="BFGS", startval.string="NULL", verbose.state="", x.available="WIRS", submit.mode="submit")
+			rk.call.plugin ("rkward::par_est_2pl", save_name.active="1", constraint.available="", ghk_2pl.real="15.00", interact.state="TRUE", irtparam.state="TRUE", iterem.real="40.00", iterqn_2pl.real="150.00", naaction.state="", optimeth.string="BFGS", startval.string="NULL", verbose.state="", x.available="WIRS", submit.mode="submit")
 			estimates$"2pl" <<- estimates.2pl
                 }),
                 new ("RKTest", id="3PL_parameter_estimation", call=function () {
-			rk.call.plugin ("rkward::par_est_3pl", chk_save.state="save", constraint.available="", epshess.real="0.001", ghk_3pl.real="21.00", irtparam.state="TRUE", iterqn_3pl.real="1000.00", maxguess.real="1.00", naaction.state="", optimeth.string="BFGS", optimizer.string="optim", startval.string="NULL", type.state="", verbose.state="", x.available="LSAT", submit.mode="submit")
+			rk.call.plugin ("rkward::par_est_3pl", save_name.active="1", constraint.available="", epshess.real="0.001", ghk_3pl.real="21.00", irtparam.state="TRUE", iterqn_3pl.real="1000.00", maxguess.real="1.00", naaction.state="", optimeth.string="BFGS", optimizer.string="optim", startval.string="NULL", type.state="", verbose.state="", x.available="LSAT", submit.mode="submit")
 			estimates$"3pl" <<- estimates.3pl
                 }),
                 new ("RKTest", id="LLTM_parameter_estimation", call=function () {
-			rk.call.plugin ("rkward::par_est_lltm", chk_save.state="save", design.string="auto", etastart.string="NULL", groups.string="1", mpoints.real="2.00", stderr.state="se", sumnull.state="sum0", x.available="lltmdat1", submit.mode="submit")
+			rk.call.plugin ("rkward::par_est_lltm", save_name.active="1", design.string="auto", etastart.string="NULL", groups.string="1", mpoints.real="2.00", stderr.state="se", sumnull.state="sum0", x.available="lltmdat1", submit.mode="submit")
                 }),
                 new ("RKTest", id="GRM_parameter_estimation", call=function () {
-			rk.call.plugin ("rkward::par_est_grm", chk_save.state="save", constraint.state="", dig_abbrv.real="6.00", ghk_grm.real="21.00", hessian.state="", irtparam.state="TRUE", iterqn_grm.real="150.00", naaction.state="", optimeth.string="BFGS", startval.string="NULL", verbose.state="", x.available="Environment", submit.mode="submit")
+			rk.call.plugin ("rkward::par_est_grm", save_name.active="1", constraint.state="", dig_abbrv.real="6.00", ghk_grm.real="21.00", hessian.state="", irtparam.state="TRUE", iterqn_grm.real="150.00", naaction.state="", optimeth.string="BFGS", startval.string="NULL", verbose.state="", x.available="Environment", submit.mode="submit")
 			estimates$grm <<- estimates.grm
                 }),
                 new ("RKTest", id="RSM_parameter_estimation", call=function () {
-			rk.call.plugin ("rkward::par_est_rsm", chk_save.state="save", design.string="auto", etastart.string="NULL", stderr.state="se", sumnull.state="sum0", x.available="rsmdat", submit.mode="submit")
+			rk.call.plugin ("rkward::par_est_rsm", save_name.active="1", design.string="auto", etastart.string="NULL", stderr.state="se", sumnull.state="sum0", x.available="rsmdat", submit.mode="submit")
 			estimates$rsm <<- estimates.rsm
                 }),
                 new ("RKTest", id="PCM_parameter_estimation", call=function () {
-			rk.call.plugin ("rkward::par_est_pcm", chk_save.state="save", design.string="auto", etastart.string="NULL", stderr.state="se", sumnull.state="sum0", x.available="pcmdat", submit.mode="submit")
+			rk.call.plugin ("rkward::par_est_pcm", save_name.active="1", design.string="auto", etastart.string="NULL", stderr.state="se", sumnull.state="sum0", x.available="pcmdat", submit.mode="submit")
 			estimates$pcm <<- estimates.pcm
                 }),
                 new ("RKTest", id="GPCM_parameter_estimation", call=function () {
-			rk.call.plugin ("rkward::par_est_gpcm", chk_save.state="save", chk_select.state="select", constraint.string="rasch", epshess.real="0.000001", ghk_gpcm.real="21.00", inp_items.available="Science[[\"Work\"]]\nScience[[\"Industry\"]]\nScience[[\"Future\"]]\nScience[[\"Benefit\"]]", irtparam.state="TRUE", iterqn_gpcm.real="150.00", naaction.state="", numrderiv.string="fd", optimeth.string="BFGS", optimizer.string="optim", save_name.selection="estimates.gpcm", startval.string="NULL", verbose.state="", x.available="Science", submit.mode="submit")
+			rk.call.plugin ("rkward::par_est_gpcm", save_name.active="1", chk_select.state="select", constraint.string="rasch", epshess.real="0.000001", ghk_gpcm.real="21.00", inp_items.available="Science[[\"Work\"]]\nScience[[\"Industry\"]]\nScience[[\"Future\"]]\nScience[[\"Benefit\"]]", irtparam.state="TRUE", iterqn_gpcm.real="150.00", naaction.state="", numrderiv.string="fd", optimeth.string="BFGS", optimizer.string="optim", save_name.objectname="estimates.gpcm", startval.string="NULL", verbose.state="", x.available="Science", submit.mode="submit")
 			estimates$gpcm <<- estimates.gpcm
                 }),
                 new ("RKTest", id="LRSM_parameter_estimation", call=function () {
-			rk.call.plugin ("rkward::par_est_lrsm", chk_save.state="save", design.string="auto", etastart.string="NULL", groups.string="1", mpoints.real="2.00", stderr.state="", sumnull.state="", x.available="lrsmdat", submit.mode="submit")
+			rk.call.plugin ("rkward::par_est_lrsm", save_name.active="1", design.string="auto", etastart.string="NULL", groups.string="1", mpoints.real="2.00", stderr.state="", sumnull.state="", x.available="lrsmdat", submit.mode="submit")
                 }),
                 new ("RKTest", id="LPCM_parameter_estimation", call=function () {
 			G <<- c(rep(1,10),rep(2,10))	# group vector, see example section of help("LPCM")
 			rk.sync.global ()
-			rk.call.plugin ("rkward::par_est_lpcm", chk_save.state="save", design.string="auto", etastart.string="NULL", group_vec.available="G", groups.string="contrasts", mpoints.real="2.00", stderr.state="se", sumnull.state="sum0", x.available="lpcmdat", submit.mode="submit")
+			rk.call.plugin ("rkward::par_est_lpcm", save_name.active="1", design.string="auto", etastart.string="NULL", group_vec.available="G", groups.string="contrasts", mpoints.real="2.00", stderr.state="se", sumnull.state="sum0", x.available="lpcmdat", submit.mode="submit")
                 }),
 
 		## testing cronbach's alpha
@@ -105,7 +105,7 @@
 			estimates.rsm <<- estimates$rsm
 			rk.sync.global ()
 			# this test should eliminate four items and give a warning!
-			rk.call.plugin ("rkward::eRm_waldtest", rad_splitcr.string="median", x.available="estimates.rsm", submit.mode="submit")
+			rk.call.plugin ("rkward::eRm_waldtest", drop_optimizer.string="optim", rad_splitcr.string="median", x.available="estimates.rsm", submit.mode="submit")
                 }),
                 new ("RKTest", id="Andersen_LR_plot", call=function () {
 			estimates.pcm <<- estimates$pcm
diff -Nuar rkward-0.5.3.orig/tests/rkward_application_tests.R rkward-0.5.3/tests/rkward_application_tests.R
--- rkward-0.5.3.orig/tests/rkward_application_tests.R	2010-04-19 21:33:05.000000000 +0300
+++ rkward-0.5.3/tests/rkward_application_tests.R	2010-06-27 15:09:23.692868000 +0300
@@ -53,6 +53,30 @@
 			rktest.initializeEnvironment ()	# restore options
 
 			rk.graph.on (device.type="SVG", width=300); plot (1, 1); rk.graph.off ()
+		}),
+		new ("RKTest", id="no_crash_on_strange_objects", call=function () {
+			# This object was created by library (XML) v. 3.1-0
+			# xmlTreeParse ("<log><description>An unclosed quote\"</description></log>")
+			#
+			# In R 2.11.0, str (x) produces an error "subecript out of bounds" (only if library (XML) is loaded!
+			# The main concern is that we should handle this object gracefully, i.e. do not crash while syncing it.
+			load ("../rkward_application_tests_strange_object.RData")
+			rk.sync.global ()
+			rk.sync (x)
+		}, libraries=c ("XML")),
+		new ("RKTest", id="dev_off_bug", call=function () {
+			graphics.off()
+			stopifnot (is.null (dev.list ()))
+
+			plot (1, 1); x11(); plot (2, 2)
+
+			Sys.sleep (2)	# wait for everything to settle
+			stopifnot (all.equal (as.numeric (dev.list ()), c (2, 3)))
+			dev.off (2)
+			Sys.sleep (2)
+			stopifnot (all.equal (as.numeric (dev.list ()), 3))
+			dev.off ()
+			stopifnot (is.null (dev.list ()))
 		})
 	# postCalls are run *after* all tests. Use this to clean up
 	), postCalls = list (
diff -Nuar rkward-0.5.3.orig/tests/rkward_application_tests_strange_object.RData rkward-0.5.3/tests/rkward_application_tests_strange_object.RData
--- rkward-0.5.3.orig/tests/rkward_application_tests_strange_object.RData	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/tests/rkward_application_tests_strange_object.RData	2010-05-19 12:16:15.562994000 +0300
@@ -0,0 +1,2 @@
+      TN05I@E@f,U%.SDt7>Αu<1B(@;]5pV J#q)O^<sY2TF>DWgNg`|oYv%gegʲw$*`uck5f@J7.fGE=&r]brsBȘ?ȑ<6⋢PxBwvbkƤ	˪ѩ 8/jByZ\Է)%fߞ*V$1iJZgF92- K;MP2GKBx
+z<VLj  
\ Dosya sonunda yenisatır yok.
diff -Nuar rkward-0.5.3.orig/tests/rkwardTEST.R rkward-0.5.3/tests/rkwardTEST.R
--- rkward-0.5.3.orig/tests/rkwardTEST.R	2009-10-05 18:52:44.000000000 +0300
+++ rkward-0.5.3/tests/rkwardTEST.R	1970-01-01 02:00:00.000000000 +0200
@@ -1,115 +0,0 @@
-myexample <-
-function (topic, package = NULL, lib.loc = NULL, local = FALSE, 
-    echo = TRUE, verbose = getOption("verbose"), setRNG = FALSE, 
-    ask = getOption("example.ask"), prompt.prefix = abbreviate(topic, 
-        6)) 
-{
-#     topic <- substitute(topic) # to avoid error
-    if (!is.character(topic)) 
-        topic <- deparse(topic)[1L]
-    INDICES <- .find.package(package, lib.loc, verbose = verbose)
-    file <- index.search(topic, INDICES, "AnIndex", "R-ex")
-    if (file == "") {
-        warning(gettextf("no help file found for '%s'", topic), 
-            domain = NA)
-        return(invisible())
-    }
-    packagePath <- dirname(dirname(file))
-    if (length(file) > 1L) {
-        packagePath <- packagePath[1L]
-        warning(gettextf("more than one help file found: using package '%s'", 
-            basename(packagePath)), domain = NA)
-        file <- file[1L]
-    }
-    pkg <- basename(packagePath)
-    lib <- dirname(packagePath)
-    zfile <- zip.file.extract(file, "Rex.zip")
-    if (zfile != file) 
-        on.exit(unlink(zfile))
-    if (!file.exists(zfile)) {
-        warning(gettextf("'%s' has a help file but no examples file", 
-            topic), domain = NA)
-        return(invisible())
-    }
-    if (pkg != "base") 
-        library(pkg, lib.loc = lib, character.only = TRUE)
-    if (!is.logical(setRNG) || setRNG) {
-        if ((exists(".Random.seed", envir = .GlobalEnv))) {
-            oldSeed <- get(".Random.seed", envir = .GlobalEnv)
-            on.exit(assign(".Random.seed", oldSeed, envir = .GlobalEnv))
-        }
-        else {
-            oldRNG <- RNGkind()
-            on.exit(RNGkind(oldRNG[1L], oldRNG[2L]))
-        }
-        if (is.logical(setRNG)) {
-            RNGkind("default", "default")
-            set.seed(1)
-        }
-        else eval(setRNG)
-    }
-    encoding <- if (length(enc <- localeToCharset()) > 1L) 
-        c(enc[-length(enc)], "latin1")
-    else ""
-    zz <- readLines(zfile, n = 1L)
-    if (length(grep("^### Encoding: ", zz)) && !identical(Sys.getlocale("LC_CTYPE"), 
-        "C")) 
-        encoding <- substring(zz, 15L)
-    skips <- 0L
-    if (echo) {
-        zcon <- file(zfile, open = "rt")
-        while (length(zz) && !length(grep("^### \\*\\*", zz))) {
-            skips <- skips + 1L
-            zz <- readLines(zcon, n = 1L)
-        }
-        close(zcon)
-    }
-    if (ask == "default") 
-        ask <- echo && grDevices::dev.interactive(orNone = TRUE)
-    if (ask) {
-        if (.Device != "null device") {
-            oldask <- grDevices::devAskNewPage(ask = TRUE)
-            if (!oldask) 
-                on.exit(grDevices::devAskNewPage(oldask), add = TRUE)
-        }
-        op <- options(device.ask.default = TRUE)
-        on.exit(options(op), add = TRUE)
-    }
-    source(zfile, local, echo = echo, prompt.echo = paste(prompt.prefix, 
-        getOption("prompt"), sep = ""), continue.echo = paste(prompt.prefix, 
-        getOption("continue"), sep = ""), verbose = verbose, 
-        max.deparse.length = Inf, encoding = encoding, skip.echo = skips, 
-        keep.source = TRUE)
-}
-
-pkgs <- c("base", "stats", "utils", "graphics", "grDevices")
-
-# These cause rwkard to crash, at least sometimes
-CRASH <- c("anova.mlm", "check.options", "close.screen", "erase.screen")
-
-# These cause script to terminate with an error, but expected behavior in some cases
-ERROR <- c("bzfile", "geterrmessage", "match.fun", "addmargins", "browseEnv", "wsbrowser", "check.options")
-
-# These sometimes cause the script to terminate with an error, so not the expected behavior
-RANDOM <- c("closeAllConnections", "stderr")
-
-# These cause rkward to raise a popup, which prevents the script from running automatically but is expected behavior
-POPUP <- c("library", "print.libraryIQR", "print.packageInfo", "readline", "require", "stop", "stopifnot", "trace", "tracingState", "untrace",
-	  "?", "Filters", "RSiteSearch", "data", "demo", "help", "loadRconsole", "package.skeleton", "promptPackage", "vignette", "file.access", 
-	  "file.info", "file.create", "file.show", "file.copy", "file.exists", "file.rename", "file.symlink", "file.append", "file.remove", 
-	  "choose.files", "help", "help.search", "read.ftable", "write.ftable", "choose.dir")
-
-# These cause the user to have to click a plot to continue, due to the example calling example() but not passing on ask=FALSE. Not a bug in rkward
-CLICK <- c("add1", "drop1", "lag.plot", "plot.lm", "plot.mlm", "step", "weighted.residuals", "example", "plot.design")
-
-SKIP <- c(CRASH, ERROR, RANDOM, POPUP, CLICK)
-for(RKWARD_PKG in pkgs) {
-  foos <- ls(paste("package", RKWARD_PKG, sep = ":"))
-  for(RKWARD_FUN in foos) {
-    if(RKWARD_FUN %in% SKIP) next
-    print(RKWARD_FUN)
-    cat(RKWARD_FUN, file=file.path("/tmp", "RKWARD_FUN.txt")) # consider changing; look here if rkward crashes
-    try ({myexample(RKWARD_FUN, package=RKWARD_PKG, ask = FALSE, local = TRUE)})
-  }
-}
-
diff -Nuar rkward-0.5.3.orig/TODO rkward-0.5.3/TODO
--- rkward-0.5.3.orig/TODO	2010-04-21 17:41:57.000000000 +0300
+++ rkward-0.5.3/TODO	2010-09-01 19:52:25.061307000 +0300
@@ -30,6 +30,8 @@
 			- more precisely: seems to happen after scrolling
 			- no idea, why this happens
 	- Quitting via q() in the R console will often lead to a segfault during shutdown
+	- "seq", used in the wrapper script, is not always available on MacOS (and perhaps elsewhere)
+	- options ("pager") is currently broken in RKWard. May not be a problem, but we offer a GUI to configure it in Settings->Configure RKWard...
 
 Compilation / technical
 	- Incorporate FreeBSD patches http://www.freshports.org/math/rkward/files.php?message_id=200609172111.k8HLBiob081349@repoman.freebsd.org
diff -Nuar rkward-0.5.3.orig/TODO.platform rkward-0.5.3/TODO.platform
--- rkward-0.5.3.orig/TODO.platform	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/TODO.platform	2009-06-10 23:35:07.029873000 +0300
@@ -0,0 +1,14 @@
+Platform specific TODOs / issues:
+
+Win32:
+- The PHP backend is slooooooow
+	- Perhaps one more reason to switch the scripting language
+- How to build binaries?
+- Support for switching to Administrator when installing packages
+- KFileDialog-bug (marked TODO in rkward.cpp)
+- Termination-bug (marked HACK in main.cpp)
+
+Linux:
+- There is a hang when you do
+	library (rcdklibs)
+- Can we use R_ProcessEvents as well?
diff -Nuar rkward-0.5.3.orig/windows_nsis/installer.nsi rkward-0.5.3/windows_nsis/installer.nsi
--- rkward-0.5.3.orig/windows_nsis/installer.nsi	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/windows_nsis/installer.nsi	2010-03-23 19:47:59.679462000 +0200
@@ -0,0 +1,275 @@
+!define R_DOWNLOAD_URL "http://cran.r-project.org/bin/windows/base/"
+!define KDE_DOWNLOAD_URL "http://techbase.kde.org/Projects/KDE_on_Windows/Installation"
+
+!include nsDialogs.nsh
+!include LogicLib.nsh
+!include TextFunc.nsh
+!include rkward_version.nsh
+
+Name "RKWard"
+outFile "install_rkward_${RKWARD_VERSION}.exe"
+
+# main variables
+Var INST_RHOME
+Var INST_KDEPREFIX
+
+# page variables
+Var Dialog
+Var FileSelectLineEdit
+Var Button
+Var FileSelectCurrent
+Var FileBrowseInstructionText
+Var FileBrowseValidateFunc
+Var FileBrowseStatusLabel
+Var MyTemp
+Var RHomeOk
+Var KDEPrefixOk
+Var DownloadLinkText
+Var DownloadLinkDest
+
+# pages
+Page custom WelcomeCreate
+PageEx license
+	LicenseData "COPYING"
+PageExEnd
+Page custom RHomeCreate RHomeLeave
+Page custom KDEHomeCreate KDEHomeLeave
+Page instfiles
+
+!macro MakeExternalLink Py Plabel Plink
+	Push $0 ; save $0
+
+	${NSD_CreateLink} 0 ${Py} 100% 16u "${Plabel}"
+	Pop $0
+	nsDialogs::SetUserData $0 ${Plink}
+	GetFunctionAddress $MyTemp OpenExternalLink
+	nsDialogs::onClick $0 $MyTemp
+
+	Pop $0 ; restore old value
+!macroend
+
+Function FileBrowseButtonClick
+	Pop $0
+	nsDialogs::SelectFolderDialog /NOUNLOAD $FileBrowseInstructionText $FileSelectCurrent
+	Pop $MyTemp
+	${If} $MyTemp != error
+		${NSD_SetText} $FileSelectLineEdit $MyTemp
+	${EndIf}
+FunctionEnd
+
+Function FileSelectLineEditChange
+	Pop $0
+	${NSD_GetText} $FileSelectLineEdit $FileSelectCurrent
+	Call $FileBrowseValidateFunc
+FunctionEnd
+
+Function OpenExternalLink
+	Pop $0
+	nsDialogs::getUserData $0
+	Pop $0
+	ExecShell "open" $0
+FunctionEnd
+
+Function WelcomeCreate
+	nsDialogs::Create 1018
+	Pop $Dialog
+
+	${If} $Dialog == error
+		Abort
+	${EndIf}
+
+	${NSD_CreateLabel} 0 0 100% 20u "Welcome to the RKWard on Windows installer."
+	${NSD_CreateLabel} 0 21u 100% 32u "RKWard on Windows is still young, and installation is a bit cumbersome, but we'll talk you through the needed steps.$\r$\nNote that you need to install R and KDE _before_ you can install RKWard.$\r$\nPlease DO read these instructions, first:"
+
+	!insertmacro MakeExternalLink 62u "READ ME: Installing RKWard on Windows" "http://p.sf.net/rkward/windows"
+
+	${NSD_CreateLabel} 0 86u 100% 16u "These links to R and KDE, may also be helpful:"
+	!insertmacro MakeExternalLink 102u "Download R installer" ${R_DOWNLOAD_URL}
+	!insertmacro MakeExternalLink 118u "KDE installation instructions" ${KDE_DOWNLOAD_URL}
+
+	nsDialogs::Show
+FunctionEnd
+
+# Check wether $FileSelectCurrent qualifies as R home directory
+Function ValidateRHome
+	Var /Global RHomeOk_count
+	StrCpy $RHomeOk_count 0
+	StrCpy $RHomeOk "no"
+
+	IfFileExists $FileSelectCurrent\bin\R.exe Rexe_found
+		StrCpy $0 "$FileSelectCurrent\bin\R.exe does not exist"
+	Goto NextCheck
+	Rexe_Found:
+		StrCpy $0 "$FileSelectCurrent\bin\R.exe exists"
+		IntOp $RHomeOk_count $RHomeOk_count + 1
+	NextCheck:
+	IfFileExists $FileSelectCurrent\bin\R.dll Rdll_found
+		StrCpy $1 "$FileSelectCurrent\bin\R.dll does not exist"
+	Goto done
+	Rdll_Found:
+		GetDllVersion "$FileSelectCurrent\bin\R.dll" $R0 $R1
+		IntOp $R2 $R0 / 0x00010000
+		IntOp $R3 $R0 & 0x0000FFFF
+		StrCpy $1 "Version $R2.$R3"
+
+		# 0x00020005a == Version 2.9(.)0
+		${If} $R0 >= 0x0002005a
+			StrCpy $2 "should be ok"
+			IntOp $RHomeOk_count $RHomeOk_count + 1
+		${Else}
+			StrCpy $2 "is too old!"
+		${EndIf}
+		StrCpy $1 "$FileSelectCurrent\bin\R.dll exists ($1 $2)"
+	done:
+	${If} $RHomeOk_count >= 2
+		StrCpy $2 "OK!"
+		StrCpy $RHomeOk "yes"
+	${Else}
+		StrCpy $2 "FAIL!"
+	${EndIf}
+	${NSD_SetText} $FileBrowseStatusLabel "$0$\r$\n$1$\r$\n$\r$\n$2"
+
+	StrCpy $INST_RHOME $FileSelectCurrent
+FunctionEnd
+
+Function RHomeCreate
+	${If} $INST_RHOME == ""
+		StrCpy $INST_RHOME "$PROGRAMFILES\R"
+	${EndIf}
+
+	StrCpy $FileSelectCurrent $INST_RHOME
+	StrCpy $FileBrowseInstructionText "Select the directory of your _existing_ R installation. R has to be installed, already, this installer will not do this for you (but see the link at the bottom of this page."
+	GetFunctionAddress $FileBrowseValidateFunc ValidateRHome
+	StrCpy $DownloadLinkText "Download R installer"
+	StrCpy $DownloadLinkDest ${R_DOWNLOAD_URL}
+
+	Call CreateDirSelectionPage
+FunctionEnd
+
+Function RHomeLeave
+	${If} $RHomeOk != "yes"
+		Messagebox MB_OK|MB_ICONINFORMATION \
+			"$FileSelectCurrent does not qualify as the directory of the R installation to use.$\r$\nEither R is not installed, there at all, or the installed version is to old."
+		Abort ;
+	${EndIf}
+FunctionEnd
+
+Function KDEHomeCreate
+	${If} $INST_KDEPREFIX == ""
+		StrCpy $INST_KDEPREFIX "C:\KDE2"
+		ExecWait 'cmd.exe /C kde4-config --prefix > "$PLUGINSDIR\kdeprefix.txt"'
+		ClearErrors
+		FileOpen $0 "$PLUGINSDIR\kdeprefix.txt" r
+		IfErrors notinpath
+		FileRead $0 $INST_KDEPREFIX
+		${TrimNewLines} $INST_KDEPREFIX $INST_KDEPREFIX
+		FileClose $0
+		notinpath:
+	${EndIf}
+
+	StrCpy $FileSelectCurrent $INST_KDEPREFIX
+	StrCpy $FileBrowseInstructionText "Select the base directory of your _existing_ KDE installation. KDE has to be installed, already, this installer will not do this for you (but see the link at the bottom of this page."
+	GetFunctionAddress $FileBrowseValidateFunc ValidateKDEPrefix
+	StrCpy $DownloadLinkText "KDE installation instructions"
+	StrCpy $DownloadLinkDest ${KDE_DOWNLOAD_URL}
+
+	Call CreateDirSelectionPage
+FunctionEnd
+
+Function KDEHomeLeave
+	${If} $KDEPrefixOk != "yes"
+		Messagebox MB_OK|MB_ICONINFORMATION \
+			"$FileSelectCurrent does not seem to contain a KDE installation."
+		Abort ;
+	${EndIf}
+FunctionEnd
+
+Function ValidateKDEPrefix
+	Var /Global KDEPrefixOk_count
+	StrCpy $KDEPrefixOk_count 0
+	StrCpy $KDEPrefixOk "no"
+
+	IfFileExists $FileSelectCurrent\bin bindir_found
+		StrCpy $0 "Directory $FileSelectCurrent\bin does not exist"
+	Goto NextCheck
+	bindir_found:
+		StrCpy $0 "Directory $FileSelectCurrent\bin exists"
+		IntOp $KDEPrefixOk_count $KDEPrefixOk_count + 1
+	NextCheck:
+	IfFileExists $FileSelectCurrent\share sharedir_found
+		StrCpy $1 "Directory $FileSelectCurrent\share does not exist"
+	Goto done
+	sharedir_Found:
+		StrCpy $1 "Directory $FileSelectCurrent\share exists"
+		IntOp $KDEPrefixOk_count $KDEPrefixOk_count + 1
+	done:
+	${If} $KDEPrefixOk_count >= 2
+		StrCpy $2 "This looks ok."
+		StrCpy $KDEPrefixOk "yes"
+	${Else}
+		StrCpy $2 "This looks wrong."
+	${EndIf}
+	${NSD_SetText} $FileBrowseStatusLabel "$0$\r$\n$1$\r$\n$\r$\n$2"
+
+	StrCpy $INST_KDEPREFIX $FileSelectCurrent
+FunctionEnd
+
+Function CreateDirSelectionPage
+	nsDialogs::Create 1018
+	Pop $Dialog
+
+	${If} $Dialog == error
+		Abort
+	${EndIf}
+
+	${NSD_CreateLabel} 0 0 100% 24u $FileBrowseInstructionText
+
+	${NSD_CreateText} 0 35u 70% 16u $FileSelectCurrent
+	Pop $FileSelectLineEdit
+	GetFunctionAddress $MyTemp FileSelectLineEditChange
+	nsDialogs::onChange $FileSelectLineEdit $MyTemp
+
+	${NSD_CreateBrowseButton} 75% 35u 25% 16u "Browse"
+	Pop $Button
+	GetFunctionAddress $MyTemp FileBrowseButtonClick
+	nsDialogs::onClick $Button $MyTemp
+
+	${NSD_CreateLabel} 0 60u 100% 50u ""
+	Pop $FileBrowseStatusLabel
+	Call $FileBrowseValidateFunc
+
+	!insertmacro MakeExternalLink -16u $DownloadLinkText $DownloadLinkDest
+
+	nsDialogs::Show
+FunctionEnd
+
+## installation
+
+Function setRBinaryPath
+	StrCpy $R9 "SET R_BINARY=$INST_RHOME\bin\R.exe$\r$\n"
+	Push $0
+FunctionEnd
+
+# set desktop as install directory
+installDir $DESKTOP
+
+# default section
+section
+	setOutPath $INST_KDEPREFIX
+	File /r install\_KDEPREFIX_\*.*
+	${LineFind} "$INST_KDEPREFIX\bin\rkward.bat" "" 10 setRBinaryPath
+
+	setOutPath $INST_RHOME
+	File /r install\_RHOME_\*.*
+
+	setOutPath $INST_KDEPREFIX\bin
+	File "rkward.ico"
+	CreateShortCut "$DESKTOP\RKWard.lnk" "$INST_KDEPREFIX\bin\rkward.bat" "" "$INST_KDEPREFIX\bin\rkward.ico"
+
+#	writeUninstaller $INST_KDEPREFIX\uninstaller.exe
+sectionEnd
+ 
+#section "Uninstall"
+#	# Always delete uninstaller first
+#	delete $INSTDIR\uninstaller.exe
+#sectionEnd
diff -Nuar rkward-0.5.3.orig/windows_nsis/make_release.bat rkward-0.5.3/windows_nsis/make_release.bat
--- rkward-0.5.3.orig/windows_nsis/make_release.bat	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/windows_nsis/make_release.bat	2010-04-15 19:00:22.476060000 +0300
@@ -0,0 +1,42 @@
+SET KDEPREFIXDRIVE=c:
+SET KDEPREFIX=KDE
+SET RHOMEDRIVE=F:
+SET RHOME=KDE/lib/R
+
+SET SH_PATH=C:\Rtools\bin
+SET MAKENSIS=c:/programme/nsis/makensis.exe
+
+REM --------------------------------------------
+REM everything below should not need customizing
+REM --------------------------------------------
+
+SET ADD_CMAKE_FLAGS=-DCMAKE_BUILD_TYPE=Release
+
+SET RELEASE_DIR=%~dp0
+SET SOURCE_DIR=%RELEASE_DIR%\..
+SET INSTALL_DIR=%RELEASE_DIR%/install
+
+cd %RELEASE_DIR%
+
+rmdir /Q /S %RELEASE_DIR%\install
+mkdir install
+mkdir build
+cd build
+cmake %SOURCE_DIR% -G "MinGW Makefiles" -DCMAKE_INSTALL_PREFIX=%KDEPREFIXDRIVE%/%KDEPREFIX% -DR_EXECUTABLE=%RHOMEDRIVE%/%RHOME%/bin/R.exe -DR_LIBDIR=%RHOMEDRIVE%/%RHOME%/library %ADD_CMAKE_FLAGS%
+REM sh.exe must not be in path during cmake call, but must be in path for R package install...
+SET PATH=%PATH%;%SH_PATH%
+mingw32-make install DESTDIR=%INSTALL_DIR%
+
+move %INSTALL_DIR%/%RHOME% %INSTALL_DIR%/_RHOME_
+move %INSTALL_DIR%/%KDEPREFIX% %INSTALL_DIR%/_KDEPREFIX_
+
+REM Prepare Version info for use in NSIS
+echo !define RKWARD_VERSION \ > %RELEASE_DIR%/rkward_version.nsh
+more %SOURCE_DIR%\rkward\resource.ver >> %RELEASE_DIR%/rkward_version.nsh
+copy /Y %SOURCE_DIR%\COPYING %RELEASE_DIR%
+
+REM icon needs to be set by the installer
+svg2ico "%SOURCE_DIR%\rkward\icons\app-icon\hisc-app-rkward.svgz" "%RELEASE_DIR%\rkward.ico"
+
+cd %RELEASE_DIR%
+"%MAKENSIS%" installer.nsi
diff -Nuar rkward-0.5.3.orig/windows_nsis/README.txt rkward-0.5.3/windows_nsis/README.txt
--- rkward-0.5.3.orig/windows_nsis/README.txt	1970-01-01 02:00:00.000000000 +0200
+++ rkward-0.5.3/windows_nsis/README.txt	2009-06-12 18:01:38.992013000 +0300
@@ -0,0 +1,11 @@
+This directory contains files to create a windows installer based on the
+Nullsoft Scriptable Install System (NSIS): http://nsis.sourceforge.net
+
+Use make_release.bat to create a windows release from the current SVN-state.
+The first few lines of that file may need customization.
+
+Just like the debian/ directory for debian packaging, this directory is not
+meant to become part of source releases.
+
+During creation of the installer, a number of files are automatically generated
+inside this directory. Please don't add those to SVN.
