<?xml version="1.0" ?>
<!DOCTYPE PISI SYSTEM "http://www.pisilinux.org/projeler/pisi/pisi-spec.dtd">
<PISI>
    <Source>
        <Name>vlc</Name>
        <Homepage>http://www.videolan.org/vlc</Homepage>
        <Packager>
            <Name>PisiLinux Community</Name>
            <Email>admins@pisilinux.org</Email>
        </Packager>
        <License>LGPLv2</License>
        <Icon>vlc</Icon>
        <IsA>app:gui</IsA>
        <Summary>VLC media player</Summary>
        <Description>VLC is a famous video player and streamer.</Description>
        <Archive sha1sum="de3e0b027bbb2dc2451992c428f2bed824128039" type="tarxz">http://download.videolan.org/pub/videolan/vlc/2.1.3/vlc-2.1.3.tar.xz</Archive>
        <BuildDependencies>
            <Dependency>qt-devel</Dependency>
            <Dependency>dbus-devel</Dependency>
            <Dependency>libdvdread-devel</Dependency>
            <Dependency>libavc1394-devel</Dependency>
            <Dependency>libdvdcss-devel</Dependency>
            <Dependency>libv4l-devel</Dependency>
            <Dependency>libogg-devel</Dependency>
            <Dependency>libmatroska-devel</Dependency>
            <Dependency>libmpcdec-devel</Dependency>
            <Dependency>libmad-devel</Dependency>
            <Dependency>libkate-devel</Dependency>
            <Dependency>zvbi-devel</Dependency>
            <Dependency>a52dec-devel</Dependency>
            <Dependency>aalib-devel</Dependency>
            <Dependency>freerdp-devel</Dependency>
            <Dependency>vcdimager-devel</Dependency>
            <Dependency>libdca-devel</Dependency>
            <Dependency>libmpeg2-devel</Dependency>
            <Dependency>libvorbis-devel</Dependency>
            <Dependency>libtheora-devel</Dependency>
            <Dependency>alsa-lib-devel</Dependency>
            <Dependency>lirc-devel</Dependency>
            <Dependency>samba-devel</Dependency>
            <Dependency>libsdl-devel</Dependency>
            <Dependency>fribidi-devel</Dependency>
            <Dependency>libxml2-devel</Dependency>
            <Dependency>kernel-headers</Dependency>
            <Dependency>libmikmod-devel</Dependency>
            <Dependency>speex-devel</Dependency>
            <Dependency>librsvg-devel</Dependency>
            <Dependency>faac-devel</Dependency>
            <Dependency>gnutls-devel</Dependency>
            <Dependency>libmodplug-devel</Dependency>
            <Dependency>libupnp-devel</Dependency>
            <Dependency>libnotify-devel</Dependency>
            <Dependency>xulrunner-devel</Dependency>
            <Dependency>avahi-devel</Dependency>
            <Dependency>pulseaudio-libs-devel</Dependency>
            <Dependency>sdl-image-devel</Dependency>
            <Dependency>schroedinger-devel</Dependency>
            <Dependency>twolame-devel</Dependency>
            <Dependency>fontconfig-devel</Dependency>
            <Dependency>libebml-devel</Dependency>
            <Dependency>libXxf86vm-devel</Dependency>
            <Dependency>libXext-devel</Dependency>
            <Dependency>xcb-util-devel</Dependency>
            <Dependency>xcb-util-keysyms-devel</Dependency>
            <Dependency>libXv-devel</Dependency>
            <Dependency>libXinerama-devel</Dependency>
            <Dependency>taglib-devel</Dependency>
            <Dependency>gtk2-devel</Dependency>
            <Dependency>libcdio-devel</Dependency>
            <Dependency>x264-devel</Dependency>
            <Dependency>ffmpeg-devel</Dependency>
            <Dependency>libcddb-devel</Dependency>
            <Dependency>libdvdnav-devel</Dependency>
            <Dependency>flac-devel</Dependency>
            <Dependency>lua-devel</Dependency>
            <Dependency>libdvbpsi-devel</Dependency>
            <Dependency>faad2-devel</Dependency>
            <Dependency>live555-devel</Dependency>
            <Dependency>libproxy-devel</Dependency>
            <Dependency>libass-devel</Dependency>
            <Dependency>libcaca-devel</Dependency>
            <Dependency>libdc1394-devel</Dependency>
            <Dependency>libraw1394-devel</Dependency>
            <Dependency>libshout-devel</Dependency>
            <Dependency>libva-devel</Dependency>
            <Dependency>minizip-devel</Dependency>
            <Dependency>libmtp-devel</Dependency>
            <Dependency>fluidsynth-devel</Dependency>
            <Dependency>libXt-devel</Dependency>
            <Dependency>libXpm-devel</Dependency>
            <Dependency>libgcrypt-devel</Dependency>
            <Dependency>libgpg-error-devel</Dependency>
            <Dependency>mesa-devel</Dependency>
            <Dependency>libid3tag-devel</Dependency>
            <Dependency>libprojectM-devel</Dependency>
            <Dependency>gdk-pixbuf-devel</Dependency>
            <Dependency>libbluray-devel</Dependency><!--bluray suppport-->
            <Dependency>libcrystalhd-devel</Dependency><!--crystalhd suppport-->
            <Dependency>crystalhd-firmware</Dependency>
            <Dependency>libopus-devel</Dependency>
            <Dependency>mpc</Dependency>
            <Dependency>libsamplerate-devel</Dependency>
        </BuildDependencies>
        <Patches>
            <Patch level="0">vlc-2.1.1-desktop.patch</Patch>
            <Patch level="0">vlc-2.0.4-fix-definition.patch</Patch>
            <Patch level="1">vlc-2.0.7-vaapi-compat.patch</Patch>
            <Patch level="1">vlc-2.1.0-TomWij-bisected-PA-broken-underflow.patch</Patch>
        </Patches>
     </Source>

    <Package>
        <Name>vlc</Name>
        <RuntimeDependencies>
            <Dependency>qt</Dependency>
            <Dependency>fribidi</Dependency>
            <Dependency>libtar</Dependency>
            <Dependency>libXpm</Dependency>
            <Dependency>libXext</Dependency>
            <Dependency>minizip</Dependency>
            <Dependency>libXinerama</Dependency>
            <Dependency>dejavu-fonts</Dependency>
            <Dependency version="current">vlc-libs</Dependency>
        </RuntimeDependencies>
        <Replaces>
            <Package>vlc-plugin</Package>
        </Replaces>
        <Conflicts>
            <Package>vlc-plugin</Package>
        </Conflicts>
        <Files>
            <Path fileType="executable">/usr/bin</Path>
            <!-- Gui library files. -->
            <Path fileType="library">/usr/lib/vlc/plugins/gui</Path>

            <Path fileType="data">/usr/share/vlc</Path>
            <Path fileType="data">/usr/share/applications</Path>
            <Path fileType="data">/usr/share/icons</Path>
            <Path fileType="data">/usr/share/kde4/apps/solid/actions</Path>
            <Path fileType="doc">/usr/share/doc</Path>
            <Path fileType="man">/usr/share/man</Path>
            <Path fileType="localedata">/usr/share/locale</Path>
        </Files>
        <Provides>
            <COMAR script="package.py">System.Package</COMAR>
        </Provides>
    </Package>

    <Package>
        <Name>vlc-lua</Name>
        <Summary>Lua scripting for VLC</Summary>
        <RuntimeDependencies>
            <Dependency>lua</Dependency>
            <Dependency version="current">vlc-libs</Dependency>
        </RuntimeDependencies>
        <Files>
            <Path fileType="library">/usr/lib/vlc/lua</Path>
            <Path fileType="library">/usr/lib/vlc/plugins/misc/liblua_plugin.so</Path>
        </Files>
    </Package>

    <Package>
        <Name>vlc-libs</Name>
        <Summary>Codec and plugin library files for VLC</Summary>
        <RuntimeDependencies>
            <Dependency>lua</Dependency>
            <Dependency>zvbi</Dependency> 
            <Dependency>x264</Dependency>
            <Dependency>mesa</Dependency>
            <Dependency>lirc</Dependency>
            <Dependency>gtk2</Dependency>
            <Dependency>flac</Dependency>
            <Dependency>speex</Dependency>
            <Dependency>libva</Dependency>
            <Dependency>samba</Dependency>
            <Dependency>faad2</Dependency>
            <Dependency>aalib</Dependency>
            <Dependency>a52dec</Dependency>
            <Dependency>libdca</Dependency>
            <Dependency>taglib</Dependency>
            <Dependency>libogg</Dependency>
            <Dependency>gnutls</Dependency>
            <Dependency>libsdl</Dependency>
            <Dependency>libmtp</Dependency>
            <Dependency>libmad</Dependency>
            <Dependency>ffmpeg</Dependency>
            <Dependency>libass</Dependency>
            <Dependency>freerdp</Dependency>
            <Dependency>libebml</Dependency>
            <Dependency>live555</Dependency>
            <Dependency>librsvg</Dependency>
            <Dependency>twolame</Dependency>
            <Dependency>libkate</Dependency>
            <Dependency>libcddb</Dependency>
            <Dependency>libupnp</Dependency>
            <Dependency>libcaca</Dependency>
            <Dependency>fribidi</Dependency>
            <Dependency>libopus</Dependency>
            <Dependency>libcdio</Dependency>
            <Dependency>minizip</Dependency>
            <Dependency>alsa-lib</Dependency>
            <Dependency>libvdpau</Dependency>
            <Dependency>libshout</Dependency>
            <Dependency>libmpeg2</Dependency>
            <Dependency>libdc1394</Dependency>
            <Dependency>libdvbpsi</Dependency>
            <Dependency>libdvdnav</Dependency>
            <Dependency>vcdimager</Dependency>
            <Dependency>libnotify</Dependency>
            <Dependency>libmpcdec</Dependency>
            <Dependency>libtheora</Dependency>
            <Dependency>libbluray</Dependency>
            <Dependency>sdl-image</Dependency>
            <Dependency>libvorbis</Dependency>
            <Dependency>libavc1394</Dependency>
            <Dependency>libdvdread</Dependency>
            <Dependency>fluidsynth</Dependency>
            <Dependency>libraw1394</Dependency>
            <Dependency>fontconfig</Dependency>
            <Dependency>gdk-pixbuf</Dependency>
            <Dependency>libmodplug</Dependency>
            <Dependency>libprojectM</Dependency>
            <Dependency>libmatroska</Dependency>
            <Dependency>libvncserver</Dependency>
            <Dependency>libcrystalhd</Dependency>
            <Dependency>schroedinger</Dependency>
            <Dependency>libsamplerate</Dependency>
            <Dependency>libchromaprint</Dependency>
            <Dependency>pulseaudio-libs</Dependency>
            <Dependency>xcb-util-keysyms</Dependency>
            <!--crystalhd suppport-->
            <Dependency>crystalhd-firmware</Dependency>
        </RuntimeDependencies>
        <Files>
            <Path fileType="library">/usr/lib/libvlc*</Path>
            <Path fileType="library">/usr/lib/vlc</Path>
        </Files>
    </Package>

    <Package>
        <Name>vlc-devel</Name>
        <Summary>Development files for vlc</Summary>
        <RuntimeDependencies>
            <Dependency version="current">vlc-libs</Dependency>
        </RuntimeDependencies>
        <Files>
            <Path fileType="header">/usr/include</Path>
            <Path fileType="data">/usr/lib/pkgconfig</Path>
        </Files>
    </Package>

    <History>
        <Update release="11">
            <Date>2014-02-05</Date>
            <Version>2.1.3</Version>
            <Comment>Version bump.</Comment>
            <Name>Yusuf Aydemir</Name>
            <Email>yusuf.aydemir@pisilinux.org</Email>
        </Update>
        <Update release="10">
            <Date>2013-11-26</Date>
            <Version>2.1.1</Version>
            <Comment>Rebuild for ffmpeg.</Comment>
            <Name>Osman Erkan</Name>
            <Email>osman.erkan@pisilinux.org</Email>
        </Update>
        <Update release="10">
            <Date>2013-11-16</Date>
            <Version>2.1.1</Version>
            <Comment>Version bump.</Comment>
            <Name>Osman Erkan</Name>
            <Email>osman.erkan@pisilinux.org</Email>
        </Update>
        <Update release="9">
            <Date>2013-11-10</Date>
            <Version>2.1.0</Version>
            <Comment>Version bump.</Comment>
            <Name>Marcin Bojara</Name>
            <Email>marcin@pisilinux.org</Email>
        </Update>
        <Update release="8">
            <Date>2013-08-05</Date>
            <Version>2.0.8a</Version>
            <Comment>V.bump.</Comment>
            <Name>Osman Erkan</Name>
            <Email>osman.erkan@pisilinux.org</Email>
        </Update>
        <Update release="7">
            <Date>2013-08-01</Date>
            <Version>2.0.8</Version>
            <Comment>V.bump.</Comment>
            <Name>Osman Erkan</Name>
            <Email>osman.erkan@pisilinux.org</Email>
        </Update>
        <Update release="6">
            <Date>2013-07-29</Date>
            <Version>2.0.7</Version>
            <Comment>missing dep.</Comment>
            <Name>Erdinç Gültekin</Name>
            <Email>erdincgultekin@pisilinux.org</Email>
        </Update>
        <Update release="5">
            <Date>2013-06-21</Date>
            <Version>2.0.7</Version>
            <Comment>Version bump.</Comment>
            <Name>Yusuf Aydemir</Name>
            <Email>yusuf.aydemir@pisilinux.org</Email>
        </Update>
        <Update release="4">
            <Date>2013-06-01</Date>
            <Version>2.0.6</Version>
            <Comment>Dep Fixed</Comment>
            <Name>Osman Erkan</Name>
            <Email>osman.erkan@pisilinux.org</Email>
        </Update>  
        <Update release="3">
            <Date>2013-06-01</Date>
            <Version>2.0.6</Version>
            <Comment>Dep Fixed</Comment>
            <Name>Osman Erkan</Name>
            <Email>osman.erkan@pisilinux.org</Email>
        </Update>  
        <Update release="2">
            <Date>2013-04-11</Date>
            <Version>2.0.6</Version>
            <Comment>Version bump</Comment>
            <Name>Yusuf Aydemir</Name>
            <Email>yusuf.aydemir@pisilinux.org</Email>
        </Update>      
        <Update release="1">
            <Date>2012-12-15</Date>
            <Version>2.0.5</Version>
            <Comment>First release</Comment>
            <Name>Marcin Bojara</Name>
            <Email>marcin@pisilinux.org</Email>
        </Update>
    </History>
</PISI>
